import{N as Se,d as q,M as ze,w as Ae,x as _e,y as Ne,e as Ue,r as Oe,A as Me,B as De,o as Pe,z as Ge,v as Re}from"./element-plus-secondary-0.0.0-dataease.js";import{d as Be,k as C,r as Y,i as Le,w as le,l as qe,b as Ye,o as c,Z as g,_ as r,a0 as s,u as i,z as F,Y as V,a4 as M,c as x,ab as z,M as E,a as G,a2 as N,$ as ae,W as je,X as Je}from"./@vue-0.0.0-dataease.js";import{i as We}from"./icon_info_outlined-0.0.0-dataease.js";import{j as Xe,h as j}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{I as J,a as Ze}from"./chart-0.0.0-dataease.js";import{y as He,x as Ke,o as Qe,L as et,A as tt,e as re,M as se}from"./lodash-es-0.0.0-dataease.js";import{a as ie,u as me}from"./formatter-0.0.0-dataease.js";import{f as O}from"./attr-0.0.0-dataease20.js";import{c as ue}from"./index-0.0.0-dataease12.js";import{d as ot}from"./dvMain-0.0.0-dataease.js";import{s as lt}from"./pinia-0.0.0-dataease.js";import{u as D}from"./index-0.0.0-dataease.js";import{i as ne}from"./field-list-0.0.0-dataease.js";import{_ as at}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./escape-html-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./vue-router-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./@antv-0.0.0-dataease.js";import"./eventemitter3-0.0.0-dataease.js";import"./@mapbox-0.0.0-dataease.js";import"./pbf-0.0.0-dataease.js";import"./ieee754-0.0.0-dataease.js";import"./supercluster-0.0.0-dataease.js";import"./gl-matrix-0.0.0-dataease.js";import"./tslib-0.0.0-dataease.js";import"./topojson-client-0.0.0-dataease.js";import"./viewport-mercator-project-0.0.0-dataease.js";import"./@turf-0.0.0-dataease.js";import"./polygon-clipping-0.0.0-dataease.js";import"./splaytree-0.0.0-dataease.js";import"./robust-predicates-0.0.0-dataease.js";import"./d3-scale-0.0.0-dataease.js";import"./d3-collection-0.0.0-dataease.js";import"./d3-format-0.0.0-dataease.js";import"./d3-time-format-0.0.0-dataease.js";import"./d3-time-0.0.0-dataease.js";import"./d3-color-0.0.0-dataease.js";import"./d3-array-0.0.0-dataease.js";import"./earcut-0.0.0-dataease.js";import"./regl-0.0.0-dataease.js";import"./mapbox-gl-0.0.0-dataease.js";import"./d3-dsv-0.0.0-dataease.js";import"./geojson-vt-0.0.0-dataease.js";import"./hammerjs-0.0.0-dataease.js";import"./element-resize-detector-0.0.0-dataease.js";import"./batch-processor-0.0.0-dataease.js";import"./d3-hexbin-0.0.0-dataease.js";import"./detect-browser-0.0.0-dataease.js";import"./d3-ease-0.0.0-dataease.js";import"./d3-interpolate-0.0.0-dataease.js";import"./d3-timer-0.0.0-dataease.js";import"./fecha-0.0.0-dataease.js";import"./size-sensor-0.0.0-dataease.js";import"./d3-regression-0.0.0-dataease.js";import"./d3-hierarchy-0.0.0-dataease.js";import"./fmin-0.0.0-dataease.js";import"./pdfast-0.0.0-dataease.js";import"./mathjs-0.0.0-dataease.js";import"./decimal.js-0.0.0-dataease.js";import"./typed-function-0.0.0-dataease.js";import"./complex.js-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./exceljs-0.0.0-dataease.js";import"./file-saver-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./snowflake-id-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./less-0.0.0-dataease.js";import"./copy-anything-0.0.0-dataease.js";import"./is-what-0.0.0-dataease.js";import"./dataset-0.0.0-dataease.js";const rt={key:0},st={class:"data-area-label"},it={style:{"margin-right":"4px"}},mt={key:2},ut={style:{"padding-left":"22px"}},nt={key:3,class:"carousel"},dt=Be({__name:"TooltipSelector",props:{chart:{type:Object,required:!0},themes:{type:String,default:"dark"},allFields:{type:Array,required:!1},propertyInner:{type:Array}},emits:["onTooltipChange","onExtTooltipChange"],setup(f,{emit:de}){const{t:n}=Xe(),v=f,pe=ot(),{batchOptStatus:W,mobileInPc:X}=lt(pe),Z=Ze,H=C(()=>v.themes==="dark"?"ndark":"dark"),U=de,m=Y({}),A=Y(Le("quotaData")),R=C(()=>$("seriesTooltipFormatter")&&!W.value&&!X.value&&v.chart.id),fe=()=>{if(!R.value)return;m.value={};const o=a.tooltipForm.seriesTooltipFormatter;o.splice(0,o.length);const e=[];S.value.forEach(d=>{o.push({...d,show:!0}),e.push(d.id)}),A.value.forEach(d=>{e.includes(d.id)||o.push({...d,seriesId:d.id,show:!1})}),U("onTooltipChange",{data:a.tooltipForm,render:!1},"seriesTooltipFormatter"),U("onExtTooltipChange",B.value)},ce=()=>{m.value={};const o=a.tooltipForm.seriesTooltipFormatter,e=A.value.map(l=>l.id);for(let l=o.length-1;l>=0;l--)e.includes(o[l].id)||o.splice(l,1);const d=o.map(l=>l.id);A.value.forEach(l=>{d.includes(l.id)||o.push({...l,seriesId:l.id,show:!1})})},K=["yAxis","yAxisExt","extBubble"],S=C(()=>{let o=[];return K.forEach(e=>{var l,p;if(!((p=(l=be.value)==null?void 0:l.axis)!=null&&p.includes(e)))return;const d=v.chart[e];d==null||d.forEach(u=>{o.push({...u,seriesId:`${u.id}-${e}`})})}),o}),ve=C(()=>He(S.value,o=>o.id));function he(o){return v.chart.type.includes("chart-mix")?et(ve.value,o.id):!0}const B=C(()=>{var e;const o=(e=S.value)==null?void 0:e.map(d=>d.id);return a.tooltipForm.seriesTooltipFormatter.filter(d=>{var l;return!o.includes(d.id)&&d.show&&((l=A.value)==null?void 0:l.findIndex(p=>p.id===d.id))!==-1})}),Fe=C(()=>{var o;return((o=S.value)==null?void 0:o.findIndex(e=>m.value.id===e.id))===-1&&m.value.id!=="-1"}),ye=C(()=>{var o;return((o=S.value)==null?void 0:o.findIndex(e=>m.value.id===e.id))!==-1}),Q=C(()=>{var o,e;return $("seriesTooltipFormatter")&&(((o=v.chart.yAxis)==null?void 0:o.length)||((e=v.chart.yAxisExt)==null?void 0:e.length))}),be=C(()=>ue.getChartView(v.chart.render,v.chart.type)),ge=[{name:n("chart.sum"),value:"sum"},{name:n("chart.avg"),value:"avg"},{name:n("chart.max"),value:"max"},{name:n("chart.min"),value:"min"},{name:n("chart.stddev_pop"),value:"stddev_pop"},{name:n("chart.var_pop"),value:"var_pop"},{name:n("chart.count"),value:"count"},{name:n("chart.count_distinct"),value:"count_distinct"}],Te=[{name:n("chart.count"),value:"count"},{name:n("chart.count_distinct"),value:"count_distinct"}],Ve=[0,1,5],we=C(()=>{var o;return Ve.includes((o=m.value)==null?void 0:o.deType)?Te:ge}),Ce=C(()=>{if(v.chart.type==="bar-range"){const o=v.chart.yAxis[0],e=v.chart.yAxisExt[0];if(o&&o.groupType==="d"||e&&e.groupType==="d")return!0}return!1});le([()=>v.chart.customAttr.tooltip,()=>v.chart.customAttr.tooltip.show],()=>{te()},{deep:!1});const a=qe({tooltipForm:{tooltipFormatter:J.tooltipFormatter,carousel:J.carousel}}),xe=C(()=>{const o=[];for(let e=10;e<=40;e=e+2)o.push({name:e+"",value:e});for(let e=50;e<=200;e=e+10)o.push({name:e+"",value:e});return o}),b=(o,e=!1,d=!0)=>{o==="seriesTooltipFormatter"&&U("onExtTooltipChange",B.value),U("onTooltipChange",{data:a.tooltipForm,requestData:e,render:d},o)},ee=Y(),te=()=>{var e,d,l,p;const o=JSON.parse(JSON.stringify(v.chart));if(o.customAttr){const u=JSON.parse(JSON.stringify(o.customAttr));if(u.tooltip){a.tooltipForm=tt(u.tooltip,re(J)),(e=ee.value)==null||e.blur();const y=a.tooltipForm.seriesTooltipFormatter;if(!y.length){(d=A.value)==null||d.forEach(k=>y.push({...k,seriesId:k.id,show:!1})),m.value={};return}const I=y.reduce((k,T)=>(T.seriesId=T.seriesId??T.id,k[T.seriesId]=T,k),{});!(m!=null&&m.value)||!I[(l=m.value)==null?void 0:l.seriesId]?m.value={}:m.value=I[(p=m.value)==null?void 0:p.seriesId]}}},$=o=>{var d,l;const e=ue.getChartView(v.chart.render,v.chart.type);return e?(d=e.propertyInner["tooltip-selector"])==null?void 0:d.includes(o):(l=v.propertyInner)==null?void 0:l.includes(o)},L=o=>{var l;const{axisType:e,editType:d}=o;if(!(!R.value||!a.tooltipForm.seriesTooltipFormatter.length||!((l=A.value)!=null&&l.length)||!K.includes(e))){switch(d){case"add":ke(o);break;case"remove":Ie(o);break;case"update":Ee(o);break}U("onTooltipChange",{data:a.tooltipForm,render:!1},"seriesTooltipFormatter"),U("onExtTooltipChange",B.value)}},ke=o=>{const{axis:e,axisType:d}=o,l=e.reduce((u,y)=>(y&&(y.axisType=d,y.seriesId=`${y.id}-${d}`,u[y.id]=y),u),{}),p=[];a.tooltipForm.seriesTooltipFormatter.forEach(u=>{if(l[u.id])if(u.show=!0,u.seriesId===u.id)u.seriesId=l[u.id].seriesId,u.axisType=l[u.id].axisType,u.summary=l[u.id].summary,u.chartShowName=l[u.id].chartShowName;else{if(p.findIndex(I=>I.id===u.id)!==-1)return;const y=re(l[u.id]);y.show=!0,p.push(y)}}),a.tooltipForm.seriesTooltipFormatter=se(a.tooltipForm.seriesTooltipFormatter.concat(p),u=>S.value.findIndex(y=>y.id===u.id)!==-1).flat()},Ie=o=>{var y,I,k,T,_;const{axis:e,axisType:d}=o,l=e.reduce((h,w)=>(w&&(w.axisType=d,w.seriesId=`${w.id}-${d}`,h[w.seriesId]=w),h),{}),p=(y=A.value)==null?void 0:y.map(h=>h.id),u=a.tooltipForm.seriesTooltipFormatter.reduce((h,w)=>(h[w.id]!==void 0?h[`${w.id}-${d}`]=!0:h[w.id]=!1,h),{});if(a.tooltipForm.seriesTooltipFormatter=(I=a.tooltipForm.seriesTooltipFormatter)==null?void 0:I.filter(h=>(p==null?void 0:p.includes(h.id))&&!u[h.seriesId]),a.tooltipForm.seriesTooltipFormatter.forEach(h=>{l[h.seriesId]&&(h.show=!1,h.summary=l[h.seriesId].summary,h.seriesId=h.id)}),a.tooltipForm.seriesTooltipFormatter=se(a.tooltipForm.seriesTooltipFormatter,h=>S.value.findIndex(w=>w.id===h.id)!==-1).flat(),!((k=S.value)!=null&&k.length)){m.value={};return}l[(T=m.value)==null?void 0:T.seriesId]&&(m.value=(_=a.tooltipForm.seriesTooltipFormatter)==null?void 0:_[0])},Ee=o=>{const{axis:e,axisType:d}=o,l=e.reduce((p,u)=>(u&&(u.axisType=d,u.seriesId=`${u.id}-${d}`,p[u.seriesId]=u),p),{});a.tooltipForm.seriesTooltipFormatter.forEach(p=>{var u,y;l[p.seriesId]&&(p.chartShowName=(u=l[p.seriesId])==null?void 0:u.chartShowName,p.summary=((y=l[p.seriesId])==null?void 0:y.summary)??p.summary)})},P=C(()=>Ke(v.allFields,[]).map(o=>({key:o.dataeaseName,name:o.name,value:`${o.dataeaseName}@${o.name}`,disabled:!1}))),$e=C(()=>a.tooltipForm.showFields&&a.tooltipForm.showFields.length>0?a.tooltipForm.showFields.filter(o=>!Qe(o)).map(o=>o.split("@")[1]+": ${"+o.split("@")[1]+"}").join(`
`):"");return le(()=>P.value,()=>{var e;if(!$("showFields"))return;let o=[];(e=a.tooltipForm.showFields)==null||e.forEach(d=>{var l;(l=P.value)!=null&&l.map(p=>p.value).includes(d)&&o.push(d)}),a.tooltipForm.showFields=o,P.value.length>0&&b("showFields")}),Ye(()=>{te(),D({name:"addAxis",callback:L}),D({name:"removeAxis",callback:L}),D({name:"updateAxis",callback:L}),D({name:"chart-type-change",callback:fe}),D({name:"dataset-change",callback:ce})}),(o,e)=>{const d=ze,l=Ae,p=_e,u=Ne,y=Ue,I=Oe,k=Me,T=De,_=Pe,h=Ge,w=Re;return c(),g(w,{ref:"tooltipForm",disabled:!a.tooltipForm.show,model:a.tooltipForm,"label-position":"top"},{default:r(()=>{var oe;return[s(l,{label:i(n)("chart.background")+i(n)("chart.color"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(d,{effect:f.themes,modelValue:a.tooltipForm.backgroundColor,"onUpdate:modelValue":e[0]||(e[0]=t=>a.tooltipForm.backgroundColor=t),class:"color-picker-style",predefine:i(Z),onChange:e[1]||(e[1]=t=>b("backgroundColor")),"is-custom":"","trigger-width":108},null,8,["effect","modelValue","predefine"])]),_:1},8,["label","class"]),s(i(Se),null,{default:r(()=>[$("color")?(c(),g(l,{key:0,class:F(["form-item","form-item-"+f.themes]),label:i(n)("chart.text")},{default:r(()=>[s(d,{effect:f.themes,modelValue:a.tooltipForm.color,"onUpdate:modelValue":e[2]||(e[2]=t=>a.tooltipForm.color=t),class:"color-picker-style",predefine:i(Z),onChange:e[3]||(e[3]=t=>b("color")),"is-custom":""},null,8,["effect","modelValue","predefine"])]),_:1},8,["class","label"])):V("",!0),$("fontSize")?(c(),g(l,{key:1,class:F(["form-item","form-item-"+f.themes])},{label:r(()=>e[45]||(e[45]=[M(" ")])),default:r(()=>[s(y,{content:i(n)("chart.font_size"),effect:H.value,placement:"top"},{default:r(()=>[s(u,{size:"small",style:{width:"108px"},effect:f.themes,modelValue:a.tooltipForm.fontSize,"onUpdate:modelValue":e[4]||(e[4]=t=>a.tooltipForm.fontSize=t),modelModifiers:{number:!0},placeholder:i(n)("chart.text_fontsize"),onChange:e[5]||(e[5]=t=>b("fontSize"))},{default:r(()=>[(c(!0),x(E,null,z(xe.value,t=>(c(),g(p,{key:t.value,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue","placeholder"])]),_:1},8,["content","effect"])]),_:1},8,["class"])):V("",!0)]),_:1}),$("showFields")&&!i(W)&&!i(X)?(c(),x("div",rt,[s(l,{label:i(n)("chart.tooltip"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(u,{size:"small",effect:f.themes,filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",modelValue:a.tooltipForm.showFields,"onUpdate:modelValue":e[6]||(e[6]=t=>a.tooltipForm.showFields=t),onChange:e[7]||(e[7]=t=>b("showFields"))},{default:r(()=>[(c(!0),x(E,null,z(P.value,t=>(c(),g(p,{key:t.key,label:t.name,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"]),$("customContent")?(c(),g(l,{key:0,class:F("form-item-"+f.themes)},{label:r(()=>[G("span",st,[G("span",it,N(i(n)("chart.content_formatter")),1),s(y,{class:"item",effect:H.value,placement:"bottom"},{content:r(()=>[G("div",null,N(i(n)("chart.custom_tooltip_content_tip")),1)]),default:r(()=>[s(i(q),{class:F(["hint-icon",{"hint-icon--dark":f.themes==="dark"}])},{default:r(()=>[s(j,{name:"icon_info_outlined"},{default:r(()=>[s(i(We),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["effect"])])]),default:r(()=>[s(I,{style:{"font-size":"smaller","font-weight":"normal"},effect:f.themes,modelValue:a.tooltipForm.customContent,"onUpdate:modelValue":e[8]||(e[8]=t=>a.tooltipForm.customContent=t),type:"textarea",autosize:{minRows:4,maxRows:4},placeholder:$e.value,onBlur:e[9]||(e[9]=t=>b("customContent"))},null,8,["effect","modelValue","placeholder"])]),_:1},8,["class"])):V("",!0)])):V("",!0),$("tooltipFormatter")&&!Ce.value?(c(),x(E,{key:1},[s(l,{label:i(n)("chart.value_formatter_type"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(u,{size:"small",style:{width:"100%"},effect:v.themes,modelValue:a.tooltipForm.tooltipFormatter.type,"onUpdate:modelValue":e[10]||(e[10]=t=>a.tooltipForm.tooltipFormatter.type=t),onChange:e[11]||(e[11]=t=>b("tooltipFormatter.type"))},{default:r(()=>[(c(!0),x(E,null,z(i(ie),t=>(c(),g(p,{key:t.value,label:i(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"]),a.tooltipForm.tooltipFormatter.type!=="auto"?(c(),g(l,{key:0,label:i(n)("chart.value_formatter_decimal_count"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(k,{"controls-position":"right",style:{width:"100%"},effect:v.themes,modelValue:a.tooltipForm.tooltipFormatter.decimalCount,"onUpdate:modelValue":e[12]||(e[12]=t=>a.tooltipForm.tooltipFormatter.decimalCount=t),precision:0,min:0,max:10,size:"small",onChange:e[13]||(e[13]=t=>b("tooltipFormatter.decimalCount"))},null,8,["effect","modelValue"])]),_:1},8,["label","class"])):V("",!0),a.tooltipForm.tooltipFormatter.type!=="percent"?(c(),g(_,{key:1,gutter:8},{default:r(()=>[s(T,{span:12},{default:r(()=>[s(l,{label:i(n)("chart.value_formatter_unit"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(u,{disabled:a.tooltipForm.tooltipFormatter.type==="percent",effect:v.themes,modelValue:a.tooltipForm.tooltipFormatter.unit,"onUpdate:modelValue":e[14]||(e[14]=t=>a.tooltipForm.tooltipFormatter.unit=t),placeholder:i(n)("chart.pls_select_field"),size:"small",onChange:e[15]||(e[15]=t=>b("tooltipFormatter.unit"))},{default:r(()=>[(c(!0),x(E,null,z(i(me),t=>(c(),g(p,{key:t.value,label:i(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1}),s(T,{span:12},{default:r(()=>[s(l,{label:i(n)("chart.value_formatter_suffix"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(I,{effect:v.themes,modelValue:a.tooltipForm.tooltipFormatter.suffix,"onUpdate:modelValue":e[16]||(e[16]=t=>a.tooltipForm.tooltipFormatter.suffix=t),size:"small",clearable:"",placeholder:i(n)("commons.input_content"),onChange:e[17]||(e[17]=t=>b("tooltipFormatter.suffix"))},null,8,["effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})]),_:1})):V("",!0),s(l,{class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(h,{size:"small",effect:v.themes,modelValue:a.tooltipForm.tooltipFormatter.thousandSeparator,"onUpdate:modelValue":e[18]||(e[18]=t=>a.tooltipForm.tooltipFormatter.thousandSeparator=t),onChange:e[19]||(e[19]=t=>b("tooltipFormatter.thousandSeparator")),label:i(n)("chart.value_formatter_thousand_separator")},null,8,["effect","modelValue","label"])]),_:1},8,["class"])],64)):V("",!0),R.value?(c(),x("div",mt,[s(l,null,{default:r(()=>[s(u,{size:"small",modelValue:m.value,"onUpdate:modelValue":e[20]||(e[20]=t=>m.value=t),disabled:!Q.value,effect:f.themes,ref_key:"formatterSelector",ref:ee,"value-key":"seriesId",class:"series-select"},{prefix:r(()=>[m.value.seriesId?(c(),g(i(q),{key:0,style:{"font-size":"14px"}},{default:r(()=>[s(j,{className:`field-icon-${i(O)[m.value.deType]}`},{default:r(()=>[(c(),g(ae(i(ne)[i(O)[m.value.deType]]),{class:F(["svg-icon",`field-icon-${i(O)[m.value.deType]}`])},null,8,["class"]))]),_:1},8,["className"])]),_:1})):V("",!0)]),default:r(()=>[(c(!0),x(E,null,z(a.tooltipForm.seriesTooltipFormatter,t=>(c(),x(E,{key:t.seriesId},[he(t)?(c(),g(p,{key:0,class:"series-select-option",value:t,label:`${t.name}${t.summary!==""?"("+i(n)("chart."+t.summary)+")":""}`},{default:r(()=>[s(i(q),{style:{"margin-right":"8px"}},{default:r(()=>[s(j,{className:`field-icon-${i(O)[t.deType]}`},{default:r(()=>[(c(),g(ae(i(ne)[i(O)[t.deType]]),{class:F(["svg-icon",`field-icon-${i(O)[t.deType]}`])},null,8,["class"]))]),_:2},1032,["className"])]),_:2},1024),M(" "+N(t.name)+" "+N(t.summary!==""?"("+i(n)("chart."+t.summary)+")":""),1)]),_:2},1032,["value","label"])):V("",!0)],64))),128))]),_:1},8,["modelValue","disabled","effect"])]),_:1}),(oe=m.value)!=null&&oe.seriesId?(c(),x(E,{key:0},[s(l,{class:F(["form-item form-item-checkbox","form-item-"+f.themes])},{default:r(()=>[s(h,{disabled:!Q.value,modelValue:m.value.show,"onUpdate:modelValue":e[21]||(e[21]=t=>m.value.show=t),effect:f.themes,size:"small",label:"quota",onChange:e[22]||(e[22]=t=>b("seriesTooltipFormatter",!0))},{default:r(()=>[M(N(i(n)("chart.show")),1)]),_:1},8,["disabled","modelValue","effect"])]),_:1},8,["class"]),G("div",ut,[s(l,{class:F(["form-item","form-item-"+f.themes]),label:i(n)("chart.show_name")},{default:r(()=>[s(I,{effect:f.themes,size:"small",maxlength:20,onChange:e[23]||(e[23]=t=>b("seriesTooltipFormatter")),modelValue:m.value.chartShowName,"onUpdate:modelValue":e[24]||(e[24]=t=>m.value.chartShowName=t),disabled:!m.value.show||ye.value},null,8,["effect","modelValue","disabled"])]),_:1},8,["class","label"]),Fe.value?(c(),g(_,{key:0},{default:r(()=>[s(T,null,{default:r(()=>[s(l,{label:i(n)("common.please_select")+i(n)("chart.aggregation"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(u,{size:"small",modelValue:m.value.summary,"onUpdate:modelValue":e[25]||(e[25]=t=>m.value.summary=t),disabled:!m.value.show,effect:v.themes,onChange:e[26]||(e[26]=t=>b("seriesTooltipFormatter",!0))},{default:r(()=>[(c(!0),x(E,null,z(we.value,t=>(c(),g(p,{label:t.name,value:t.value,key:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","effect"])]),_:1},8,["label","class"])]),_:1})]),_:1})):V("",!0),s(l,{label:i(n)("chart.value_formatter_type"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(u,{size:"small",disabled:!m.value.show,style:{width:"100%"},effect:v.themes,modelValue:m.value.formatterCfg.type,"onUpdate:modelValue":e[27]||(e[27]=t=>m.value.formatterCfg.type=t),onChange:e[28]||(e[28]=t=>b("seriesTooltipFormatter"))},{default:r(()=>[(c(!0),x(E,null,z(i(ie),t=>(c(),g(p,{key:t.value,label:i(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue"])]),_:1},8,["label","class"]),m.value.formatterCfg.type!=="auto"?(c(),g(l,{key:1,label:i(n)("chart.value_formatter_decimal_count"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(k,{"controls-position":"right",disabled:!m.value.show,style:{width:"100%"},effect:v.themes,modelValue:m.value.formatterCfg.decimalCount,"onUpdate:modelValue":e[29]||(e[29]=t=>m.value.formatterCfg.decimalCount=t),precision:0,min:0,max:10,size:"small",onChange:e[30]||(e[30]=t=>b("seriesTooltipFormatter"))},null,8,["disabled","effect","modelValue"])]),_:1},8,["label","class"])):V("",!0),m.value.formatterCfg.type!=="percent"?(c(),g(_,{key:2,gutter:8},{default:r(()=>[s(T,{span:12},{default:r(()=>[s(l,{label:i(n)("chart.value_formatter_unit"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(u,{disabled:!m.value.show||m.value.formatterCfg.type=="percent",effect:v.themes,modelValue:m.value.formatterCfg.unit,"onUpdate:modelValue":e[31]||(e[31]=t=>m.value.formatterCfg.unit=t),placeholder:i(n)("chart.pls_select_field"),size:"small",onChange:e[32]||(e[32]=t=>b("seriesTooltipFormatter"))},{default:r(()=>[(c(!0),x(E,null,z(i(me),t=>(c(),g(p,{key:t.value,label:i(n)("chart."+t.name),value:t.value},null,8,["label","value"]))),128))]),_:1},8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1}),s(T,{span:12},{default:r(()=>[s(l,{label:i(n)("chart.value_formatter_suffix"),class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(I,{disabled:!m.value.show,effect:v.themes,modelValue:m.value.formatterCfg.suffix,"onUpdate:modelValue":e[33]||(e[33]=t=>m.value.formatterCfg.suffix=t),size:"small",clearable:"",placeholder:i(n)("commons.input_content"),onChange:e[34]||(e[34]=t=>b("seriesTooltipFormatter"))},null,8,["disabled","effect","modelValue","placeholder"])]),_:1},8,["label","class"])]),_:1})]),_:1})):V("",!0),s(l,{class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(h,{disabled:!m.value.show,size:"small",effect:v.themes,modelValue:m.value.formatterCfg.thousandSeparator,"onUpdate:modelValue":e[35]||(e[35]=t=>m.value.formatterCfg.thousandSeparator=t),onChange:e[36]||(e[36]=t=>b("seriesTooltipFormatter")),label:i(n)("chart.value_formatter_thousand_separator")},null,8,["disabled","effect","modelValue","label"])]),_:1},8,["class"])])],64)):V("",!0)])):V("",!0),je(s(l,{class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(h,{effect:f.themes,size:"small",onChange:e[37]||(e[37]=t=>b("showGap")),modelValue:a.tooltipForm.showGap,"onUpdate:modelValue":e[38]||(e[38]=t=>a.tooltipForm.showGap=t)},{default:r(()=>[M(N(i(n)("chart.show_gap")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),[[Je,$("showGap")]]),$("carousel")?(c(),x("div",nt,[s(l,{class:F(["form-item","form-item-"+f.themes])},{default:r(()=>[s(h,{effect:f.themes,size:"small",onChange:e[39]||(e[39]=t=>b("carousel")),modelValue:a.tooltipForm.carousel.enable,"onUpdate:modelValue":e[40]||(e[40]=t=>a.tooltipForm.carousel.enable=t)},{default:r(()=>[M(N(i(n)("chart.carousel_enable")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),s(_,{gutter:8},{default:r(()=>[s(T,{span:12},{default:r(()=>[s(l,{label:i(n)("chart.carousel_stay_time"),class:F(["form-item w100","form-item-"+f.themes])},{default:r(()=>[s(k,{style:{width:"100%"},effect:f.themes,"controls-position":"right",size:"middle",min:0,max:600,disabled:!a.tooltipForm.carousel.enable,onChange:e[41]||(e[41]=t=>b("carousel")),modelValue:a.tooltipForm.carousel.stayTime,"onUpdate:modelValue":e[42]||(e[42]=t=>a.tooltipForm.carousel.stayTime=t)},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"])]),_:1}),s(T,{span:12},{default:r(()=>[s(l,{label:i(n)("chart.carousel_interval"),class:F(["form-item w100","form-item-"+f.themes])},{default:r(()=>[s(k,{style:{width:"100%"},effect:f.themes,"controls-position":"right",size:"middle",min:0,max:600,disabled:!a.tooltipForm.carousel.enable,onChange:e[43]||(e[43]=t=>b("carousel")),modelValue:a.tooltipForm.carousel.intervalTime,"onUpdate:modelValue":e[44]||(e[44]=t=>a.tooltipForm.carousel.intervalTime=t)},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"])]),_:1})]),_:1})])):V("",!0)]}),_:1},8,["disabled","model"])}}});const kl=at(dt,[["__scopeId","data-v-4f1577c6"]]);export{kl as default};

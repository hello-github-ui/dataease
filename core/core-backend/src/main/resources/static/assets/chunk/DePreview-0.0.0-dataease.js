import{ah as Lt,n as Mt,f as S,L as J,M as G,g as se,m as Na,d as dt,t as Kt,Y as Ft,a9 as Mn,i as B,a5 as st,a6 as we,j as s,r as Z,k as H,a3 as bi,G as j,Z as Qn,o as mn,a as ya,w as An,e as co,a0 as K,ab as Jn,U as Bt,h as Ta,aa as Co,T as Et,V as ht,$ as Yo,W as Jt,B as wi,aw as cr,a8 as dr,a4 as fr,ak as pr}from"./vue-0.0.0-dataease.js";import{b as Va,a as fi,t as vr,g as fo,d as _o,e as po,f as xi,s as $a,h as hr}from"./style-0.0.0-dataease.js";import{e as He}from"./eventBus-0.0.0-dataease.js";import gr from"./Component-0.0.0-dataease16.js";import{d as mr,V as yr}from"./Component-0.0.0-dataease15.js";import Cr from"./Attr-0.0.0-dataease19.js";import{d as zt}from"./dvMain-0.0.0-dataease.js";import{u as tt,a5 as Si,F as ki,a as _r}from"./index-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import{P as sa,y as In,o as En,n as vn,j as Hn,at as pi,Q as Ii,i as Ha,v as bo,D as ja,C as br,u as wr,au as xr,av as Sr,G as kr,r as Uo}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{i as Ir}from"./icon_replace_outlined-0.0.0-dataease.js";import{g as ua,c as Dt,m as $o,a as vo,t as oo}from"./translate-0.0.0-dataease.js";import{s as ca}from"./snapshot-0.0.0-dataease.js";import{e as Ma,f as jo,d as Mi,c as wo,a as Jo,l as Mr,h as io,i as Dr}from"./DeShortcutKey-0.0.0-dataease.js";import{i as Qo,a as Di,t as Tr}from"./imgUtils-0.0.0-dataease.js";import{E as Vr}from"./el-popover-0.0.0-dataease.js";import{a as Ko,b as ei,E as ti}from"./el-dropdown-menu-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import{E as Ti}from"./el-checkbox-0.0.0-dataease.js";import{i as Hr}from"./icon_edit_outlined-0.0.0-dataease.js";import{i as Ar}from"./icon_add_outlined-0.0.0-dataease.js";import{i as Er}from"./chart-list-0.0.0-dataease.js";import{i as Lr}from"./icon_more_outlined-0.0.0-dataease.js";import{i as Da}from"./icon_download_outlined-0.0.0-dataease.js";import{E as Vi}from"./util-0.0.0-dataease2.js";import{_ as St}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import{E as xo}from"./el-dialog-0.0.0-dataease.js";import{d as Pr}from"./vuedraggable-es-0.0.0-dataease.js";import{e as Hi,s as Or}from"./index-0.0.0-dataease19.js";import{r as ot,t as Fr,u as Br,l as Ro,p as Wo,v as Qt,h as Ai,w as vi,x as hi,y as zr,d as gi,g as qr,z as Nr,A as mi,B as $r,k as jr,C as Rr}from"./canvasUtils-0.0.0-dataease.js";import{E as la}from"./index-0.0.0-dataease3.js";import{B as ho,_ as Wr}from"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{a as Wa,r as Ei}from"./watermark-0.0.0-dataease2.js";import{c as Gr,g as Zr,M as yi,_ as wn}from"./lodash-0.0.0-dataease.js";import{E as ra}from"./el-divider-0.0.0-dataease.js";import{g as So}from"./util-0.0.0-dataease.js";import{E as Li,a as Pi}from"./el-tabs-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as Ur,b as Xr,a as Yr}from"./el-select-0.0.0-dataease.js";import Go from"./ChartComponentS2-0.0.0-dataease.js";import{E as Oi}from"./EmptyBackground-0.0.0-dataease.js";import{L as Jr,a as Qr}from"./LinkageSet-0.0.0-dataease.js";import{b as ni}from"./canvasStyle-0.0.0-dataease.js";import{E as Fi}from"./el-row-0.0.0-dataease.js";import{m as Kr,d as Xo}from"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{a as el,E as tl}from"./el-form-item-0.0.0-dataease.js";import{E as nl}from"./el-input-number-0.0.0-dataease.js";import{c as al,i as ol}from"./dataVisualization-0.0.0-dataease2.js";import{_ as il}from"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import rl from"./Component-0.0.0-dataease14.js";import{_ as ll}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import sl from"./Component-0.0.0-dataease11.js";import ul from"./Attr-0.0.0-dataease13.js";import cl from"./Attr-0.0.0-dataease.js";import dl from"./Component-0.0.0-dataease3.js";import{_ as fl}from"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease2.js";import{e as Bi}from"./antv-0.0.0-dataease.js";import pl from"./Attr-0.0.0-dataease7.js";import vl from"./Component-0.0.0-dataease5.js";import hl from"./Attr-0.0.0-dataease5.js";import gl from"./Component-0.0.0-dataease4.js";import{_ as ml}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import yl from"./Component-0.0.0-dataease12.js";import{_ as Cl}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease3.js";import{C as _l}from"./CommonAttr-0.0.0-dataease.js";import{_ as bl}from"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import wl from"./Attr-0.0.0-dataease8.js";import xl from"./Component-0.0.0-dataease9.js";import{_ as Sl}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease4.js";import{_ as kl}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease5.js";import Il from"./Component-0.0.0-dataease8.js";import{_ as Ml}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease6.js";import Dl from"./Component-0.0.0-dataease6.js";import{_ as Tl}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease7.js";import Vl from"./Component-0.0.0-dataease13.js";import Hl from"./Attr-0.0.0-dataease16.js";import{_ as Al}from"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease8.js";import El from"./Component-0.0.0-dataease10.js";import Ll from"./Attr-0.0.0-dataease12.js";import{useAppStoreWithOut as Pl}from"./app-0.0.0-dataease.js";import Ol from"./Component-0.0.0-dataease2.js";import{i as Fl}from"./icon_left_outlined-0.0.0-dataease.js";import{i as Bl}from"./ModelUtil-0.0.0-dataease.js";const so=zt(),{componentData:Ci,curComponentIndex:_i,canvasStyleData:go}=Lt(so),mo={width:["left","width","fontSize","activeFontSize","letterSpacing"],height:["top","height"]};function Ef(p){return qi(p)}function Lf(p){return qi(p)}function zi(p,u){p.forEach(_=>{if(Object.keys(_.style).forEach(g=>{mo.width.includes(g)?_.style[g]&&(_.style[g]=Ra(yo(_.style[g],go.value.scale),u)):mo.height.includes(g)&&(_.style[g]=Ra(yo(_.style[g],go.value.scaleHeight),u))}),["Group"].includes(_.component)?Va(_):["DeTabs"].includes(_.component)&&_.propValue.forEach(g=>{zi(g.componentData,u)}),["Group","DeTabs"].includes(_.component))try{Mt(()=>Va(_))}catch(g){console.error("group adaptor error:"+g)}})}function qi(p){const u=sa(Ci.value);zi(u,p),so.setComponentData(u),so.setCurComponent({component:Ci.value[_i.value],index:_i.value}),so.setCanvasStyle({...go.value,scaleWidth:p,scaleHeight:p,scale:p})}function zl(p,u,_,g,E){p.forEach(w=>{Object.keys(w.style).forEach(k=>{k==="fontSize"&&w.style[k]===""||(mo.width.includes(k)?w.style[k]=Ra(yo(w.style[k],u.scale||E),_):mo.height.includes(k)&&(w.style[k]=Ra(yo(w.style[k],u.scaleHeight||E),g)))})}),u.scale=_,u.scaleWidth=_,u.scaleHeight=g}const ql=["width","height","fontSize"];function Nl(p,u=go.value.scale){Object.keys(p.style).forEach(_=>{if(ql.includes(_)){if(_==="fontSize"&&p.style[_]==="")return;p.style[_]=Ra(p.style[_],u)}})}function Ra(p,u){return Kr(p,Xo(parseFloat(u),100))}function yo(p=0,u){return p||(p=0),Xo(p,Xo(parseFloat(u),100))}const $l={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function jl(p,u){return S(),J("svg",$l,u[0]||(u[0]=[G("path",{d:"M0 2C0 0.895431 0.895431 0 2 0H14C15.1046 0 16 0.895431 16 2V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V2Z"},null,-1),G("path",{d:"M11.5881 4.90381L12.3966 5.71231C12.4291 5.74481 12.4549 5.78339 12.4725 5.82586C12.4901 5.86833 12.4992 5.91384 12.4992 5.95981C12.4992 6.00577 12.4901 6.05129 12.4725 6.09375C12.4549 6.13622 12.4291 6.17481 12.3966 6.20731L7.17813 11.4258C7.14563 11.4583 7.10705 11.4841 7.06458 11.5017C7.02212 11.5193 6.9766 11.5283 6.93063 11.5283C6.88467 11.5283 6.83915 11.5193 6.79669 11.5017C6.75422 11.4841 6.71564 11.4583 6.68313 11.4258L3.70213 8.44481C3.66963 8.41231 3.64385 8.37372 3.62625 8.33126C3.60866 8.28879 3.59961 8.24327 3.59961 8.19731C3.59961 8.15134 3.60866 8.10583 3.62625 8.06336C3.64385 8.0209 3.66963 7.98231 3.70213 7.94981L4.51063 7.14181C4.54314 7.1093 4.58172 7.08352 4.62419 7.06593C4.66665 7.04834 4.71217 7.03928 4.75813 7.03928C4.8041 7.03928 4.84962 7.04834 4.89208 7.06593C4.93455 7.08352 4.97313 7.1093 5.00563 7.14181L6.93063 9.06631L11.0936 4.90331C11.1261 4.8708 11.1647 4.84502 11.2072 4.82743C11.2497 4.80984 11.2952 4.80078 11.3411 4.80078C11.3871 4.80078 11.4326 4.80984 11.4751 4.82743C11.5175 4.84502 11.5556 4.8713 11.5881 4.90381Z",fill:"white"},null,-1)]))}const Rl={render:jl},Wl={width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Gl(p,u){return S(),J("svg",Wl,u[0]||(u[0]=[G("path",{d:"M3.79167 4.66602V4.37435C3.79167 2.60102 5.22842 1.16602 7 1.16602C8.77158 1.16602 10.2083 2.60102 10.2083 4.37435V4.66602H11.6667C11.9887 4.66602 12.25 4.92852 12.25 5.24935V12.2493C12.25 12.5702 11.9887 12.8327 11.6667 12.8327H2.33333C2.01075 12.8327 1.75 12.5702 1.75 12.2493V5.24935C1.75 4.92852 2.01075 4.66602 2.33333 4.66602H3.79167ZM9.04167 4.37435C9.04167 3.2456 8.12758 2.33268 7 2.33268C6.73186 2.33261 6.46634 2.38536 6.2186 2.48794C5.97086 2.59052 5.74575 2.7409 5.55615 2.9305C5.36655 3.1201 5.21617 3.34521 5.11359 3.59295C5.01101 3.84069 4.95826 4.10621 4.95833 4.37435V4.66602H9.04167V4.37435Z",fill:"#A6A6A6"},null,-1)]))}const Zl={render:Gl},Ul={lt:Xl,t:Kl,rt:Yl,r:es,rb:Jl,b:ts,lb:Ql,l:ns};function Xl(p,u,_,g,E){const{symmetricPoint:w}=E;let k=ua(u,w),m=Dt(u,k,-p.rotate),y=Dt(w,k,-p.rotate),v=y.x-m.x,F=y.y-m.y;if(g){v/F>_?(m.x+=Math.abs(v-F*_),v=F*_):(m.y+=Math.abs(F-v/_),F=v/_);const x=Dt(m,k,p.rotate);k=ua(x,w),m=Dt(x,k,-p.rotate),y=Dt(w,k,-p.rotate),v=y.x-m.x,F=y.y-m.y}v>0&&F>0&&(p.width=Math.round(v),p.height=Math.round(F),p.left=Math.round(m.x),p.top=Math.round(m.y))}function Yl(p,u,_,g,E){const{symmetricPoint:w}=E;let k=ua(u,w),m=Dt(u,k,-p.rotate),y=Dt(w,k,-p.rotate),v=m.x-y.x,F=y.y-m.y;if(g){v/F>_?(m.x-=Math.abs(v-F*_),v=F*_):(m.y+=Math.abs(F-v/_),F=v/_);const x=Dt(m,k,p.rotate);k=ua(x,w),m=Dt(x,k,-p.rotate),y=Dt(w,k,-p.rotate),v=m.x-y.x,F=y.y-m.y}v>0&&F>0&&(p.width=Math.round(v),p.height=Math.round(F),p.left=Math.round(y.x),p.top=Math.round(m.y))}function Jl(p,u,_,g,E){const{symmetricPoint:w}=E;let k=ua(u,w),m=Dt(w,k,-p.rotate),y=Dt(u,k,-p.rotate),v=y.x-m.x,F=y.y-m.y;if(g){v/F>_?(y.x-=Math.abs(v-F*_),v=F*_):(y.y-=Math.abs(F-v/_),F=v/_);const x=Dt(y,k,p.rotate);k=ua(x,w),m=Dt(w,k,-p.rotate),y=Dt(x,k,-p.rotate),v=y.x-m.x,F=y.y-m.y}v>0&&F>0&&(p.width=Math.round(v),p.height=Math.round(F),p.left=Math.round(m.x),p.top=Math.round(m.y))}function Ql(p,u,_,g,E){const{symmetricPoint:w}=E;let k=ua(u,w),m=Dt(w,k,-p.rotate),y=Dt(u,k,-p.rotate),v=m.x-y.x,F=y.y-m.y;if(g){v/F>_?(y.x+=Math.abs(v-F*_),v=F*_):(y.y-=Math.abs(F-v/_),F=v/_);const x=Dt(y,k,p.rotate);k=ua(x,w),m=Dt(w,k,-p.rotate),y=Dt(x,k,-p.rotate),v=m.x-y.x,F=y.y-m.y}v>0&&F>0&&(p.width=Math.round(v),p.height=Math.round(F),p.left=Math.round(y.x),p.top=Math.round(m.y))}function Kl(p,u,_,g,E){const{symmetricPoint:w,curPoint:k}=E,m=Dt(u,k,-p.rotate),y=Dt({x:k.x,y:m.y},k,p.rotate),v=Math.sqrt((y.x-w.x)**2+(y.y-w.y)**2),F={x:y.x-(y.x-w.x)/2,y:y.y+(w.y-y.y)/2};let x=p.width;g&&(x=v*_),p.width=x,p.height=Math.round(v),p.top=Math.round(F.y-v/2),p.left=Math.round(F.x-p.width/2)}function es(p,u,_,g,E){const{symmetricPoint:w,curPoint:k}=E,m=Dt(u,k,-p.rotate),y=Dt({x:m.x,y:k.y},k,p.rotate),v=Math.sqrt((y.x-w.x)**2+(y.y-w.y)**2),F={x:y.x-(y.x-w.x)/2,y:y.y+(w.y-y.y)/2};let x=p.height;g&&(x=v/_),p.height=x,p.width=Math.round(v),p.top=Math.round(F.y-p.height/2),p.left=Math.round(F.x-v/2)}function ts(p,u,_,g,E){const{symmetricPoint:w,curPoint:k}=E,m=Dt(u,k,-p.rotate),y=Dt({x:k.x,y:m.y},k,p.rotate),v=Math.sqrt((y.x-w.x)**2+(y.y-w.y)**2),F={x:y.x-(y.x-w.x)/2,y:y.y+(w.y-y.y)/2};let x=p.width;g&&(x=v*_),p.width=x,p.height=Math.round(v),p.top=Math.round(F.y-v/2),p.left=Math.round(F.x-p.width/2)}function ns(p,u,_,g,E){const{symmetricPoint:w,curPoint:k}=E,m=Dt(u,k,-p.rotate),y=Dt({x:m.x,y:k.y},k,p.rotate),v=Math.sqrt((y.x-w.x)**2+(y.y-w.y)**2),F={x:y.x-(y.x-w.x)/2,y:y.y+(w.y-y.y)/2};let x=p.height;g&&(x=v/_),p.height=x,p.width=Math.round(v),p.top=Math.round(F.y-p.height/2),p.left=Math.round(F.x-v/2)}function as(p,u,_,g,E,w){Ul[p](u,_,g,E,w)}function os(p,u,_){["b"].includes(p)?(u.left=Math.round(_.x-u.width/2),u.top=_.y):["t"].includes(p)?(u.left=Math.round(_.x-u.width/2),u.top=_.y-u.height):["l"].includes(p)?(u.left=_.x-u.width,u.top=Math.round(_.y-u.height/2)):["r"].includes(p)?(u.left=_.x,u.top=Math.round(_.y-u.height/2)):["lt"].includes(p)?(u.left=_.x-u.width,u.top=_.y-u.height):["lb"].includes(p)?(u.left=_.x-u.width,u.top=_.y):["rt"].includes(p)?(u.left=_.x,u.top=_.y-u.height):["rb"].includes(p)&&(u.left=_.x,u.top=_.y)}const is={t:"1688563367121",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4587","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function rs(p,u){return S(),J("svg",is,u[0]||(u[0]=[G("path",{d:"M470.624 553.376a32 32 0 0 1 2.656 42.24l-2.656 3.008L269.28 800l145.984 0.032a32 32 0 0 1 31.776 28.256l0.224 3.744a32 32 0 0 1-28.288 31.776l-3.712 0.224H192l-2.4-0.096-4.032-0.544-3.552-0.96-3.552-1.408-3.136-1.664-3.072-2.144-2.88-2.56a32.32 32.32 0 0 1-3.104-3.584l-2.272-3.52-1.728-3.648-1.12-3.36-0.96-4.8L160 832V607.872a32 32 0 0 1 63.776-3.712l0.224 3.712-0.032 146.848 201.408-201.344a32 32 0 0 1 45.248 0zM608.736 160H832l2.4 0.096 4.032 0.544 3.552 0.96 3.552 1.408 3.136 1.664 3.072 2.144 2.88 2.56c1.152 1.12 2.176 2.336 3.104 3.584l2.272 3.52 1.728 3.648 1.12 3.36 0.96 4.8L864 192v224.128a32 32 0 0 1-63.776 3.712l-0.224-3.712v-146.88L598.624 470.624a32 32 0 0 1-47.904-42.24l2.656-3.008L754.688 224h-145.92a32 32 0 0 1-31.808-28.256l-0.224-3.744a32 32 0 0 1 28.288-31.776l3.712-0.224z","p-id":"4588"},null,-1)]))}const ls={render:rs},ss={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function us(p,u){return S(),J("svg",ss,u[0]||(u[0]=[G("path",{d:"M3.33333 1.99935V13.9993H12.6667V1.99935H3.33333ZM2.66667 0.666016H13.3333C13.7015 0.666016 14 0.978706 14 1.36443V14.6343C14 15.02 13.7015 15.3327 13.3333 15.3327H2.66667C2.29848 15.3327 2 15.02 2 14.6343V1.36443C2 0.978706 2.29848 0.666016 2.66667 0.666016ZM5 4.66602H7.66667C7.85076 4.66602 8 4.81525 8 4.99935V5.66602C8 5.85011 7.85076 5.99935 7.66667 5.99935H5C4.81591 5.99935 4.66667 5.85011 4.66667 5.66602V4.99935C4.66667 4.81525 4.81591 4.66602 5 4.66602ZM5 7.33268H11C11.1841 7.33268 11.3333 7.48192 11.3333 7.66602V8.33268C11.3333 8.51678 11.1841 8.66602 11 8.66602H5C4.81591 8.66602 4.66667 8.51678 4.66667 8.33268V7.66602C4.66667 7.48192 4.81591 7.33268 5 7.33268ZM5 9.99935H11C11.1841 9.99935 11.3333 10.1486 11.3333 10.3327V10.9993C11.3333 11.1834 11.1841 11.3327 11 11.3327H5C4.81591 11.3327 4.66667 11.1834 4.66667 10.9993V10.3327C4.66667 10.1486 4.81591 9.99935 5 9.99935Z"},null,-1)]))}const cs={render:us},ds={t:"1689603006162",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4590","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function fs(p,u){return S(),J("svg",ds,u[0]||(u[0]=[G("path",{d:"M611.754667 710.613333a38.144 38.144 0 0 1 0 53.930667l-123.818667 123.818667c-95.530667 95.530667-256.341333 95.530667-351.872 0-95.488-95.488-95.488-256.341333 0-351.829334l123.818667-123.818666a38.144 38.144 0 1 1 53.973333 53.930666L190.037333 590.506667c-70.528 73.685333-74.069333 177.28-3.626666 247.637333 70.4 70.4 170.453333 72.234667 247.594666-3.669333l123.818667-123.818667a38.144 38.144 0 0 1 53.930667 0z m-199.509334-397.226666a38.144 38.144 0 0 1 0-53.930667l123.818667-123.818667c95.488-95.530667 256.341333-95.530667 351.872 0 95.488 95.488 95.488 256.341333 0 351.829334l-123.818667 123.818666a38.144 38.144 0 1 1-53.930666-53.930666l123.776-123.818667c70.528-73.685333 74.069333-177.28 3.669333-247.637333-70.357333-70.4-170.453333-72.234667-247.594667 3.669333l-123.861333 123.818667a38.144 38.144 0 0 1-53.930667 0z m232.362667 512.426666a32.682667 32.682667 0 0 1 65.408 0v65.450667a32.682667 32.682667 0 1 1-65.408 0v-65.408z m208.042667 27.434667a33.621333 33.621333 0 0 1-47.445334-0.554667l-45.482666-46.421333a33.28 33.28 0 0 1 47.36-46.890667l45.909333 45.994667a33.621333 33.621333 0 0 1-0.341333 47.872z m-55.466667-176.384c0-20.053333 16.298667-36.309333 36.352-36.309333H891.733333a36.352 36.352 0 0 1 0 72.661333h-58.154666a36.352 36.352 0 0 1-36.309334-36.352zM317.013333 130.773333a32.682667 32.682667 0 1 1 65.408 0v65.408a32.682667 32.682667 0 0 1-65.408 0V130.773333z m-142.677333 37.973334A33.621333 33.621333 0 0 1 221.866667 169.386667l45.482666 46.421333a33.28 33.28 0 0 1-47.36 46.848L173.994667 216.704a33.621333 33.621333 0 0 1 0.341333-47.914667zM98.986667 345.173333c0-20.053333 16.256-36.352 36.352-36.352h58.112a36.352 36.352 0 0 1 0 72.704H135.338667a36.352 36.352 0 0 1-36.352-36.352z","p-id":"4591"},null,-1)]))}const Ni={render:fs},ps={t:"1574649229600",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3752","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function vs(p,u){return S(),J("svg",ps,[G("defs",null,[(S(),se(Na("style"),{type:"text/css"}))]),u[0]||(u[0]=G("path",{d:"M942 191.9C939.8 128.9 748.1 78 512 78S84.2 128.9 82 191.9V831c0 63.5 192.5 115 430 115s430-51.5 430-115V191.9z m-56.7 393.8c-4.6 3.3-11.6 7.4-21.9 12.2-21.3 9.8-50.5 19.1-84.4 26.8-74 16.8-168.8 26-267 26s-193-9.2-267-26c-33.9-7.7-63.1-16.9-84.4-26.8-10.3-4.8-17.3-8.9-21.9-12.2 0.1-0.1 0.2-0.1 0.3-0.2h-7v-123c72.2 36.4 215.3 61.1 380 61.1s307.8-24.8 380-61.1v122.9h-7l0.3 0.3z m0-177c-4.6 3.3-11.6 7.4-21.9 12.2-21.3 9.8-50.5 19.1-84.4 26.8-74 16.8-168.8 26-267 26s-193-9.2-267-26c-33.9-7.7-63.1-16.9-84.4-26.8-10.3-4.8-17.3-8.9-21.9-12.2 0.1-0.1 0.2-0.1 0.3-0.2h-7V246.9c72.2 36.4 215.3 61.1 380 61.1s307.8-24.8 380-61.1v161.6h-7c0.1 0 0.2 0.1 0.3 0.2zM160.7 180.8C182 171 211.2 161.7 245 154c74-16.8 168.8-26 267-26s193 9.2 267 26c33.9 7.7 63.1 16.9 84.4 26.8 10.3 4.8 17.3 8.9 21.9 12.2-4.6 3.3-11.6 7.4-21.9 12.2C842 215 812.8 224.3 779 232c-74 16.8-168.8 26-267 26s-193-9.2-267-26c-33.9-7.7-63.1-16.9-84.4-26.8-10.3-4.8-17.3-8.9-21.9-12.2 4.7-3.3 11.7-7.4 22-12.2zM885.3 831c-4.6 3.3-11.6 7.4-21.9 12.2C842 853 812.8 862.3 779 870c-74 16.8-168.8 26-267 26s-193-9.2-267-26c-33.9-7.7-63.1-16.9-84.4-26.8-10.3-4.8-17.3-8.9-21.9-12.2 0.1-0.1 0.2-0.1 0.3-0.2h-7V639.5c72.2 36.4 215.3 61.1 380 61.1s307.8-24.8 380-61.1v191.3h-7c0.1 0.1 0.2 0.1 0.3 0.2z","p-id":"3753"},null,-1))])}const hs={render:vs},gs=dt({__name:"FieldsList",props:{fields:{type:Array,default:()=>[]},element:{type:Object,default:null}},setup(p){const u=p,{fields:_,element:g}=Kt(u),E=k=>{tt().emitter.emit("fieldSelect-"+g.value.id,k)},w=k=>{k.preventDefault()};return(k,m)=>{const y=In;return S(),J("div",{onMousedown:w,class:"field-main"},[(S(!0),J(Ft,null,Mn(s(_),v=>(S(),se(y,{key:v.id,title:v.name,size:"mini",class:"field-area",onClick:F=>E(v)},{default:B(()=>[st(we(v.name),1)]),_:2},1032,["title","onClick"]))),128))],32)}}});const ms=St(gs,[["__scopeId","data-v-92f30714"]]),ys=["title"],Cs={class:"item-span"},_s={class:"dialog-footer"},bs=dt({__name:"CustomTabsSort",setup(p,{expose:u}){const _=ca(),g=Z(null),E=Z([]),w=Z(!1),k=x=>{m(x),w.value=!0},m=x=>{g.value=x,E.value=sa(g.value.propValue)},y=()=>{w.value=!1},v=()=>{g.value.propValue=sa(E.value),_.recordSnapshotCache("tab-sort-save"),He.emit("onTabSortChange-"+g.value.id),y()},{t:F}=En();return u({sortInit:k}),(x,Ce)=>{const Q=vn,R=Hn,L=xo;return S(),se(L,{ref:"enlargeDialog","destroy-on-close":"","append-to-body":!0,title:s(F)("visualization.custom_sort"),modelValue:w.value,"onUpdate:modelValue":Ce[0]||(Ce[0]=z=>w.value=z),width:"30vw",top:"10vh"},{footer:B(()=>[G("div",_s,[H(s(In),{onClick:y},{default:B(()=>Ce[1]||(Ce[1]=[st("取消")])),_:1}),H(s(In),{type:"primary",onClick:v},{default:B(()=>Ce[2]||(Ce[2]=[st("确认")])),_:1})])]),default:B(()=>[G("div",null,[H(s(Pr),{list:E.value,animation:"300",class:"drag-list"},{item:B(({element:z})=>[(S(),J("span",{key:z.name,class:"item-dimension",title:z.title},[H(R,{size:"20px"},{default:B(()=>[H(Q,{name:"drag"},{default:B(()=>[H(s(mr),{class:"svg-icon"})]),_:1})]),_:1}),G("span",Cs,we(z.title),1)],8,ys))]),_:1},8,["list"])])]),_:1},8,["title","modelValue"])}}});const ws=St(bs,[["__scopeId","data-v-f357899e"]]),xs=zt(),{curComponentIndex:ro,curComponent:Ss}=Lt(xs),ks=bi("layer",{actions:{upComponent(p){const u=Ma(p);if(u){const{index:_,componentData:g}=u;_<g.length-1&&(pi(g,_,_+1),ro.value=_+1)}},downComponent(p){const u=Ma(p);if(u){const{index:_,componentData:g}=u;_>0&&(pi(g,_,_-1),ro.value=_-1)}},topComponent(p){const u=Ma(p);if(u){const{index:_,componentData:g,targetComponent:E}=u;_<g.length-1&&(g.splice(_,1),g.push(E),ro.value=g.length-1)}},bottomComponent(p){const u=Ma(p);if(u){const{index:_,componentData:g,targetComponent:E}=u;_>0&&(g.splice(_,1),g.unshift(E),ro.value=0)}},hideComponentWithComponent(p){const u=jo(p);u&&(u.isShow=!1)},hideComponent(p){const u=jo(p);u&&(u.isShow=!1)},showComponent(p){var _;const u=jo(p);u&&(u.isShow=!0,u.component=="Group"?u.propValue.forEach(g=>{var E;((E=g.innerType)==null?void 0:E.indexOf("table"))!==-1&&setTimeout(()=>{tt().emitter.emit("renderChart-"+g.id)},400)}):((_=u==null?void 0:u.innerType)==null?void 0:_.indexOf("table"))!==-1&&setTimeout(()=>{tt().emitter.emit("renderChart-"+Ss.value.id)},400))}}}),$i=()=>ks(Si),Is=["title"],Ms=["title"],Ds={key:5,class:"bar-checkbox-area"},Ts=["title"],Vs={key:7,class:"bar-checkbox-area"},Hs={class:"flex-align-center",style:{position:"relative",width:"100%",padding:"5px 32px 5px 16px","line-height":"24px"}},As=dt({__name:"ComponentEditBar",props:{element:{type:Object,required:!0},active:{type:Boolean,required:!1,default:!1},index:{required:!0,type:[Number,String],default:0},showPosition:{required:!1,type:String,default:"canvas"},canvasId:{type:String,default:"canvas-main"}},emits:["userViewEnlargeOpen","datasetParamsInit","closePreview","showViewDetails","amRemoveItem","linkJumpSetOpen","linkageSetOpen"],setup(p,{expose:u,emit:_}){$i();const g=zt(),E=ca(),w=Mi(),k=Z(null),m=j(()=>Ii(Ge.value.weight,Ge.value.ext)),y=_,{t:v}=En(),{emitter:F}=tt(),x={canvas:["datasetParams","enlarge","hidden","details","setting","copy","delete","download","unLinkage","linkageSetting","linkJumpSetting"],preview:["enlarge","details","download","unLinkage","previewDownload","datasetParams"],multiplexing:["multiplexing"],batchOpt:["batchOpt"],linkage:["linkage"]},Ce={UserView:["datasetParams","enlarge","hidden","details","setting","copy","download","previewDownload","delete","multiplexing","batchOpt","linkage","unLinkage","linkageSetting","linkJumpSetting"],default:["setting","delete","copy","multiplexing","batchOpt","hidden"]},Q=q=>x[be.value]&&x[be.value].includes(q)&&(Ce[z.value.component]?Ce[z.value.component]:Ce.default).includes(q),R=j(()=>!["batchOpt","multiplexing"].includes(be.value)),L=p,{element:z,index:U,showPosition:be,canvasId:pe}=Kt(L),{batchOptStatus:Ie,pcMatrixCount:Me,curComponent:Se,componentData:a,canvasViewInfo:Fe,mobileInPc:ee,dvInfo:Ge,isPopWindow:De,hiddenListStatus:mt}=Lt(g),ie=Qn({systemOS:"Mac",maxImageSize:15e6,boardSetVisible:!1,linkJumpSetVisible:!1,linkJumpSetViewId:null,curFields:[],multiplexingCheckModel:!1,curMultiplexingComponents:{},barWidth:24,componentType:null,linkageActiveStatus:!1,editFilter:["view","custom","custom-button"],timer:null,viewXArray:[],batchOptCheckModel:!1}),re=j(()=>mt.value&&ot(pe.value)),_e=()=>{k.value.sortInit(z.value)},ke=()=>{g.setCurComponent({component:z.value,index:U.value})},it=()=>{F.emit(`addQueryCriteria${z.value.id}`)},ft=()=>{F.emit(`editQueryCriteria${z.value.id}`)},gt=j(()=>{if(be.value==="canvas"){const q=z.value.x-1,fe=Me.value.x-(z.value.x+z.value.sizeX-1);return q===0&&fe===0||fe<0?re.value?"bar-main-left-inner":"bar-main-right-inner":fe===0?"bar-main-left-outer":"bar-main-right"}else return be.value==="preview"?"bar-main-right-inner":be.value==="canvasDataV"?"bar-main-right":"bar-main-preview-right-inner"}),pt=j(()=>gt.value.indexOf("right")>=0?"right":"left"),ut=q=>{const fe="el-icon-loading",Pt="de-message-loading de-message-export";ja({message:Ta("p",null,["后台导出中,可前往",Ta(In,{text:!0,size:"small",class:"btn-text",onClick:()=>{q()}},v("data_export.export_center")),"查看进度，进行下载"]),iconClass:fe,icon:Ta(ki),showClose:!0,customClass:Pt})},P=()=>{tt().emitter.emit("data-export-center",{activeName:"IN_PROGRESS"})},ge=()=>{const q=g.getViewInstanceInfo(z.value.id);if(!q)return;const fe=g.getViewDetails(z.value.id);Hi(q,fe)},oe=()=>{const q=g.getViewDataDetails(z.value.id),fe=g.getLastViewRequestInfo(z.value.id),kt={...g.getViewDetails(z.value.id),chartExtRequest:fe,data:q,busiFlag:Ge.value.type};Vi(kt,()=>{ut(P)})},ye=()=>{tt().emitter.emit("componentImageDownload-"+z.value.id)},ne=()=>{He.emit("removeMatrixItem-"+pe.value,U.value),g.setCurComponent({component:null,index:null}),E.recordSnapshotCache("deleteComponent")},ue=()=>{y("datasetParamsInit")},Te=()=>{w.copy(),w.paste(!1)},Ae=(q,fe)=>{q.preventDefault(),q.stopPropagation(),y("userViewEnlargeOpen",fe)},Le=()=>{Se.value&&(Se.value.dashboardHidden=!0,He.emit("removeMatrixItemPosition-"+pe.value,Se.value),g.setHiddenListStatus(!0),E.recordSnapshotCache("hide"),g.setLastHiddenComponent(Se.value.id))},yt=()=>{ie.multiplexingCheckModel=!ie.multiplexingCheckModel,je(ie.multiplexingCheckModel)},je=q=>{q?g.addCurMultiplexingComponent({component:z.value,componentId:z.value.id}):g.removeCurMultiplexingComponentWithId(z.value.id)},Tt=()=>{be.value==="batchOpt"&&(ie.batchOptCheckModel=!ie.batchOptCheckModel,Gt(ie.batchOptCheckModel))},Gt=q=>{q?g.addCurBatchComponent(z.value):g.removeCurBatchComponentWithId(z.value.id)},Zt=q=>{let fe=!1;return q.linkageFilters&&q.linkageFilters.length>0&&q.linkageFilters.forEach(Pt=>{z.value.id===Pt.sourceViewId&&(fe=!0)}),fe},qt=j(()=>{let q=0;return a.value.forEach(fe=>{fe.component==="UserView"&&fe.innerType!="VQuery"?Zt(fe)&&q++:fe.component==="Group"?fe.propValue.forEach(Pt=>{Zt(Pt)&&q++}):fe.component==="DeTabs"&&fe.propValue.forEach(Pt=>{Pt.componentData.forEach(kt=>{Zt(kt)&&q++})})}),q}),Ht=()=>{g.clearViewLinkage(z.value.id),tt().emitter.emit("clearPanelLinkage",{viewId:z.value.id})},_t=q=>{q.stopPropagation(),q.preventDefault()},yn=j(()=>{var q;return["canvasDataV","canvas"].includes(be.value)&&((q=Se.value)==null?void 0:q.innerType)==="rich-text"&&Se.value.editing&&ie.curFields.length>0}),le=()=>{if(z.value.component==="UserView"){const q=Fe.value[z.value.id];q&&(ie.curFields=[],q.type==="rich-text"&&q.curFields&&(ie.curFields=q.curFields))}},de=j(()=>{var q;return((q=Fe.value[z.value.id])==null?void 0:q.dataFrom)!=="template"&&!De.value}),Re=j(()=>{var q,fe;return((fe=(q=Fe.value[z.value.id])==null?void 0:q.calParams)==null?void 0:fe.length)>0}),Xe=Z(),Ue=()=>{Xe.value.handleClose()};return mn(()=>{z.value.component==="UserView"&&He.on("initCurFields-"+z.value.id,le),le()}),ya(()=>{z.value.component==="UserView"&&He.off("initCurFields-"+z.value.id,le)}),u({multiplexingCheckOut:yt,batchOptCheckOut:Tt}),An(()=>Ie.value,()=>{ie.batchOptCheckModel=!1}),(q,fe)=>{const Pt=co("Sort"),kt=Hn,rt=vn,Ye=Ti,Pe=vn,M=Ko,Ve=co("ArrowRight"),Be=ei,It=ti,Ot=Vr;return!s(ee)&&!s(Ha)()?(S(),J("div",{key:0,class:Bt(["bar-main",[gt.value,{"bar-main-background":R.value}]]),onMousedown:_t},[s(z).component==="DeTabs"&&s(be)==="canvas"?(S(),se(s(la),{key:0,effect:"dark",placement:"top",content:s(v)("visualization.sort")},{default:B(()=>[H(kt,{class:"bar-base-icon",onClick:_e},{default:B(()=>[H(Pt)]),_:1})]),_:1},8,["content"])):K("",!0),s(z).component==="VQuery"&&s(be)==="canvas"?(S(),J(Ft,{key:1},[G("span",{title:s(v)("visualization.add_query_filter")},[H(kt,{class:"bar-base-icon",onClick:it},{default:B(()=>[H(rt,{name:"icon_add_outlined"},{default:B(()=>[H(s(Ar),{class:"svg-icon"})]),_:1})]),_:1})],8,Is),G("span",{title:s(v)("visualization.edit_query_filter")},[H(kt,{class:"bar-base-icon",onClick:ft},{default:B(()=>[H(rt,{name:"icon_edit_outlined"},{default:B(()=>[H(s(Hr),{class:"svg-icon"})]),_:1})]),_:1})],8,Ms)],64)):K("",!0),s(z).innerType!=="rich-text"&&Q("enlarge")?(S(),se(s(la),{key:2,effect:"dark",placement:"top",content:s(v)("visualization.enlarge")},{default:B(()=>[G("span",null,[H(kt,{class:"bar-base-icon",onClick:fe[0]||(fe[0]=bt=>Ae(bt,"enlarge"))},{default:B(()=>[H(rt,{name:"dv-bar-enlarge"},{default:B(()=>[H(s(ls),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["content"])):K("",!0),!["picture-group","rich-text"].includes(s(z).innerType)&&Q("details")?(S(),se(s(la),{key:3,effect:"dark",placement:pt.value,content:s(v)("visualization.show_data_info")},{default:B(()=>[G("span",null,[H(kt,{class:"bar-base-icon",onClick:fe[1]||(fe[1]=bt=>Ae(bt,"details"))},{default:B(()=>[H(rt,{name:"dv-details"},{default:B(()=>[H(s(cs),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["placement","content"])):K("",!0),Q("datasetParams")&&Re.value?(S(),se(s(la),{key:4,effect:"dark",placement:"top",content:s(v)("visualization.input_calc_data")},{default:B(()=>[G("span",null,[H(kt,{class:"bar-base-icon",onClick:ue},{default:B(()=>[H(rt,{name:"icon_params_setting"},{default:B(()=>[H(s(Er),{class:"svg-icon"})]),_:1})]),_:1})])]),_:1},8,["content"])):K("",!0),Q("multiplexing")?(S(),J("div",Ds,[H(Ye,{onClick:fe[2]||(fe[2]=Jn(()=>{},["stop"])),style:{height:"26px",padding:"5px"},modelValue:ie.multiplexingCheckModel,"onUpdate:modelValue":fe[3]||(fe[3]=bt=>ie.multiplexingCheckModel=bt),onChange:je},null,8,["modelValue"])])):K("",!0),Q("unLinkage")&&qt.value?(S(),J("span",{key:6,title:s(v)("visualization.cancel_linkage")},[H(kt,{class:"bar-base-icon",onClick:Ht},{default:B(()=>[H(rt,{name:"dv-bar-unLinkage"},{default:B(()=>[H(s(Ni),{class:"svg-icon"})]),_:1})]),_:1})],8,Ts)):K("",!0),Q("batchOpt")?(S(),J("div",Vs,[H(Ye,{modelValue:ie.batchOptCheckModel,"onUpdate:modelValue":fe[4]||(fe[4]=bt=>ie.batchOptCheckModel=bt),onChange:Gt},null,8,["modelValue"])])):K("",!0),Q("setting")?(S(),se(It,{key:8,trigger:"click",placement:"right-start",ref_key:"curDropdown",ref:Xe},{dropdown:B(()=>[H(Be,null,{default:B(()=>[Q("copy")?(S(),se(M,{key:0,onClick:Te},{default:B(()=>[st(we(s(v)("visualization.copy")),1)]),_:1})):K("",!0),s(z).innerType!=="rich-text"&&Q("enlarge")?(S(),J(Ft,{key:1},[H(M,{divided:s(be)==="canvas",onClick:fe[5]||(fe[5]=bt=>Ae(bt,"enlarge"))},{default:B(()=>[st(we(s(v)("visualization.enlarge")),1)]),_:1},8,["divided"]),!["picture-group","rich-text"].includes(s(z).innerType)&&Q("details")?(S(),se(M,{key:0,onClick:fe[6]||(fe[6]=bt=>Ae(bt,"details"))},{default:B(()=>[st(we(s(v)("visualization.show_data_info")),1)]),_:1})):K("",!0),!["picture-group","rich-text"].includes(s(z).innerType)&&Q("download")&&de.value&&(m.value[0]||m.value[1])?(S(),se(M,{key:1,style:{padding:"0"},onClick:fe[7]||(fe[7]=Jn(()=>{},["prevent"]))},{default:B(()=>[H(It,{style:{width:"100%"},trigger:"hover",placement:"right-start"},{dropdown:B(()=>[H(Be,null,{default:B(()=>[m.value[1]?(S(),se(M,{key:0,onClick:oe},{default:B(()=>fe[8]||(fe[8]=[st("Excel")])),_:1})):K("",!0),m.value[1]&&s(z).innerType==="table-pivot"?(S(),se(M,{key:1,onClick:ge},{default:B(()=>[G("span",null,we(s(v)("visualization.excel_with_format")),1)]),_:1})):K("",!0),m.value[0]?(S(),se(M,{key:2,onClick:ye},{default:B(()=>[st(we(s(v)("visualization.image")),1)]),_:1})):K("",!0)]),_:1})]),default:B(()=>[G("div",Hs,[st(we(s(v)("visualization.export_as"))+" ",1),H(kt,{size:"16px",style:{position:"absolute",right:"8px","margin-right":"0"}},{default:B(()=>[H(Ve)]),_:1})])]),_:1})]),_:1})):K("",!0)],64)):K("",!0),Q("hidden")&&s(ot)(s(pe))?(S(),se(M,{key:2,onClick:Le},{default:B(()=>[st(we(s(v)("visualization.hidden")),1)]),_:1})):K("",!0),H(s(bo),{chart:s(z),jsname:"L2NvbXBvbmVudC90aHJlc2hvbGQtd2FybmluZy9FZGl0QmFySGFuZGxlcg==",onCloseItem:Ue},null,8,["chart"]),Q("delete")?(S(),se(M,{key:3,divided:"",onClick:ne},{default:B(()=>[st(we(s(v)("visualization.delete")),1)]),_:1})):K("",!0)]),_:1})]),default:B(()=>[H(kt,{class:"bar-base-icon"},{default:B(()=>[H(s(la),{content:s(v)("visualization.more"),effect:"dark",placement:"bottom"},{default:B(()=>[H(Pe,{name:"icon_more_outlined"},{default:B(()=>[H(s(Lr),{class:"svg-icon"})]),_:1})]),_:1},8,["content"])]),_:1})]),_:1},512)):K("",!0),!["picture-group","rich-text"].includes(s(z).innerType)&&Q("previewDownload")&&de.value&&(m.value[0]||m.value[1])?(S(),se(It,{key:9,trigger:"click",placement:"right-start"},{dropdown:B(()=>[H(Be,{style:{width:"118px"}},{default:B(()=>[m.value[1]?(S(),se(M,{key:0,onClick:oe},{default:B(()=>fe[9]||(fe[9]=[st("Excel")])),_:1})):K("",!0),m.value[1]&&s(z).innerType==="table-pivot"?(S(),se(M,{key:1,onClick:ge},{default:B(()=>[G("span",null,we(s(v)("visualization.excel_with_format")),1)]),_:1})):K("",!0),m.value[0]?(S(),se(M,{key:2,onClick:ye},{default:B(()=>[st(we(s(v)("visualization.image")),1)]),_:1})):K("",!0)]),_:1})]),default:B(()=>[H(kt,{onClick:ke,class:"bar-base-icon"},{default:B(()=>[H(s(la),{content:s(v)("chart.export"),effect:"dark",placement:"bottom"},{default:B(()=>[H(Pe,{name:"dv-preview-download"},{default:B(()=>[H(s(Da),{class:"svg-icon"})]),_:1})]),_:1},8,["content"])]),_:1})]),_:1})):K("",!0),yn.value?(S(),se(Ot,{key:10,width:"200",trigger:"click",onMousedown:_t},{reference:B(()=>[H(kt,{class:"bar-base-icon"},{default:B(()=>[H(rt,{name:"database"},{default:B(()=>[H(s(hs),{class:"svg-icon"})]),_:1})]),_:1})]),default:B(()=>[H(ms,{fields:ie.curFields,element:s(z)},null,8,["fields","element"])]),_:1})):K("",!0),H(ws,{ref_key:"customTabsSortRef",ref:k},null,512)],34)):K("",!0)}}});const ji=St(As,[["__scopeId","data-v-9183afc0"]]),Es=dt({__name:"ComposeShow",props:{element:{required:!0,type:Object},elementIndex:{required:!1},showBorder:{required:!1,type:Boolean,default:!0}},setup(p){const u=wo(),{areaData:_}=Lt(u),g=p,E=j(()=>_.value.components.includes(g.element)),w=k=>{if(k.buttons===2)return;const m=_.value.components.findIndex(y=>y===g.element);m!=-1&&g.element.component!=="GroupArea"&&(_.value.components.splice(m,1),k.stopPropagation())};return(k,m)=>E.value?(S(),J("div",{key:0,class:Bt(["compose-shadow",{"shadow-border":g.showBorder}]),onMousedown:w},null,34)):K("",!0)}});const Ls=St(Es,[["__scopeId","data-v-0d4e81fa"]]),Ps={t:"1738739001616",class:"icon",viewBox:"0 0 1175 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8488","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"229.4921875",height:"200"};function Os(p,u){return S(),J("svg",Ps,u[0]||(u[0]=[G("path",{d:"M587.83008 276.574053a235.132032 235.132032 0 0 1 235.132033 235.132032 249.533869 249.533869 0 0 1-1.469576 25.864523l170.470724 170.764639A1046.631458 1046.631458 0 0 0 1175.660161 511.706085c-161.065442-220.43628-365.336395-352.698048-587.830081-352.698048a562.553387 562.553387 0 0 0-129.616532 15.577497l103.752009 103.458094a249.533869 249.533869 0 0 1 25.864523-1.469575zM76.123995 83.177956L255.706085 262.760046A987.554535 987.554535 0 0 0 0 511.706085c161.065442 220.730195 365.336395 352.698048 587.83008 352.698048a575.485649 575.485649 0 0 0 223.375431-46.144661l205.740528 205.740528L1099.536165 940.528129l-940.528128-940.528129zM352.698048 511.706085a231.311137 231.311137 0 0 1 32.918485-119.035591l88.174512 88.174512a113.745121 113.745121 0 0 0-4.408726 29.391504 117.566016 117.566016 0 0 0 117.566016 117.566016 111.98163 111.98163 0 0 0 29.391504-4.408726l45.850747 45.850746L705.396096 712.743972a235.132032 235.132032 0 0 1-352.698048-202.507462z","p-id":"8489"},null,-1)]))}const Fs={render:Os},Bs=["id"],zs=["title"],qs=["id"],Ns=["onMousedown"],$s=dt({__name:"Shape",props:{element:{required:!0,type:Object,default(){return{component:null,propValue:null,request:null,linkage:null,type:null,events:null,style:null,id:null}}},defaultStyle:{required:!0,type:Object,default(){return{}}},baseCellInfo:{required:!0,type:Object,default(){return{baseWidth:0,baseHeight:0,curGap:0}}},index:{required:!0,type:[Number,String],default:0},isTabMoveCheck:{type:Boolean,default:!0},canvasId:{type:String,default:"canvas-main"},scale:{type:Number,required:!1,default:1},canvasActive:{type:Boolean,required:!1,default:!0}},emits:["userViewEnlargeOpen","datasetParamsInit","onStartResize","onStartMove","onDragging","onResizing","onMouseUp","linkJumpSetOpen","linkageSetOpen"],setup(p,{emit:u}){const{t:_}=En(),g=zt(),E=ca(),w=Jo(),k=wo(),m=Z(null),y=Z(null),v=Z(null),F=Z(null),x=Z(!1),Ce=j(()=>"enlarge-inner-shape-"+P.value.id),{curComponent:Q,dvInfo:R,editMode:L,batchOptStatus:z,curBatchOptComponents:U,linkageSettingStatus:be,curLinkageView:pe,tabCollisionActiveId:Ie,tabMoveInActiveId:Me,tabMoveOutComponentId:Se,mobileInPc:a,mainScrollTop:Fe,hiddenListStatus:ee}=Lt(g),{editorMap:Ge,areaData:De,isCtrlOrCmdDown:mt}=Lt(k),ie=u,re=j(()=>L.value==="edit"),_e=Qn({seriesIdMap:{id:""},ignoreTabMoveComponent:["de-button","de-reset-button","DeTabs","GroupArea"],parentWidthTabOffset:40,canvasChangeTips:"none",tabMoveInYOffset:70,tabMoveInXOffset:40,collisionGap:10}),ke=W=>{W.preventDefault(),W.stopPropagation(),P.value&&(P.value.dashboardHidden=!0,He.emit("removeMatrixItemPosition-"+ue.value,P.value),E.recordSnapshotCache("hide"),g.setLastHiddenComponent(P.value.id))},it=j(()=>ee.value&&ot(ue.value)),ft=Z(!0),gt=j(()=>P.value.isLock&&re.value),pt=j(()=>{let W;return _n.value?W="batchOpt":re.value?W=R.value.type==="dashboard"?"canvas":"canvasDataV":W="preview",W}),ut=p,{element:P,defaultStyle:ge,baseCellInfo:oe,index:ye,isTabMoveCheck:ne,canvasId:ue,scale:Te,canvasActive:Ae}=Kt(ut),Le=Fr(P.value,"pTabGroup"),yt=Br(P.value),je=Z("shape-id-"+P.value.id),Tt=["lt","t","rt","r","rb","b","lb","l"],Gt=["lt","rt","rb","lb"],Zt=["r","l"],qt={lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315},Ht=Z({}),_t=j(()=>a.value&&P.value.canvasId==="canvas-main"),yn=(W,ce)=>{ce==="syncPcDesign"&&(W.preventDefault(),W.stopPropagation()),tt().emitter.emit("onMobileStatusChange",{type:ce,value:P.value.id})},le=[{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}],de=j(()=>{var W;return((W=Q.value)==null?void 0:W.component)==="GroupArea"}),Re=j(()=>{var W;return((W=Q.value)==null?void 0:W.id)===P.value.id}),Xe=j(()=>{const W=["flow-map","map","bubble-map","table-info","table-normal","table-pivot","symbolic-map","heat-map","t-heatmap","circle-packing"];return P.value.isPlugin||W.includes(P.value.innerType)}),Ue=j(()=>R.value.type==="dashboard"),q=()=>P.value.component==="line-shape"?Zt:Tt,fe=()=>Re.value&&!P.value.isLock&&re.value,Pt=W=>{ie("userViewEnlargeOpen",W)},kt=W=>{ie("datasetParamsInit",W)},rt=W=>{let{width:ce,height:me}=ge.value;const{sizeX:nt,sizeY:Qe}=P.value;Ue.value&&!P.value.isPlayer?(ce=nt*oe.value.baseWidth-2*oe.value.curGap,me=Qe*oe.value.baseHeight-2*oe.value.curGap):(ce=ce-2*oe.value.curGap,me=me-2*oe.value.curGap);const Ct=/t/.test(W),qe=/b/.test(W),vt=/l/.test(W),$t=/r/.test(W);let Vt=0,wt=0;return W.length===2?(Vt=vt?0:ce,wt=Ct?0:me):((Ct||qe)&&(Vt=ce/2,wt=Ct?0:me),(vt||$t)&&(Vt=vt?0:ce,wt=Math.floor(me/2))),{marginLeft:"-4px",marginTop:"-4px",left:`${Vt}px`,top:`${wt}px`,cursor:Ht.value[W]}},Ye=()=>{const W=$o(Q.value.style.rotate),ce={};let me=-1;return Tt.forEach(nt=>{const Qe=$o(qt[nt]+W),Ct=le.length;for(;;){me=(me+1)%Ct;const qe=le[me];if(Qe<23||Qe>=338){ce[nt]="nw-resize";return}if(qe.start<=Qe&&Qe<qe.end){ce[nt]=qe.cursor+"-resize";return}}}),ce},Pe=W=>{Ae.value&&(g.setCurComponent({component:P.value,index:ye.value}),It(W))},M=W=>{W&&!W.isLock&&W.isShow&&W.canvasId==="canvas-main"&&!["GroupArea"].includes(W.component)&&De.value.components.push(W)},Ve=()=>{P.value.canvasId!=="canvas-main"&&g.setCurComponent({component:P.value,index:ye.value})},Be=W=>{if(Ae.value){if(bt(W),mt.value&&!De.value.components.includes(P)){M(P.value),Q.value&&Q.value.id!==P.value.id&&M(Q.value),W.stopPropagation();return}if(g.setCurComponent({component:P.value,index:ye.value}),Xe.value){g.setInEditorStatus(!0),g.setClickComponentStatus(!0),W.stopPropagation();return}It(W)}},It=W=>{if(P.value.editing){W.stopPropagation();return}if(Ue.value&&ie("onStartMove",W),Mt(()=>He.emit("componentClick")),g.setInEditorStatus(!0),g.setClickComponentStatus(!0),W.stopPropagation(),P.value.isLock||!re.value)return;Ht.value=Ye();const ce={...ge.value},me=W.clientY,nt=W.clientX,Qe=W.offsetY,Ct=W.offsetX,qe=Number(ce.top),vt=Number(ce.left);let $t=!1,Vt=!0;const wt=m.value.offsetWidth,Wt=y.value.offsetWidth,Xt=y.value.offsetHeight;let tn=Ro(ue.value)?document.getElementById("shape-id-"+ue.value.split("--")[0]):null;const jt=document.getElementById(je.value),hn=Dn=>{$t=!0;const nn=Dn.clientX,cn=Dn.clientY,fn=cn-me+qe,xn=nn-nt+vt;if(ce.top=fn,ce.left=xn,!Le&&yt&&!ot(ue.value)&&!Wo(ue.value)&&!de.value&&(fn<-30||xn<-30||xn+Wt-wt>30)){ft.value=!1,g.setMousePointShadowMap({mouseX:!Qt()&&tn?tn.offsetLeft+jt.offsetLeft+Ct:nn,mouseY:!Qt()&&tn?tn.offsetTop+jt.offsetTop+Qe+100:cn+Fe.value,width:Wt,height:Xt});const Rn=P.value.canvasId.split("--")[0];g.setTabMoveOutComponentId(Rn)}else g.setTabMoveOutComponentId(null),ft.value=!0;_a(),Ue.value&&(Vt||!Me.value&&!Ie.value)&&(P.value.dragging=!0,ie("onDragging",W)),["DeTabs","Group"].includes(P.value.component)&&Va(P.value),(Wo(ue.value)||Ro(ue.value))&&fi(P.value,{width:m.value.offsetWidth,height:m.value.offsetHeight}),Vt&&(Vt=!1),g.setShapeStyle(ce,De.value.components,"move"),de.value||Mt(()=>{He.emit("move",{isDownward:cn-me>0,isRightward:nn-nt>0})})},Ut=()=>{Ue.value&&ie("onMouseUp"),P.value.dragging=!1,$t&&E.recordSnapshotCacheWithPositionChange("shape-handleMouseDownOnShape-up"),He.emit("unMove"),document.removeEventListener("mousemove",hn),document.removeEventListener("mouseup",Ut),Me.value&&(He.emit("onTabMoveIn-"+Me.value,P.value),g.setTabMoveInActiveId(null),g.setTabCollisionActiveId(null)),Se.value&&(He.emit("onTabMoveOut-"+Se.value,sa(P.value)),g.setTabMoveOutComponentId(null)),ba()};document.addEventListener("mousemove",hn),document.addEventListener("mouseup",Ut)},Ot=W=>{Ae.value&&R.value.type==="dataV"&&(W.stopPropagation(),W.preventDefault(),w.hideContextMenu())},bt=W=>{if(_n.value){F.value.batchOptCheckOut(),W.stopPropagation(),W.preventDefault();return}},Ln=(W,ce)=>{if(!Ae.value)return;Ue.value&&ie("onStartResize",ce),g.setInEditorStatus(!0),g.setClickComponentStatus(!0),ce.stopPropagation(),ce.preventDefault();const me={...ge.value},nt=me.width/me.height,Qe={x:me.left+me.width/2,y:me.top+me.height/2},Ct=Ge.value[ue.value].getBoundingClientRect(),qe=ce.target.getBoundingClientRect(),vt={x:Math.round(qe.left-Ct.left+ce.target.offsetWidth/2+Nt("x",W)/2),y:Math.round(qe.top-Ct.top+ce.target.offsetHeight/2+Nt("y",W)/2)},$t={x:Qe.x-(vt.x-Qe.x)-Nt("x",W)/4,y:Qe.y-(vt.y-Qe.y)-Nt("y",W)/4};let Vt=!1,wt=!0;const Wt=Cn(),Xt=Q.value.aspectRatio,tn={};De.value.components.length>0&&De.value.components.forEach(Ut=>{tn[Ut.id]={topRadio:(Ut.style.top-me.top)/me.height,leftRadio:(Ut.style.left-me.left)/me.width,widthRadio:Ut.style.width/me.width,heightRadio:Ut.style.height/me.height}});const jt=Ut=>{if(wt){wt=!1;return}Vt=!0;const Dn={x:Ut.clientX-Math.round(Ct.left)+Nt("x",W),y:Ut.clientY-Math.round(Ct.top)+Nt("y",W)};if(as(W,me,Dn,nt,Wt,{center:Qe,curPoint:vt,symmetricPoint:$t}),sn(me,W),Q.value.maintainRadio){const nn=me.height-ge.value.height,cn=me.width-ge.value.width,fn=nn*Xt;Gt.includes(W)||Math.abs(cn)>Math.abs(fn)?me.height=ge.value.width/Xt:me.width=ge.value.height*Xt}os(W,me,$t),g.setShapeStyle(me,De.value.components,"resize",tn),Ue.value&&ie("onResizing",Ut),P.value.resizing=!0,(["Group"].includes(P.value.component)||["DeTabs"].includes(P.value.component)&&!P.value.resizeInnerKeep)&&Va(P.value),(Wo(ue.value)||Ro(ue.value))&&fi(P.value,{width:m.value.offsetWidth,height:m.value.offsetHeight})},hn=()=>{["DeTabs"].includes(P.value.component)&&P.value.resizeInnerKeep&&vr(P.value),Ue.value&&ie("onMouseUp"),P.value.resizing=!1,document.removeEventListener("mousemove",jt),document.removeEventListener("mouseup",hn),Vt&&E.recordSnapshotCacheWithPositionChange("shape-handleMouseDownOnPoint-up"),ba()};document.addEventListener("mousemove",jt),document.addEventListener("mouseup",hn)},sn=(W,ce)=>{Ue.value||(ce.indexOf("r")>-1&&(W.left=W.left+1),ce.indexOf("b")>-1&&(W.top=W.top+1),ce.indexOf("l")>-1&&(W.width=W.width+1),ce.indexOf("t")>-1&&(W.height=W.height+1))},Nt=(W,ce)=>{const me=oe.value.curGap;return W==="x"?ce.indexOf("r")>-1?me:-1*me:ce.indexOf("b")>-1?me:-1*me},Cn=()=>{if(P.value.component!="Group")return!1;const W=[0,90,180,360];for(const ce of P.value.propValue)if(!W.includes($o(parseInt(ce.style.rotate))))return!0;return!1},Pn=j(()=>{const{backgroundImageEnable:W,backgroundType:ce,innerImage:me}=P.value.commonBackground;return W&&ce==="innerImage"&&typeof me=="string"}),On=j(()=>Pn.value?P.value.commonBackground.innerImage.replace("board/","").replace(".svg",""):null);j(()=>{const W=ge.value.width,ce=ge.value.height,me=P.value.multiDimensional.x,nt=P.value.multiDimensional.y,Qe=me*Math.PI/180,Ct=nt*Math.PI/180,qe=Math.abs(W*Math.cos(Ct))+Math.abs(ce*Math.sin(Qe)),vt=Math.abs(ce*Math.cos(Qe))+Math.abs(W*Math.sin(Ct)),$t=(qe-W)/2,Vt=(vt-ce)/2;return{paddingX:`${$t}px`,paddingY:`${Vt}px`}});const Ca=j(()=>{if(P.value.commonBackground&&P.value.component!=="GroupArea"){const{backdropFilterEnable:W,backdropFilter:ce,backgroundColorSelect:me,backgroundColor:nt,backgroundImageEnable:Qe,backgroundType:Ct,outerImage:qe,innerPadding:vt,borderRadius:$t}=P.value.commonBackground;let wt={padding:(["Group"].includes(P.value.component)?0:vt)*Te.value+"px",borderRadius:$t+"px"},Wt="";return me&&nt&&(Wt=nt),Qe&&Ct==="outerImage"&&typeof qe=="string"?wt.background=`url(${Qo(qe)}) no-repeat ${Wt}`:wt["background-color"]=Wt,P.value.component!=="UserView"&&(wt.overflow="hidden"),W&&(wt["backdrop-filter"]="blur("+ce+"px)"),wt}return{}}),un=j(()=>(Re.value||_n.value)&&["canvas","canvasDataV","batchOpt"].includes(pt.value)||be.value),en=j(()=>be.value&&P.value.id===pe.value.id),Kn=()=>{ie("linkJumpSetOpen")},Aa=()=>{ie("linkageSetOpen")},da=()=>{y.value.setAttribute("tab-is-check",`${ne.value}`),y.value.setAttribute("component-type",`${P.value.component}`),y.value.setAttribute("component-id",`${P.value.id}`)},_a=async()=>{const W=document.querySelector("#"+je.value),ce=W.offsetWidth,me=W.offsetHeight,nt=W.offsetLeft,Qe=W.offsetTop;if(yt&&ne.value&&!_e.ignoreTabMoveComponent.includes(P.value.component)){const Ct=Array.from(m.value.childNodes);for(const qe of Ct)if(qe.className!==void 0&&typeof qe.className=="string"&&qe.className.split(" ").includes("shape")&&qe.getAttribute("component-id")!==je.value&&qe.getAttribute("tab-is-check")!==null&&qe.getAttribute("tab-is-check")!=="false"&&qe.getAttribute("component-type")==="DeTabs"){const vt=qe.getAttribute("component-id"),$t=qe.offsetWidth,Vt=qe.offsetHeight,wt=qe.offsetLeft,Wt=qe.offsetTop,Xt=Wt+_e.tabMoveInYOffset,tn=wt+_e.collisionGap-ce,jt=$t+2*ce-_e.collisionGap,hn=Vt+me-_e.tabMoveInYOffset,Ut=Xt<=Qe&&tn<=nt,Dn=Xt+hn>=Qe+me&&tn<=nt,nn=Xt<=Qe&&tn+jt>=nt+ce,cn=Xt+hn>=Qe+me&&tn+jt>=nt+ce;Ut&&Dn&&nn&&cn?g.setTabCollisionActiveId(vt):Ie.value===vt&&g.setTabCollisionActiveId(null);const fn=Wt+_e.tabMoveInYOffset,xn=wt+_e.collisionGap*10-ce,Rn=$t+2*ce-_e.collisionGap*20,Wn=Vt+me-2*_e.tabMoveInYOffset,fa=fn<=Qe&&xn<=nt,pa=fn+Wn>=Qe+me&&xn<=nt,Tn=fn<=Qe&&xn+Rn>=nt+ce,an=fn+Wn>=Qe+me&&xn+Rn>=nt+ce;fa&&pa&&Tn&&an?g.setTabMoveInActiveId(vt):Me.value===vt&&g.setTabMoveInActiveId(null)}}},Fn=j(()=>{var W;if(P.value.multiDimensional&&((W=P.value.multiDimensional)!=null&&W.enable)){const ce=ge.value.width,me=ge.value.height,nt=P.value.multiDimensional.x,Qe=P.value.multiDimensional.y,Ct=nt*Math.PI/180,qe=Qe*Math.PI/180,vt=Math.abs(ce*Math.cos(qe))+Math.abs(me*Math.sin(Ct)),$t=Math.abs(me*Math.cos(Ct))+Math.abs(ce*Math.sin(qe)),Vt=(vt-ce)/2;return{padding:`${($t-me)/2}px ${Vt}px`,transform:`rotateX(${P.value.multiDimensional.x}deg) rotateY(${P.value.multiDimensional.y}deg) rotateZ(${P.value.multiDimensional.z}deg)`}}else return{}}),_n=j(()=>z.value&&Ue.value),jn=j(()=>Re.value&&!!Ie.value),ea=()=>{x.value=!0,tt().emitter.emit("l7-prepare-picture",P.value.id),setTimeout(()=>{Wa(Ce.value,"canvas-main",Te.value),Di("img",v.value,"图表",()=>{Ei(Ce.value),x.value=!1,tt().emitter.emit("l7-unprepare-picture",P.value.id)})},200)},ba=()=>{P.value.canvasId.includes("Group")&&k.updateGroupBorder(P.value.canvasId)};return mn(()=>{var ce;m.value=document.querySelector("#editor-"+ue.value),Q.value&&(Ht.value=Ye()),He.on("runAnimation",()=>{P.value==Q.value}),He.on("stopAnimation",()=>{}),da();const W="componentImageDownload-"+P.value.id;(ce=tt().emitter.all.get(W))!=null&&ce.length||tt().emitter.on(W,()=>{ea()})}),(W,ce)=>{var Ct;const me=Hn,nt=la,Qe=Co("loading");return Et((S(),J("div",{class:Bt(["shape",{"shape-group-area":de.value}]),ref_key:"shapeInnerRef",ref:y,id:je.value,"element-loading-text":"导出中...","element-loading-background":"rgba(255, 255, 255, 1)",onDblclick:Ve},[_t.value?(S(),J("div",{key:0,title:s(_)("visualization.sync_pc_design"),class:"refresh-from-pc",onClick:ce[0]||(ce[0]=qe=>yn(qe,"syncPcDesign"))},[H(me,null,{default:B(()=>[H(vn,{name:"icon_replace_outlined"},{default:B(()=>[H(s(Ir),{class:"svg-icon"})]),_:1})]),_:1})],8,zs)):K("",!0),_t.value?(S(),J("div",{key:1,class:"del-from-mobile",onClick:ce[1]||(ce[1]=qe=>yn(qe,"delFromMobile"))},[H(me,null,{default:B(()=>[H(vn,{name:"mobile-checkbox"},{default:B(()=>[H(s(Rl),{class:"svg-icon"})]),_:1})]),_:1})])):K("",!0),it.value?(S(),J("div",{key:2,class:"del-from-mobile",onMousedown:Jn(ke,["stop"])},[H(nt,{content:W.$t("visualization.hidden"),placement:"bottom"},{default:B(()=>[H(me,{onClick:ce[3]||(ce[3]=Jn(()=>{},["stop"]))},{default:B(()=>[H(vn,{onClick:ce[2]||(ce[2]=Jn(()=>{},["stop"])),name:"dvHidden"},{default:B(()=>[H(s(Fs),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["content"])],32)):K("",!0),Et(G("div",{class:Bt(["shape-outer",{active:Re.value,"shape-lock":gt.value,"shape-edit":re.value&&!Xe.value,"linkage-setting":en.value,"drag-on-tab-collision":jn.value,"shape-selected":(Ct=s(U))==null?void 0:Ct.includes(s(P).id)}])},[H(ji,{ref_key:"componentEditBarRef",ref:F,class:Bt(["edit-bar",{"edit-bar-active":un.value}]),index:s(ye),element:s(P),"show-position":pt.value,"canvas-id":s(ue),onUserViewEnlargeOpen:Pt,onDatasetParamsInit:kt,onLinkJumpSetOpen:Kn,onLinkageSetOpen:Aa},null,8,["class","index","element","show-position","canvas-id"]),G("div",{class:"shape-inner",ref_key:"componentInnerRef",ref:v,id:Ce.value,style:ht(Ca.value),onClick:Ot,onMousedown:Be},[gt.value?(S(),se(vn,{key:0,name:"dv-lock"},{default:B(()=>[H(s(Zl),{class:"svg-icon iconfont icon-suo"})]),_:1})):K("",!0),G("div",{class:"component-slot",style:ht(Fn.value)},[Yo(W.$slots,"default",{},void 0,!0)],4),Pn.value?(S(),se(ho,{key:1,style:ht({color:s(P).commonBackground.innerImageColor,pointerEvents:"none"}),name:On.value},null,8,["style","name"])):K("",!0)],44,qs),(S(!0),J(Ft,null,Mn(fe()?q():[],qe=>(S(),J("div",{key:qe,class:"shape-point",style:ht(rt(qe)),onMousedown:vt=>Ln(qe,vt)},null,44,Ns))),128)),Et(G("div",{class:"shape-shadow",onMousedown:bt},null,544),[[Jt,_n.value&&s(P).component!=="DeTabs"]]),Xe.value?(S(),J(Ft,{key:0},[Et(G("div",{class:"de-drag-area de-drag-top",onMousedown:Pe},null,544),[[Jt,!s(P).editing]]),Et(G("div",{class:"de-drag-area de-drag-right",onMousedown:Pe},null,544),[[Jt,!s(P).editing&&s(P).component!=="DeTabs"]]),Et(G("div",{class:"de-drag-area de-drag-bottom",onMousedown:Pe},null,544),[[Jt,!s(P).editing&&s(P).component!=="DeTabs"]]),Et(G("div",{class:"de-drag-area de-drag-left",onMousedown:Pe},null,544),[[Jt,!s(P).editing&&s(P).component!=="DeTabs"]])],64)):K("",!0)],2),[[Jt,ft.value]]),H(Ls,{element:s(P)},null,8,["element"])],42,Bs)),[[Qe,x.value]])}}});const js=St($s,[["__scopeId","data-v-e074c784"]]);var Ri={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(p){(function(u,_){p.exports=u.document?_(u,!0):function(g){if(!g.document)throw new Error("jQuery requires a window with a document");return _(g)}})(typeof window<"u"?window:Gr,function(u,_){var g=[],E=Object.getPrototypeOf,w=g.slice,k=g.flat?function(e){return g.flat.call(e)}:function(e){return g.concat.apply([],e)},m=g.push,y=g.indexOf,v={},F=v.toString,x=v.hasOwnProperty,Ce=x.toString,Q=Ce.call(Object),R={},L=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},z=function(t){return t!=null&&t===t.window},U=u.document,be={type:!0,src:!0,nonce:!0,noModule:!0};function pe(e,t,n){n=n||U;var o,i,r=n.createElement("script");if(r.text=e,t)for(o in be)i=t[o]||t.getAttribute&&t.getAttribute(o),i&&r.setAttribute(o,i);n.head.appendChild(r).parentNode.removeChild(r)}function Ie(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?v[F.call(e)]||"object":typeof e}var Me="3.7.1",Se=/HTML$/i,a=function(e,t){return new a.fn.init(e,t)};a.fn=a.prototype={jquery:Me,constructor:a,length:0,toArray:function(){return w.call(this)},get:function(e){return e==null?w.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=a.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return a.each(this,e)},map:function(e){return this.pushStack(a.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(w.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(a.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(a.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:m,sort:g.sort,splice:g.splice},a.extend=a.fn.extend=function(){var e,t,n,o,i,r,l=arguments[0]||{},h=1,f=arguments.length,b=!1;for(typeof l=="boolean"&&(b=l,l=arguments[h]||{},h++),typeof l!="object"&&!L(l)&&(l={}),h===f&&(l=this,h--);h<f;h++)if((e=arguments[h])!=null)for(t in e)o=e[t],!(t==="__proto__"||l===o)&&(b&&o&&(a.isPlainObject(o)||(i=Array.isArray(o)))?(n=l[t],i&&!Array.isArray(n)?r=[]:!i&&!a.isPlainObject(n)?r={}:r=n,i=!1,l[t]=a.extend(b,r,o)):o!==void 0&&(l[t]=o));return l},a.extend({expando:"jQuery"+(Me+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!e||F.call(e)!=="[object Object]"?!1:(t=E(e),t?(n=x.call(t,"constructor")&&t.constructor,typeof n=="function"&&Ce.call(n)===Q):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){pe(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(Fe(e))for(n=e.length;o<n&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},text:function(e){var t,n="",o=0,i=e.nodeType;if(!i)for(;t=e[o++];)n+=a.text(t);return i===1||i===11?e.textContent:i===9?e.documentElement.textContent:i===3||i===4?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return e!=null&&(Fe(Object(e))?a.merge(n,typeof e=="string"?[e]:e):m.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:y.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Se.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o,i=[],r=0,l=e.length,h=!n;r<l;r++)o=!t(e[r],r),o!==h&&i.push(e[r]);return i},map:function(e,t,n){var o,i,r=0,l=[];if(Fe(e))for(o=e.length;r<o;r++)i=t(e[r],r,n),i!=null&&l.push(i);else for(r in e)i=t(e[r],r,n),i!=null&&l.push(i);return k(l)},guid:1,support:R}),typeof Symbol=="function"&&(a.fn[Symbol.iterator]=g[Symbol.iterator]),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){v["[object "+t+"]"]=t.toLowerCase()});function Fe(e){var t=!!e&&"length"in e&&e.length,n=Ie(e);return L(e)||z(e)?!1:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function ee(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Ge=g.pop,De=g.sort,mt=g.splice,ie="[\\x20\\t\\r\\n\\f]",re=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g");a.contains=function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var _e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ke(e,t){return t?e==="\0"?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}a.escapeSelector=function(e){return(e+"").replace(_e,ke)};var it=U,ft=m;(function(){var e,t,n,o,i,r=ft,l,h,f,b,O,$=a.expando,V=0,Y=0,ze=eo(),lt=eo(),Ze=eo(),ln=eo(),Yt=function(d,C){return d===C&&(i=!0),0},Bn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",zn="(?:\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",at="\\["+ie+"*("+zn+")(?:"+ie+"*([*^$|!~]?=)"+ie+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zn+"))|)"+ie+"*\\]",ga=":("+zn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+at+")*)|.*)\\)|)",ct=new RegExp(ie+"+","g"),Rt=new RegExp("^"+ie+"*,"+ie+"*"),Ba=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),Po=new RegExp(ie+"|>"),qn=new RegExp(ga),za=new RegExp("^"+zn+"$"),Nn={ID:new RegExp("^#("+zn+")"),CLASS:new RegExp("^\\.("+zn+")"),TAG:new RegExp("^("+zn+"|[*])"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+Bn+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},aa=/^(?:input|select|textarea|button)$/i,oa=/^h\d$/i,Sn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Oo=/[+~]/,Xn=new RegExp("\\\\[\\da-fA-F]{1,6}"+ie+"?|\\\\([^\\r\\n\\f])","g"),Yn=function(d,C){var T="0x"+d.slice(1)-65536;return C||(T<0?String.fromCharCode(T+65536):String.fromCharCode(T>>10|55296,T&1023|56320))},ar=function(){ia()},or=no(function(d){return d.disabled===!0&&ee(d,"fieldset")},{dir:"parentNode",next:"legend"});function ir(){try{return l.activeElement}catch{}}try{r.apply(g=w.call(it.childNodes),it.childNodes),g[it.childNodes.length].nodeType}catch{r={apply:function(C,T){ft.apply(C,w.call(T))},call:function(C){ft.apply(C,w.call(arguments,1))}}}function xt(d,C,T,A){var N,te,ve,xe,he,Ke,Oe,$e=C&&C.ownerDocument,et=C?C.nodeType:9;if(T=T||[],typeof d!="string"||!d||et!==1&&et!==9&&et!==11)return T;if(!A&&(ia(C),C=C||l,f)){if(et!==11&&(he=Sn.exec(d)))if(N=he[1]){if(et===9)if(ve=C.getElementById(N)){if(ve.id===N)return r.call(T,ve),T}else return T;else if($e&&(ve=$e.getElementById(N))&&xt.contains(C,ve)&&ve.id===N)return r.call(T,ve),T}else{if(he[2])return r.apply(T,C.getElementsByTagName(d)),T;if((N=he[3])&&C.getElementsByClassName)return r.apply(T,C.getElementsByClassName(N)),T}if(!ln[d+" "]&&(!b||!b.test(d))){if(Oe=d,$e=C,et===1&&(Po.test(d)||Ba.test(d))){for($e=Oo.test(d)&&Fo(C.parentNode)||C,($e!=C||!R.scope)&&((xe=C.getAttribute("id"))?xe=a.escapeSelector(xe):C.setAttribute("id",xe=$)),Ke=qa(d),te=Ke.length;te--;)Ke[te]=(xe?"#"+xe:":scope")+" "+to(Ke[te]);Oe=Ke.join(",")}try{return r.apply(T,$e.querySelectorAll(Oe)),T}catch{ln(d,!0)}finally{xe===$&&C.removeAttribute("id")}}}return di(d.replace(re,"$1"),C,T,A)}function eo(){var d=[];function C(T,A){return d.push(T+" ")>t.cacheLength&&delete C[d.shift()],C[T+" "]=A}return C}function Vn(d){return d[$]=!0,d}function ka(d){var C=l.createElement("fieldset");try{return!!d(C)}catch{return!1}finally{C.parentNode&&C.parentNode.removeChild(C),C=null}}function rr(d){return function(C){return ee(C,"input")&&C.type===d}}function lr(d){return function(C){return(ee(C,"input")||ee(C,"button"))&&C.type===d}}function ui(d){return function(C){return"form"in C?C.parentNode&&C.disabled===!1?"label"in C?"label"in C.parentNode?C.parentNode.disabled===d:C.disabled===d:C.isDisabled===d||C.isDisabled!==!d&&or(C)===d:C.disabled===d:"label"in C?C.disabled===d:!1}}function ma(d){return Vn(function(C){return C=+C,Vn(function(T,A){for(var N,te=d([],T.length,C),ve=te.length;ve--;)T[N=te[ve]]&&(T[N]=!(A[N]=T[N]))})})}function Fo(d){return d&&typeof d.getElementsByTagName<"u"&&d}function ia(d){var C,T=d?d.ownerDocument||d:it;return T==l||T.nodeType!==9||!T.documentElement||(l=T,h=l.documentElement,f=!a.isXMLDoc(l),O=h.matches||h.webkitMatchesSelector||h.msMatchesSelector,h.msMatchesSelector&&it!=l&&(C=l.defaultView)&&C.top!==C&&C.addEventListener("unload",ar),R.getById=ka(function(A){return h.appendChild(A).id=a.expando,!l.getElementsByName||!l.getElementsByName(a.expando).length}),R.disconnectedMatch=ka(function(A){return O.call(A,"*")}),R.scope=ka(function(){return l.querySelectorAll(":scope")}),R.cssHas=ka(function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),R.getById?(t.filter.ID=function(A){var N=A.replace(Xn,Yn);return function(te){return te.getAttribute("id")===N}},t.find.ID=function(A,N){if(typeof N.getElementById<"u"&&f){var te=N.getElementById(A);return te?[te]:[]}}):(t.filter.ID=function(A){var N=A.replace(Xn,Yn);return function(te){var ve=typeof te.getAttributeNode<"u"&&te.getAttributeNode("id");return ve&&ve.value===N}},t.find.ID=function(A,N){if(typeof N.getElementById<"u"&&f){var te,ve,xe,he=N.getElementById(A);if(he){if(te=he.getAttributeNode("id"),te&&te.value===A)return[he];for(xe=N.getElementsByName(A),ve=0;he=xe[ve++];)if(te=he.getAttributeNode("id"),te&&te.value===A)return[he]}return[]}}),t.find.TAG=function(A,N){return typeof N.getElementsByTagName<"u"?N.getElementsByTagName(A):N.querySelectorAll(A)},t.find.CLASS=function(A,N){if(typeof N.getElementsByClassName<"u"&&f)return N.getElementsByClassName(A)},b=[],ka(function(A){var N;h.appendChild(A).innerHTML="<a id='"+$+"' href='' disabled='disabled'></a><select id='"+$+"-\r\\' disabled='disabled'><option selected=''></option></select>",A.querySelectorAll("[selected]").length||b.push("\\["+ie+"*(?:value|"+Bn+")"),A.querySelectorAll("[id~="+$+"-]").length||b.push("~="),A.querySelectorAll("a#"+$+"+*").length||b.push(".#.+[+~]"),A.querySelectorAll(":checked").length||b.push(":checked"),N=l.createElement("input"),N.setAttribute("type","hidden"),A.appendChild(N).setAttribute("name","D"),h.appendChild(A).disabled=!0,A.querySelectorAll(":disabled").length!==2&&b.push(":enabled",":disabled"),N=l.createElement("input"),N.setAttribute("name",""),A.appendChild(N),A.querySelectorAll("[name='']").length||b.push("\\["+ie+"*name"+ie+"*="+ie+`*(?:''|"")`)}),R.cssHas||b.push(":has"),b=b.length&&new RegExp(b.join("|")),Yt=function(A,N){if(A===N)return i=!0,0;var te=!A.compareDocumentPosition-!N.compareDocumentPosition;return te||(te=(A.ownerDocument||A)==(N.ownerDocument||N)?A.compareDocumentPosition(N):1,te&1||!R.sortDetached&&N.compareDocumentPosition(A)===te?A===l||A.ownerDocument==it&&xt.contains(it,A)?-1:N===l||N.ownerDocument==it&&xt.contains(it,N)?1:o?y.call(o,A)-y.call(o,N):0:te&4?-1:1)}),l}xt.matches=function(d,C){return xt(d,null,null,C)},xt.matchesSelector=function(d,C){if(ia(d),f&&!ln[C+" "]&&(!b||!b.test(C)))try{var T=O.call(d,C);if(T||R.disconnectedMatch||d.document&&d.document.nodeType!==11)return T}catch{ln(C,!0)}return xt(C,l,null,[d]).length>0},xt.contains=function(d,C){return(d.ownerDocument||d)!=l&&ia(d),a.contains(d,C)},xt.attr=function(d,C){(d.ownerDocument||d)!=l&&ia(d);var T=t.attrHandle[C.toLowerCase()],A=T&&x.call(t.attrHandle,C.toLowerCase())?T(d,C,!f):void 0;return A!==void 0?A:d.getAttribute(C)},xt.error=function(d){throw new Error("Syntax error, unrecognized expression: "+d)},a.uniqueSort=function(d){var C,T=[],A=0,N=0;if(i=!R.sortStable,o=!R.sortStable&&w.call(d,0),De.call(d,Yt),i){for(;C=d[N++];)C===d[N]&&(A=T.push(N));for(;A--;)mt.call(d,T[A],1)}return o=null,d},a.fn.uniqueSort=function(){return this.pushStack(a.uniqueSort(w.apply(this)))},t=a.expr={cacheLength:50,createPseudo:Vn,match:Nn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(d){return d[1]=d[1].replace(Xn,Yn),d[3]=(d[3]||d[4]||d[5]||"").replace(Xn,Yn),d[2]==="~="&&(d[3]=" "+d[3]+" "),d.slice(0,4)},CHILD:function(d){return d[1]=d[1].toLowerCase(),d[1].slice(0,3)==="nth"?(d[3]||xt.error(d[0]),d[4]=+(d[4]?d[5]+(d[6]||1):2*(d[3]==="even"||d[3]==="odd")),d[5]=+(d[7]+d[8]||d[3]==="odd")):d[3]&&xt.error(d[0]),d},PSEUDO:function(d){var C,T=!d[6]&&d[2];return Nn.CHILD.test(d[0])?null:(d[3]?d[2]=d[4]||d[5]||"":T&&qn.test(T)&&(C=qa(T,!0))&&(C=T.indexOf(")",T.length-C)-T.length)&&(d[0]=d[0].slice(0,C),d[2]=T.slice(0,C)),d.slice(0,3))}},filter:{TAG:function(d){var C=d.replace(Xn,Yn).toLowerCase();return d==="*"?function(){return!0}:function(T){return ee(T,C)}},CLASS:function(d){var C=ze[d+" "];return C||(C=new RegExp("(^|"+ie+")"+d+"("+ie+"|$)"))&&ze(d,function(T){return C.test(typeof T.className=="string"&&T.className||typeof T.getAttribute<"u"&&T.getAttribute("class")||"")})},ATTR:function(d,C,T){return function(A){var N=xt.attr(A,d);return N==null?C==="!=":C?(N+="",C==="="?N===T:C==="!="?N!==T:C==="^="?T&&N.indexOf(T)===0:C==="*="?T&&N.indexOf(T)>-1:C==="$="?T&&N.slice(-T.length)===T:C==="~="?(" "+N.replace(ct," ")+" ").indexOf(T)>-1:C==="|="?N===T||N.slice(0,T.length+1)===T+"-":!1):!0}},CHILD:function(d,C,T,A,N){var te=d.slice(0,3)!=="nth",ve=d.slice(-4)!=="last",xe=C==="of-type";return A===1&&N===0?function(he){return!!he.parentNode}:function(he,Ke,Oe){var $e,et,Ee,At,gn,dn=te!==ve?"nextSibling":"previousSibling",kn=he.parentNode,$n=xe&&he.nodeName.toLowerCase(),Ia=!Oe&&!xe,pn=!1;if(kn){if(te){for(;dn;){for(Ee=he;Ee=Ee[dn];)if(xe?ee(Ee,$n):Ee.nodeType===1)return!1;gn=dn=d==="only"&&!gn&&"nextSibling"}return!0}if(gn=[ve?kn.firstChild:kn.lastChild],ve&&Ia){for(et=kn[$]||(kn[$]={}),$e=et[d]||[],At=$e[0]===V&&$e[1],pn=At&&$e[2],Ee=At&&kn.childNodes[At];Ee=++At&&Ee&&Ee[dn]||(pn=At=0)||gn.pop();)if(Ee.nodeType===1&&++pn&&Ee===he){et[d]=[V,At,pn];break}}else if(Ia&&(et=he[$]||(he[$]={}),$e=et[d]||[],At=$e[0]===V&&$e[1],pn=At),pn===!1)for(;(Ee=++At&&Ee&&Ee[dn]||(pn=At=0)||gn.pop())&&!((xe?ee(Ee,$n):Ee.nodeType===1)&&++pn&&(Ia&&(et=Ee[$]||(Ee[$]={}),et[d]=[V,pn]),Ee===he)););return pn-=N,pn===A||pn%A===0&&pn/A>=0}}},PSEUDO:function(d,C){var T,A=t.pseudos[d]||t.setFilters[d.toLowerCase()]||xt.error("unsupported pseudo: "+d);return A[$]?A(C):A.length>1?(T=[d,d,"",C],t.setFilters.hasOwnProperty(d.toLowerCase())?Vn(function(N,te){for(var ve,xe=A(N,C),he=xe.length;he--;)ve=y.call(N,xe[he]),N[ve]=!(te[ve]=xe[he])}):function(N){return A(N,0,T)}):A}},pseudos:{not:Vn(function(d){var C=[],T=[],A=No(d.replace(re,"$1"));return A[$]?Vn(function(N,te,ve,xe){for(var he,Ke=A(N,null,xe,[]),Oe=N.length;Oe--;)(he=Ke[Oe])&&(N[Oe]=!(te[Oe]=he))}):function(N,te,ve){return C[0]=N,A(C,null,ve,T),C[0]=null,!T.pop()}}),has:Vn(function(d){return function(C){return xt(d,C).length>0}}),contains:Vn(function(d){return d=d.replace(Xn,Yn),function(C){return(C.textContent||a.text(C)).indexOf(d)>-1}}),lang:Vn(function(d){return za.test(d||"")||xt.error("unsupported lang: "+d),d=d.replace(Xn,Yn).toLowerCase(),function(C){var T;do if(T=f?C.lang:C.getAttribute("xml:lang")||C.getAttribute("lang"))return T=T.toLowerCase(),T===d||T.indexOf(d+"-")===0;while((C=C.parentNode)&&C.nodeType===1);return!1}}),target:function(d){var C=u.location&&u.location.hash;return C&&C.slice(1)===d.id},root:function(d){return d===h},focus:function(d){return d===ir()&&l.hasFocus()&&!!(d.type||d.href||~d.tabIndex)},enabled:ui(!1),disabled:ui(!0),checked:function(d){return ee(d,"input")&&!!d.checked||ee(d,"option")&&!!d.selected},selected:function(d){return d.parentNode&&d.parentNode.selectedIndex,d.selected===!0},empty:function(d){for(d=d.firstChild;d;d=d.nextSibling)if(d.nodeType<6)return!1;return!0},parent:function(d){return!t.pseudos.empty(d)},header:function(d){return oa.test(d.nodeName)},input:function(d){return aa.test(d.nodeName)},button:function(d){return ee(d,"input")&&d.type==="button"||ee(d,"button")},text:function(d){var C;return ee(d,"input")&&d.type==="text"&&((C=d.getAttribute("type"))==null||C.toLowerCase()==="text")},first:ma(function(){return[0]}),last:ma(function(d,C){return[C-1]}),eq:ma(function(d,C,T){return[T<0?T+C:T]}),even:ma(function(d,C){for(var T=0;T<C;T+=2)d.push(T);return d}),odd:ma(function(d,C){for(var T=1;T<C;T+=2)d.push(T);return d}),lt:ma(function(d,C,T){var A;for(T<0?A=T+C:T>C?A=C:A=T;--A>=0;)d.push(A);return d}),gt:ma(function(d,C,T){for(var A=T<0?T+C:T;++A<C;)d.push(A);return d})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=rr(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=lr(e);function ci(){}ci.prototype=t.filters=t.pseudos,t.setFilters=new ci;function qa(d,C){var T,A,N,te,ve,xe,he,Ke=lt[d+" "];if(Ke)return C?0:Ke.slice(0);for(ve=d,xe=[],he=t.preFilter;ve;){(!T||(A=Rt.exec(ve)))&&(A&&(ve=ve.slice(A[0].length)||ve),xe.push(N=[])),T=!1,(A=Ba.exec(ve))&&(T=A.shift(),N.push({value:T,type:A[0].replace(re," ")}),ve=ve.slice(T.length));for(te in t.filter)(A=Nn[te].exec(ve))&&(!he[te]||(A=he[te](A)))&&(T=A.shift(),N.push({value:T,type:te,matches:A}),ve=ve.slice(T.length));if(!T)break}return C?ve.length:ve?xt.error(d):lt(d,xe).slice(0)}function to(d){for(var C=0,T=d.length,A="";C<T;C++)A+=d[C].value;return A}function no(d,C,T){var A=C.dir,N=C.next,te=N||A,ve=T&&te==="parentNode",xe=Y++;return C.first?function(he,Ke,Oe){for(;he=he[A];)if(he.nodeType===1||ve)return d(he,Ke,Oe);return!1}:function(he,Ke,Oe){var $e,et,Ee=[V,xe];if(Oe){for(;he=he[A];)if((he.nodeType===1||ve)&&d(he,Ke,Oe))return!0}else for(;he=he[A];)if(he.nodeType===1||ve)if(et=he[$]||(he[$]={}),N&&ee(he,N))he=he[A]||he;else{if(($e=et[te])&&$e[0]===V&&$e[1]===xe)return Ee[2]=$e[2];if(et[te]=Ee,Ee[2]=d(he,Ke,Oe))return!0}return!1}}function Bo(d){return d.length>1?function(C,T,A){for(var N=d.length;N--;)if(!d[N](C,T,A))return!1;return!0}:d[0]}function sr(d,C,T){for(var A=0,N=C.length;A<N;A++)xt(d,C[A],T);return T}function ao(d,C,T,A,N){for(var te,ve=[],xe=0,he=d.length,Ke=C!=null;xe<he;xe++)(te=d[xe])&&(!T||T(te,A,N))&&(ve.push(te),Ke&&C.push(xe));return ve}function zo(d,C,T,A,N,te){return A&&!A[$]&&(A=zo(A)),N&&!N[$]&&(N=zo(N,te)),Vn(function(ve,xe,he,Ke){var Oe,$e,et,Ee,At=[],gn=[],dn=xe.length,kn=ve||sr(C||"*",he.nodeType?[he]:he,[]),$n=d&&(ve||!C)?ao(kn,At,d,he,Ke):kn;if(T?(Ee=N||(ve?d:dn||A)?[]:xe,T($n,Ee,he,Ke)):Ee=$n,A)for(Oe=ao(Ee,gn),A(Oe,[],he,Ke),$e=Oe.length;$e--;)(et=Oe[$e])&&(Ee[gn[$e]]=!($n[gn[$e]]=et));if(ve){if(N||d){if(N){for(Oe=[],$e=Ee.length;$e--;)(et=Ee[$e])&&Oe.push($n[$e]=et);N(null,Ee=[],Oe,Ke)}for($e=Ee.length;$e--;)(et=Ee[$e])&&(Oe=N?y.call(ve,et):At[$e])>-1&&(ve[Oe]=!(xe[Oe]=et))}}else Ee=ao(Ee===xe?Ee.splice(dn,Ee.length):Ee),N?N(null,xe,Ee,Ke):r.apply(xe,Ee)})}function qo(d){for(var C,T,A,N=d.length,te=t.relative[d[0].type],ve=te||t.relative[" "],xe=te?1:0,he=no(function($e){return $e===C},ve,!0),Ke=no(function($e){return y.call(C,$e)>-1},ve,!0),Oe=[function($e,et,Ee){var At=!te&&(Ee||et!=n)||((C=et).nodeType?he($e,et,Ee):Ke($e,et,Ee));return C=null,At}];xe<N;xe++)if(T=t.relative[d[xe].type])Oe=[no(Bo(Oe),T)];else{if(T=t.filter[d[xe].type].apply(null,d[xe].matches),T[$]){for(A=++xe;A<N&&!t.relative[d[A].type];A++);return zo(xe>1&&Bo(Oe),xe>1&&to(d.slice(0,xe-1).concat({value:d[xe-2].type===" "?"*":""})).replace(re,"$1"),T,xe<A&&qo(d.slice(xe,A)),A<N&&qo(d=d.slice(A)),A<N&&to(d))}Oe.push(T)}return Bo(Oe)}function ur(d,C){var T=C.length>0,A=d.length>0,N=function(te,ve,xe,he,Ke){var Oe,$e,et,Ee=0,At="0",gn=te&&[],dn=[],kn=n,$n=te||A&&t.find.TAG("*",Ke),Ia=V+=kn==null?1:Math.random()||.1,pn=$n.length;for(Ke&&(n=ve==l||ve||Ke);At!==pn&&(Oe=$n[At])!=null;At++){if(A&&Oe){for($e=0,!ve&&Oe.ownerDocument!=l&&(ia(Oe),xe=!f);et=d[$e++];)if(et(Oe,ve||l,xe)){r.call(he,Oe);break}Ke&&(V=Ia)}T&&((Oe=!et&&Oe)&&Ee--,te&&gn.push(Oe))}if(Ee+=At,T&&At!==Ee){for($e=0;et=C[$e++];)et(gn,dn,ve,xe);if(te){if(Ee>0)for(;At--;)gn[At]||dn[At]||(dn[At]=Ge.call(he));dn=ao(dn)}r.apply(he,dn),Ke&&!te&&dn.length>0&&Ee+C.length>1&&a.uniqueSort(he)}return Ke&&(V=Ia,n=kn),gn};return T?Vn(N):N}function No(d,C){var T,A=[],N=[],te=Ze[d+" "];if(!te){for(C||(C=qa(d)),T=C.length;T--;)te=qo(C[T]),te[$]?A.push(te):N.push(te);te=Ze(d,ur(N,A)),te.selector=d}return te}function di(d,C,T,A){var N,te,ve,xe,he,Ke=typeof d=="function"&&d,Oe=!A&&qa(d=Ke.selector||d);if(T=T||[],Oe.length===1){if(te=Oe[0]=Oe[0].slice(0),te.length>2&&(ve=te[0]).type==="ID"&&C.nodeType===9&&f&&t.relative[te[1].type]){if(C=(t.find.ID(ve.matches[0].replace(Xn,Yn),C)||[])[0],C)Ke&&(C=C.parentNode);else return T;d=d.slice(te.shift().value.length)}for(N=Nn.needsContext.test(d)?0:te.length;N--&&(ve=te[N],!t.relative[xe=ve.type]);)if((he=t.find[xe])&&(A=he(ve.matches[0].replace(Xn,Yn),Oo.test(te[0].type)&&Fo(C.parentNode)||C))){if(te.splice(N,1),d=A.length&&to(te),!d)return r.apply(T,A),T;break}}return(Ke||No(d,Oe))(A,C,!f,T,!C||Oo.test(d)&&Fo(C.parentNode)||C),T}R.sortStable=$.split("").sort(Yt).join("")===$,ia(),R.sortDetached=ka(function(d){return d.compareDocumentPosition(l.createElement("fieldset"))&1}),a.find=xt,a.expr[":"]=a.expr.pseudos,a.unique=a.uniqueSort,xt.compile=No,xt.select=di,xt.setDocument=ia,xt.tokenize=qa,xt.escape=a.escapeSelector,xt.getText=a.text,xt.isXML=a.isXMLDoc,xt.selectors=a.expr,xt.support=a.support,xt.uniqueSort=a.uniqueSort})();var gt=function(e,t,n){for(var o=[],i=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(i&&a(e).is(n))break;o.push(e)}return o},pt=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},ut=a.expr.match.needsContext,P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ge(e,t,n){return L(t)?a.grep(e,function(o,i){return!!t.call(o,i,o)!==n}):t.nodeType?a.grep(e,function(o){return o===t!==n}):typeof t!="string"?a.grep(e,function(o){return y.call(t,o)>-1!==n}):a.filter(t,e,n)}a.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),t.length===1&&o.nodeType===1?a.find.matchesSelector(o,e)?[o]:[]:a.find.matches(e,a.grep(t,function(i){return i.nodeType===1}))},a.fn.extend({find:function(e){var t,n,o=this.length,i=this;if(typeof e!="string")return this.pushStack(a(e).filter(function(){for(t=0;t<o;t++)if(a.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)a.find(e,i[t],n);return o>1?a.uniqueSort(n):n},filter:function(e){return this.pushStack(ge(this,e||[],!1))},not:function(e){return this.pushStack(ge(this,e||[],!0))},is:function(e){return!!ge(this,typeof e=="string"&&ut.test(e)?a(e):e||[],!1).length}});var oe,ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ne=a.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||oe,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?o=[null,e,null]:o=ye.exec(e),o&&(o[1]||!t))if(o[1]){if(t=t instanceof a?t[0]:t,a.merge(this,a.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:U,!0)),P.test(o[1])&&a.isPlainObject(t))for(o in t)L(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}else return i=U.getElementById(o[2]),i&&(this[0]=i,this.length=1),this;else return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(L(e))return n.ready!==void 0?n.ready(e):e(a)}return a.makeArray(e,this)};ne.prototype=a.fn,oe=a(U);var ue=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};a.fn.extend({has:function(e){var t=a(e,this),n=t.length;return this.filter(function(){for(var o=0;o<n;o++)if(a.contains(this,t[o]))return!0})},closest:function(e,t){var n,o=0,i=this.length,r=[],l=typeof e!="string"&&a(e);if(!ut.test(e)){for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(l?l.index(n)>-1:n.nodeType===1&&a.find.matchesSelector(n,e))){r.push(n);break}}return this.pushStack(r.length>1?a.uniqueSort(r):r)},index:function(e){return e?typeof e=="string"?y.call(a(e),this[0]):y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(a.uniqueSort(a.merge(this.get(),a(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Ae(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}a.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return gt(e,"parentNode")},parentsUntil:function(e,t,n){return gt(e,"parentNode",n)},next:function(e){return Ae(e,"nextSibling")},prev:function(e){return Ae(e,"previousSibling")},nextAll:function(e){return gt(e,"nextSibling")},prevAll:function(e){return gt(e,"previousSibling")},nextUntil:function(e,t,n){return gt(e,"nextSibling",n)},prevUntil:function(e,t,n){return gt(e,"previousSibling",n)},siblings:function(e){return pt((e.parentNode||{}).firstChild,e)},children:function(e){return pt(e.firstChild)},contents:function(e){return e.contentDocument!=null&&E(e.contentDocument)?e.contentDocument:(ee(e,"template")&&(e=e.content||e),a.merge([],e.childNodes))}},function(e,t){a.fn[e]=function(n,o){var i=a.map(this,t,n);return e.slice(-5)!=="Until"&&(o=n),o&&typeof o=="string"&&(i=a.filter(o,i)),this.length>1&&(Te[e]||a.uniqueSort(i),ue.test(e)&&i.reverse()),this.pushStack(i)}});var Le=/[^\x20\t\r\n\f]+/g;function yt(e){var t={};return a.each(e.match(Le)||[],function(n,o){t[o]=!0}),t}a.Callbacks=function(e){e=typeof e=="string"?yt(e):a.extend({},e);var t,n,o,i,r=[],l=[],h=-1,f=function(){for(i=i||e.once,o=t=!0;l.length;h=-1)for(n=l.shift();++h<r.length;)r[h].apply(n[0],n[1])===!1&&e.stopOnFalse&&(h=r.length,n=!1);e.memory||(n=!1),t=!1,i&&(n?r=[]:r="")},b={add:function(){return r&&(n&&!t&&(h=r.length-1,l.push(n)),function O($){a.each($,function(V,Y){L(Y)?(!e.unique||!b.has(Y))&&r.push(Y):Y&&Y.length&&Ie(Y)!=="string"&&O(Y)})}(arguments),n&&!t&&f()),this},remove:function(){return a.each(arguments,function(O,$){for(var V;(V=a.inArray($,r,V))>-1;)r.splice(V,1),V<=h&&h--}),this},has:function(O){return O?a.inArray(O,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return i=l=[],r=n="",this},disabled:function(){return!r},lock:function(){return i=l=[],!n&&!t&&(r=n=""),this},locked:function(){return!!i},fireWith:function(O,$){return i||($=$||[],$=[O,$.slice?$.slice():$],l.push($),t||f()),this},fire:function(){return b.fireWith(this,arguments),this},fired:function(){return!!o}};return b};function je(e){return e}function Tt(e){throw e}function Gt(e,t,n,o){var i;try{e&&L(i=e.promise)?i.call(e).done(t).fail(n):e&&L(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(r){n.apply(void 0,[r])}}a.extend({Deferred:function(e){var t=[["notify","progress",a.Callbacks("memory"),a.Callbacks("memory"),2],["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),0,"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(r){return o.then(null,r)},pipe:function(){var r=arguments;return a.Deferred(function(l){a.each(t,function(h,f){var b=L(r[f[4]])&&r[f[4]];i[f[1]](function(){var O=b&&b.apply(this,arguments);O&&L(O.promise)?O.promise().progress(l.notify).done(l.resolve).fail(l.reject):l[f[0]+"With"](this,b?[O]:arguments)})}),r=null}).promise()},then:function(r,l,h){var f=0;function b(O,$,V,Y){return function(){var ze=this,lt=arguments,Ze=function(){var Yt,Bn;if(!(O<f)){if(Yt=V.apply(ze,lt),Yt===$.promise())throw new TypeError("Thenable self-resolution");Bn=Yt&&(typeof Yt=="object"||typeof Yt=="function")&&Yt.then,L(Bn)?Y?Bn.call(Yt,b(f,$,je,Y),b(f,$,Tt,Y)):(f++,Bn.call(Yt,b(f,$,je,Y),b(f,$,Tt,Y),b(f,$,je,$.notifyWith))):(V!==je&&(ze=void 0,lt=[Yt]),(Y||$.resolveWith)(ze,lt))}},ln=Y?Ze:function(){try{Ze()}catch(Yt){a.Deferred.exceptionHook&&a.Deferred.exceptionHook(Yt,ln.error),O+1>=f&&(V!==Tt&&(ze=void 0,lt=[Yt]),$.rejectWith(ze,lt))}};O?ln():(a.Deferred.getErrorHook?ln.error=a.Deferred.getErrorHook():a.Deferred.getStackHook&&(ln.error=a.Deferred.getStackHook()),u.setTimeout(ln))}}return a.Deferred(function(O){t[0][3].add(b(0,O,L(h)?h:je,O.notifyWith)),t[1][3].add(b(0,O,L(r)?r:je)),t[2][3].add(b(0,O,L(l)?l:Tt))}).promise()},promise:function(r){return r!=null?a.extend(r,o):o}},i={};return a.each(t,function(r,l){var h=l[2],f=l[5];o[l[1]]=h.add,f&&h.add(function(){n=f},t[3-r][2].disable,t[3-r][3].disable,t[0][2].lock,t[0][3].lock),h.add(l[3].fire),i[l[0]]=function(){return i[l[0]+"With"](this===i?void 0:this,arguments),this},i[l[0]+"With"]=h.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,o=Array(n),i=w.call(arguments),r=a.Deferred(),l=function(h){return function(f){o[h]=this,i[h]=arguments.length>1?w.call(arguments):f,--t||r.resolveWith(o,i)}};if(t<=1&&(Gt(e,r.done(l(n)).resolve,r.reject,!t),r.state()==="pending"||L(i[n]&&i[n].then)))return r.then();for(;n--;)Gt(i[n],l(n),r.reject);return r.promise()}});var Zt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;a.Deferred.exceptionHook=function(e,t){u.console&&u.console.warn&&e&&Zt.test(e.name)&&u.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},a.readyException=function(e){u.setTimeout(function(){throw e})};var qt=a.Deferred();a.fn.ready=function(e){return qt.then(e).catch(function(t){a.readyException(t)}),this},a.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--a.readyWait:a.isReady)||(a.isReady=!0,!(e!==!0&&--a.readyWait>0)&&qt.resolveWith(U,[a]))}}),a.ready.then=qt.then;function Ht(){U.removeEventListener("DOMContentLoaded",Ht),u.removeEventListener("load",Ht),a.ready()}U.readyState==="complete"||U.readyState!=="loading"&&!U.documentElement.doScroll?u.setTimeout(a.ready):(U.addEventListener("DOMContentLoaded",Ht),u.addEventListener("load",Ht));var _t=function(e,t,n,o,i,r,l){var h=0,f=e.length,b=n==null;if(Ie(n)==="object"){i=!0;for(h in n)_t(e,t,h,n[h],!0,r,l)}else if(o!==void 0&&(i=!0,L(o)||(l=!0),b&&(l?(t.call(e,o),t=null):(b=t,t=function(O,$,V){return b.call(a(O),V)})),t))for(;h<f;h++)t(e[h],n,l?o:o.call(e[h],h,t(e[h],n)));return i?e:b?t.call(e):f?t(e[0],n):r},yn=/^-ms-/,le=/-([a-z])/g;function de(e,t){return t.toUpperCase()}function Re(e){return e.replace(yn,"ms-").replace(le,de)}var Xe=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function Ue(){this.expando=a.expando+Ue.uid++}Ue.uid=1,Ue.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Xe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,i=this.cache(e);if(typeof t=="string")i[Re(t)]=n;else for(o in t)i[Re(o)]=t[o];return i},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][Re(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,o=e[this.expando];if(o!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(Re):(t=Re(t),t=t in o?[t]:t.match(Le)||[]),n=t.length;n--;)delete o[t[n]];(t===void 0||a.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!a.isEmptyObject(t)}};var q=new Ue,fe=new Ue,Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/[A-Z]/g;function rt(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:Pt.test(e)?JSON.parse(e):e}function Ye(e,t,n){var o;if(n===void 0&&e.nodeType===1)if(o="data-"+t.replace(kt,"-$&").toLowerCase(),n=e.getAttribute(o),typeof n=="string"){try{n=rt(n)}catch{}fe.set(e,t,n)}else n=void 0;return n}a.extend({hasData:function(e){return fe.hasData(e)||q.hasData(e)},data:function(e,t,n){return fe.access(e,t,n)},removeData:function(e,t){fe.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),a.fn.extend({data:function(e,t){var n,o,i,r=this[0],l=r&&r.attributes;if(e===void 0){if(this.length&&(i=fe.get(r),r.nodeType===1&&!q.get(r,"hasDataAttrs"))){for(n=l.length;n--;)l[n]&&(o=l[n].name,o.indexOf("data-")===0&&(o=Re(o.slice(5)),Ye(r,o,i[o])));q.set(r,"hasDataAttrs",!0)}return i}return typeof e=="object"?this.each(function(){fe.set(this,e)}):_t(this,function(h){var f;if(r&&h===void 0)return f=fe.get(r,e),f!==void 0||(f=Ye(r,e),f!==void 0)?f:void 0;this.each(function(){fe.set(this,e,h)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){fe.remove(this,e)})}}),a.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=q.get(e,t),n&&(!o||Array.isArray(n)?o=q.access(e,t,a.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=a.queue(e,t),o=n.length,i=n.shift(),r=a._queueHooks(e,t),l=function(){a.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),o--),i&&(t==="fx"&&n.unshift("inprogress"),delete r.stop,i.call(e,l,r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:a.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),a.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?a.queue(this[0],e):t===void 0?this:this.each(function(){var o=a.queue(this,e,t);a._queueHooks(this,e),e==="fx"&&o[0]!=="inprogress"&&a.dequeue(this,e)})},dequeue:function(e){return this.each(function(){a.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=a.Deferred(),r=this,l=this.length,h=function(){--o||i.resolveWith(r,[r])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";l--;)n=q.get(r[l],e+"queueHooks"),n&&n.empty&&(o++,n.empty.add(h));return h(),i.promise(t)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,M=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],Be=U.documentElement,It=function(e){return a.contains(e.ownerDocument,e)},Ot={composed:!0};Be.getRootNode&&(It=function(e){return a.contains(e.ownerDocument,e)||e.getRootNode(Ot)===e.ownerDocument});var bt=function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&It(e)&&a.css(e,"display")==="none"};function Ln(e,t,n,o){var i,r,l=20,h=o?function(){return o.cur()}:function(){return a.css(e,t,"")},f=h(),b=n&&n[3]||(a.cssNumber[t]?"":"px"),O=e.nodeType&&(a.cssNumber[t]||b!=="px"&&+f)&&M.exec(a.css(e,t));if(O&&O[3]!==b){for(f=f/2,b=b||O[3],O=+f||1;l--;)a.style(e,t,O+b),(1-r)*(1-(r=h()/f||.5))<=0&&(l=0),O=O/r;O=O*2,a.style(e,t,O+b),n=n||[]}return n&&(O=+O||+f||0,i=n[1]?O+(n[1]+1)*n[2]:+n[2],o&&(o.unit=b,o.start=O,o.end=i)),i}var sn={};function Nt(e){var t,n=e.ownerDocument,o=e.nodeName,i=sn[o];return i||(t=n.body.appendChild(n.createElement(o)),i=a.css(t,"display"),t.parentNode.removeChild(t),i==="none"&&(i="block"),sn[o]=i,i)}function Cn(e,t){for(var n,o,i=[],r=0,l=e.length;r<l;r++)o=e[r],o.style&&(n=o.style.display,t?(n==="none"&&(i[r]=q.get(o,"display")||null,i[r]||(o.style.display="")),o.style.display===""&&bt(o)&&(i[r]=Nt(o))):n!=="none"&&(i[r]="none",q.set(o,"display",n)));for(r=0;r<l;r++)i[r]!=null&&(e[r].style.display=i[r]);return e}a.fn.extend({show:function(){return Cn(this,!0)},hide:function(){return Cn(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){bt(this)?a(this).show():a(this).hide()})}});var Pn=/^(?:checkbox|radio)$/i,On=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ca=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=U.createDocumentFragment(),t=e.appendChild(U.createElement("div")),n=U.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),R.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",R.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",R.option=!!t.lastChild})();var un={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};un.tbody=un.tfoot=un.colgroup=un.caption=un.thead,un.th=un.td,R.option||(un.optgroup=un.option=[1,"<select multiple='multiple'>","</select>"]);function en(e,t){var n;return typeof e.getElementsByTagName<"u"?n=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?n=e.querySelectorAll(t||"*"):n=[],t===void 0||t&&ee(e,t)?a.merge([e],n):n}function Kn(e,t){for(var n=0,o=e.length;n<o;n++)q.set(e[n],"globalEval",!t||q.get(t[n],"globalEval"))}var Aa=/<|&#?\w+;/;function da(e,t,n,o,i){for(var r,l,h,f,b,O,$=t.createDocumentFragment(),V=[],Y=0,ze=e.length;Y<ze;Y++)if(r=e[Y],r||r===0)if(Ie(r)==="object")a.merge(V,r.nodeType?[r]:r);else if(!Aa.test(r))V.push(t.createTextNode(r));else{for(l=l||$.appendChild(t.createElement("div")),h=(On.exec(r)||["",""])[1].toLowerCase(),f=un[h]||un._default,l.innerHTML=f[1]+a.htmlPrefilter(r)+f[2],O=f[0];O--;)l=l.lastChild;a.merge(V,l.childNodes),l=$.firstChild,l.textContent=""}for($.textContent="",Y=0;r=V[Y++];){if(o&&a.inArray(r,o)>-1){i&&i.push(r);continue}if(b=It(r),l=en($.appendChild(r),"script"),b&&Kn(l),n)for(O=0;r=l[O++];)Ca.test(r.type||"")&&n.push(r)}return $}var _a=/^([^.]*)(?:\.(.+)|)/;function Fn(){return!0}function _n(){return!1}function jn(e,t,n,o,i,r){var l,h;if(typeof t=="object"){typeof n!="string"&&(o=o||n,n=void 0);for(h in t)jn(e,h,n,o,t[h],r);return e}if(o==null&&i==null?(i=n,o=n=void 0):i==null&&(typeof n=="string"?(i=o,o=void 0):(i=o,o=n,n=void 0)),i===!1)i=_n;else if(!i)return e;return r===1&&(l=i,i=function(f){return a().off(f),l.apply(this,arguments)},i.guid=l.guid||(l.guid=a.guid++)),e.each(function(){a.event.add(this,t,i,o,n)})}a.event={global:{},add:function(e,t,n,o,i){var r,l,h,f,b,O,$,V,Y,ze,lt,Ze=q.get(e);if(Xe(e))for(n.handler&&(r=n,n=r.handler,i=r.selector),i&&a.find.matchesSelector(Be,i),n.guid||(n.guid=a.guid++),(f=Ze.events)||(f=Ze.events=Object.create(null)),(l=Ze.handle)||(l=Ze.handle=function(ln){return typeof a<"u"&&a.event.triggered!==ln.type?a.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Le)||[""],b=t.length;b--;)h=_a.exec(t[b])||[],Y=lt=h[1],ze=(h[2]||"").split(".").sort(),Y&&($=a.event.special[Y]||{},Y=(i?$.delegateType:$.bindType)||Y,$=a.event.special[Y]||{},O=a.extend({type:Y,origType:lt,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&a.expr.match.needsContext.test(i),namespace:ze.join(".")},r),(V=f[Y])||(V=f[Y]=[],V.delegateCount=0,(!$.setup||$.setup.call(e,o,ze,l)===!1)&&e.addEventListener&&e.addEventListener(Y,l)),$.add&&($.add.call(e,O),O.handler.guid||(O.handler.guid=n.guid)),i?V.splice(V.delegateCount++,0,O):V.push(O),a.event.global[Y]=!0)},remove:function(e,t,n,o,i){var r,l,h,f,b,O,$,V,Y,ze,lt,Ze=q.hasData(e)&&q.get(e);if(!(!Ze||!(f=Ze.events))){for(t=(t||"").match(Le)||[""],b=t.length;b--;){if(h=_a.exec(t[b])||[],Y=lt=h[1],ze=(h[2]||"").split(".").sort(),!Y){for(Y in f)a.event.remove(e,Y+t[b],n,o,!0);continue}for($=a.event.special[Y]||{},Y=(o?$.delegateType:$.bindType)||Y,V=f[Y]||[],h=h[2]&&new RegExp("(^|\\.)"+ze.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=V.length;r--;)O=V[r],(i||lt===O.origType)&&(!n||n.guid===O.guid)&&(!h||h.test(O.namespace))&&(!o||o===O.selector||o==="**"&&O.selector)&&(V.splice(r,1),O.selector&&V.delegateCount--,$.remove&&$.remove.call(e,O));l&&!V.length&&((!$.teardown||$.teardown.call(e,ze,Ze.handle)===!1)&&a.removeEvent(e,Y,Ze.handle),delete f[Y])}a.isEmptyObject(f)&&q.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,r,l,h=new Array(arguments.length),f=a.event.fix(e),b=(q.get(this,"events")||Object.create(null))[f.type]||[],O=a.event.special[f.type]||{};for(h[0]=f,t=1;t<arguments.length;t++)h[t]=arguments[t];if(f.delegateTarget=this,!(O.preDispatch&&O.preDispatch.call(this,f)===!1)){for(l=a.event.handlers.call(this,f,b),t=0;(i=l[t++])&&!f.isPropagationStopped();)for(f.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!f.isImmediatePropagationStopped();)(!f.rnamespace||r.namespace===!1||f.rnamespace.test(r.namespace))&&(f.handleObj=r,f.data=r.data,o=((a.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,h),o!==void 0&&(f.result=o)===!1&&(f.preventDefault(),f.stopPropagation()));return O.postDispatch&&O.postDispatch.call(this,f),f.result}},handlers:function(e,t){var n,o,i,r,l,h=[],f=t.delegateCount,b=e.target;if(f&&b.nodeType&&!(e.type==="click"&&e.button>=1)){for(;b!==this;b=b.parentNode||this)if(b.nodeType===1&&!(e.type==="click"&&b.disabled===!0)){for(r=[],l={},n=0;n<f;n++)o=t[n],i=o.selector+" ",l[i]===void 0&&(l[i]=o.needsContext?a(i,this).index(b)>-1:a.find(i,this,null,[b]).length),l[i]&&r.push(o);r.length&&h.push({elem:b,handlers:r})}}return b=this,f<t.length&&h.push({elem:b,handlers:t.slice(f)}),h},addProp:function(e,t){Object.defineProperty(a.Event.prototype,e,{enumerable:!0,configurable:!0,get:L(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[a.expando]?e:new a.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Pn.test(t.type)&&t.click&&ee(t,"input")&&ea(t,"click",!0),!1},trigger:function(e){var t=this||e;return Pn.test(t.type)&&t.click&&ee(t,"input")&&ea(t,"click"),!0},_default:function(e){var t=e.target;return Pn.test(t.type)&&t.click&&ee(t,"input")&&q.get(t,"click")||ee(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function ea(e,t,n){if(!n){q.get(e,t)===void 0&&a.event.add(e,t,Fn);return}q.set(e,t,!1),a.event.add(e,t,{namespace:!1,handler:function(o){var i,r=q.get(this,t);if(o.isTrigger&1&&this[t]){if(r)(a.event.special[t]||{}).delegateType&&o.stopPropagation();else if(r=w.call(arguments),q.set(this,t,r),this[t](),i=q.get(this,t),q.set(this,t,!1),r!==i)return o.stopImmediatePropagation(),o.preventDefault(),i}else r&&(q.set(this,t,a.event.trigger(r[0],r.slice(1),this)),o.stopPropagation(),o.isImmediatePropagationStopped=Fn)}})}a.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},a.Event=function(e,t){if(!(this instanceof a.Event))return new a.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?Fn:_n,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&a.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[a.expando]=!0},a.Event.prototype={constructor:a.Event,isDefaultPrevented:_n,isPropagationStopped:_n,isImmediatePropagationStopped:_n,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fn,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fn,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fn,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},a.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},a.event.addProp),a.each({focus:"focusin",blur:"focusout"},function(e,t){function n(o){if(U.documentMode){var i=q.get(this,"handle"),r=a.event.fix(o);r.type=o.type==="focusin"?"focus":"blur",r.isSimulated=!0,i(o),r.target===r.currentTarget&&i(r)}else a.event.simulate(t,o.target,a.event.fix(o))}a.event.special[e]={setup:function(){var o;if(ea(this,e,!0),U.documentMode)o=q.get(this,t),o||this.addEventListener(t,n),q.set(this,t,(o||0)+1);else return!1},trigger:function(){return ea(this,e),!0},teardown:function(){var o;if(U.documentMode)o=q.get(this,t)-1,o?q.set(this,t,o):(this.removeEventListener(t,n),q.remove(this,t));else return!1},_default:function(o){return q.get(o.target,e)},delegateType:t},a.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,i=U.documentMode?this:o,r=q.get(i,t);r||(U.documentMode?this.addEventListener(t,n):o.addEventListener(e,n,!0)),q.set(i,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,i=U.documentMode?this:o,r=q.get(i,t)-1;r?q.set(i,t,r):(U.documentMode?this.removeEventListener(t,n):o.removeEventListener(e,n,!0),q.remove(i,t))}}}),a.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){a.event.special[e]={delegateType:t,bindType:t,handle:function(n){var o,i=this,r=n.relatedTarget,l=n.handleObj;return(!r||r!==i&&!a.contains(i,r))&&(n.type=l.origType,o=l.handler.apply(this,arguments),n.type=t),o}}}),a.fn.extend({on:function(e,t,n,o){return jn(this,e,t,n,o)},one:function(e,t,n,o){return jn(this,e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,a(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||typeof t=="function")&&(n=t,t=void 0),n===!1&&(n=_n),this.each(function(){a.event.remove(this,e,n,t)})}});var ba=/<script|<style|<link/i,W=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function me(e,t){return ee(e,"table")&&ee(t.nodeType!==11?t:t.firstChild,"tr")&&a(e).children("tbody")[0]||e}function nt(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function Qe(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ct(e,t){var n,o,i,r,l,h,f;if(t.nodeType===1){if(q.hasData(e)&&(r=q.get(e),f=r.events,f)){q.remove(t,"handle events");for(i in f)for(n=0,o=f[i].length;n<o;n++)a.event.add(t,i,f[i][n])}fe.hasData(e)&&(l=fe.access(e),h=a.extend({},l),fe.set(t,h))}}function qe(e,t){var n=t.nodeName.toLowerCase();n==="input"&&Pn.test(e.type)?t.checked=e.checked:(n==="input"||n==="textarea")&&(t.defaultValue=e.defaultValue)}function vt(e,t,n,o){t=k(t);var i,r,l,h,f,b,O=0,$=e.length,V=$-1,Y=t[0],ze=L(Y);if(ze||$>1&&typeof Y=="string"&&!R.checkClone&&W.test(Y))return e.each(function(lt){var Ze=e.eq(lt);ze&&(t[0]=Y.call(this,lt,Ze.html())),vt(Ze,t,n,o)});if($&&(i=da(t,e[0].ownerDocument,!1,e,o),r=i.firstChild,i.childNodes.length===1&&(i=r),r||o)){for(l=a.map(en(i,"script"),nt),h=l.length;O<$;O++)f=i,O!==V&&(f=a.clone(f,!0,!0),h&&a.merge(l,en(f,"script"))),n.call(e[O],f,O);if(h)for(b=l[l.length-1].ownerDocument,a.map(l,Qe),O=0;O<h;O++)f=l[O],Ca.test(f.type||"")&&!q.access(f,"globalEval")&&a.contains(b,f)&&(f.src&&(f.type||"").toLowerCase()!=="module"?a._evalUrl&&!f.noModule&&a._evalUrl(f.src,{nonce:f.nonce||f.getAttribute("nonce")},b):pe(f.textContent.replace(ce,""),f,b))}return e}function $t(e,t,n){for(var o,i=t?a.filter(t,e):e,r=0;(o=i[r])!=null;r++)!n&&o.nodeType===1&&a.cleanData(en(o)),o.parentNode&&(n&&It(o)&&Kn(en(o,"script")),o.parentNode.removeChild(o));return e}a.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,i,r,l,h=e.cloneNode(!0),f=It(e);if(!R.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!a.isXMLDoc(e))for(l=en(h),r=en(e),o=0,i=r.length;o<i;o++)qe(r[o],l[o]);if(t)if(n)for(r=r||en(e),l=l||en(h),o=0,i=r.length;o<i;o++)Ct(r[o],l[o]);else Ct(e,h);return l=en(h,"script"),l.length>0&&Kn(l,!f&&en(e,"script")),h},cleanData:function(e){for(var t,n,o,i=a.event.special,r=0;(n=e[r])!==void 0;r++)if(Xe(n)){if(t=n[q.expando]){if(t.events)for(o in t.events)i[o]?a.event.remove(n,o):a.removeEvent(n,o,t.handle);n[q.expando]=void 0}n[fe.expando]&&(n[fe.expando]=void 0)}}}),a.fn.extend({detach:function(e){return $t(this,e,!0)},remove:function(e){return $t(this,e)},text:function(e){return _t(this,function(t){return t===void 0?a.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return vt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=me(this,e);t.appendChild(e)}})},prepend:function(){return vt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return vt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return vt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(a.cleanData(en(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return a.clone(this,e,t)})},html:function(e){return _t(this,function(t){var n=this[0]||{},o=0,i=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!ba.test(t)&&!un[(On.exec(t)||["",""])[1].toLowerCase()]){t=a.htmlPrefilter(t);try{for(;o<i;o++)n=this[o]||{},n.nodeType===1&&(a.cleanData(en(n,!1)),n.innerHTML=t);n=0}catch{}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return vt(this,arguments,function(t){var n=this.parentNode;a.inArray(this,e)<0&&(a.cleanData(en(this)),n&&n.replaceChild(t,this))},e)}}),a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){a.fn[e]=function(n){for(var o,i=[],r=a(n),l=r.length-1,h=0;h<=l;h++)o=h===l?this:this.clone(!0),a(r[h])[t](o),m.apply(i,o.get());return this.pushStack(i)}});var Vt=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),wt=/^--/,Wt=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=u),t.getComputedStyle(e)},Xt=function(e,t,n){var o,i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];o=n.call(e);for(i in t)e.style[i]=r[i];return o},tn=new RegExp(Ve.join("|"),"i");(function(){function e(){if(b){f.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",b.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Be.appendChild(f).appendChild(b);var O=u.getComputedStyle(b);n=O.top!=="1%",h=t(O.marginLeft)===12,b.style.right="60%",r=t(O.right)===36,o=t(O.width)===36,b.style.position="absolute",i=t(b.offsetWidth/3)===12,Be.removeChild(f),b=null}}function t(O){return Math.round(parseFloat(O))}var n,o,i,r,l,h,f=U.createElement("div"),b=U.createElement("div");b.style&&(b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",R.clearCloneStyle=b.style.backgroundClip==="content-box",a.extend(R,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),h},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var O,$,V,Y;return l==null&&(O=U.createElement("table"),$=U.createElement("tr"),V=U.createElement("div"),O.style.cssText="position:absolute;left:-11111px;border-collapse:separate",$.style.cssText="box-sizing:content-box;border:1px solid",$.style.height="1px",V.style.height="9px",V.style.display="block",Be.appendChild(O).appendChild($).appendChild(V),Y=u.getComputedStyle($),l=parseInt(Y.height,10)+parseInt(Y.borderTopWidth,10)+parseInt(Y.borderBottomWidth,10)===$.offsetHeight,Be.removeChild(O)),l}}))})();function jt(e,t,n){var o,i,r,l,h=wt.test(t),f=e.style;return n=n||Wt(e),n&&(l=n.getPropertyValue(t)||n[t],h&&l&&(l=l.replace(re,"$1")||void 0),l===""&&!It(e)&&(l=a.style(e,t)),!R.pixelBoxStyles()&&Vt.test(l)&&tn.test(t)&&(o=f.width,i=f.minWidth,r=f.maxWidth,f.minWidth=f.maxWidth=f.width=l,l=n.width,f.width=o,f.minWidth=i,f.maxWidth=r)),l!==void 0?l+"":l}function hn(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var Ut=["Webkit","Moz","ms"],Dn=U.createElement("div").style,nn={};function cn(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ut.length;n--;)if(e=Ut[n]+t,e in Dn)return e}function fn(e){var t=a.cssProps[e]||nn[e];return t||(e in Dn?e:nn[e]=cn(e)||e)}var xn=/^(none|table(?!-c[ea]).+)/,Rn={position:"absolute",visibility:"hidden",display:"block"},Wn={letterSpacing:"0",fontWeight:"400"};function fa(e,t,n){var o=M.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function pa(e,t,n,o,i,r){var l=t==="width"?1:0,h=0,f=0,b=0;if(n===(o?"border":"content"))return 0;for(;l<4;l+=2)n==="margin"&&(b+=a.css(e,n+Ve[l],!0,i)),o?(n==="content"&&(f-=a.css(e,"padding"+Ve[l],!0,i)),n!=="margin"&&(f-=a.css(e,"border"+Ve[l]+"Width",!0,i))):(f+=a.css(e,"padding"+Ve[l],!0,i),n!=="padding"?f+=a.css(e,"border"+Ve[l]+"Width",!0,i):h+=a.css(e,"border"+Ve[l]+"Width",!0,i));return!o&&r>=0&&(f+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-f-h-.5))||0),f+b}function Tn(e,t,n){var o=Wt(e),i=!R.boxSizingReliable()||n,r=i&&a.css(e,"boxSizing",!1,o)==="border-box",l=r,h=jt(e,t,o),f="offset"+t[0].toUpperCase()+t.slice(1);if(Vt.test(h)){if(!n)return h;h="auto"}return(!R.boxSizingReliable()&&r||!R.reliableTrDimensions()&&ee(e,"tr")||h==="auto"||!parseFloat(h)&&a.css(e,"display",!1,o)==="inline")&&e.getClientRects().length&&(r=a.css(e,"boxSizing",!1,o)==="border-box",l=f in e,l&&(h=e[f])),h=parseFloat(h)||0,h+pa(e,t,n||(r?"border":"content"),l,o,h)+"px"}a.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=jt(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,o){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var i,r,l,h=Re(t),f=wt.test(t),b=e.style;if(f||(t=fn(h)),l=a.cssHooks[t]||a.cssHooks[h],n!==void 0){if(r=typeof n,r==="string"&&(i=M.exec(n))&&i[1]&&(n=Ln(e,t,i),r="number"),n==null||n!==n)return;r==="number"&&!f&&(n+=i&&i[3]||(a.cssNumber[h]?"":"px")),!R.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(b[t]="inherit"),(!l||!("set"in l)||(n=l.set(e,n,o))!==void 0)&&(f?b.setProperty(t,n):b[t]=n)}else return l&&"get"in l&&(i=l.get(e,!1,o))!==void 0?i:b[t]}},css:function(e,t,n,o){var i,r,l,h=Re(t),f=wt.test(t);return f||(t=fn(h)),l=a.cssHooks[t]||a.cssHooks[h],l&&"get"in l&&(i=l.get(e,!0,n)),i===void 0&&(i=jt(e,t,o)),i==="normal"&&t in Wn&&(i=Wn[t]),n===""||n?(r=parseFloat(i),n===!0||isFinite(r)?r||0:i):i}}),a.each(["height","width"],function(e,t){a.cssHooks[t]={get:function(n,o,i){if(o)return xn.test(a.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?Xt(n,Rn,function(){return Tn(n,t,i)}):Tn(n,t,i)},set:function(n,o,i){var r,l=Wt(n),h=!R.scrollboxSize()&&l.position==="absolute",f=h||i,b=f&&a.css(n,"boxSizing",!1,l)==="border-box",O=i?pa(n,t,i,b,l):0;return b&&h&&(O-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(l[t])-pa(n,t,"border",!1,l)-.5)),O&&(r=M.exec(o))&&(r[3]||"px")!=="px"&&(n.style[t]=o,o=a.css(n,t)),fa(n,o,O)}}}),a.cssHooks.marginLeft=hn(R.reliableMarginLeft,function(e,t){if(t)return(parseFloat(jt(e,"marginLeft"))||e.getBoundingClientRect().left-Xt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),a.each({margin:"",padding:"",border:"Width"},function(e,t){a.cssHooks[e+t]={expand:function(n){for(var o=0,i={},r=typeof n=="string"?n.split(" "):[n];o<4;o++)i[e+Ve[o]+t]=r[o]||r[o-2]||r[0];return i}},e!=="margin"&&(a.cssHooks[e+t].set=fa)}),a.fn.extend({css:function(e,t){return _t(this,function(n,o,i){var r,l,h={},f=0;if(Array.isArray(o)){for(r=Wt(n),l=o.length;f<l;f++)h[o[f]]=a.css(n,o[f],!1,r);return h}return i!==void 0?a.style(n,o,i):a.css(n,o)},e,t,arguments.length>1)}});function an(e,t,n,o,i){return new an.prototype.init(e,t,n,o,i)}a.Tween=an,an.prototype={constructor:an,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||a.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(a.cssNumber[n]?"":"px")},cur:function(){var e=an.propHooks[this.prop];return e&&e.get?e.get(this):an.propHooks._default.get(this)},run:function(e){var t,n=an.propHooks[this.prop];return this.options.duration?this.pos=t=a.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):an.propHooks._default.set(this),this}},an.prototype.init.prototype=an.prototype,an.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=a.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){a.fx.step[e.prop]?a.fx.step[e.prop](e):e.elem.nodeType===1&&(a.cssHooks[e.prop]||e.elem.style[fn(e.prop)]!=null)?a.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},an.propHooks.scrollTop=an.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},a.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},a.fx=an.prototype.init,a.fx.step={};var ta,wa,xa=/^(?:toggle|show|hide)$/,Mo=/queueHooks$/;function Ea(){wa&&(U.hidden===!1&&u.requestAnimationFrame?u.requestAnimationFrame(Ea):u.setTimeout(Ea,a.fx.interval),a.fx.tick())}function La(){return u.setTimeout(function(){ta=void 0}),ta=Date.now()}function Sa(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)n=Ve[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ga(e,t,n){for(var o,i=(bn.tweeners[t]||[]).concat(bn.tweeners["*"]),r=0,l=i.length;r<l;r++)if(o=i[r].call(n,t,e))return o}function Za(e,t,n){var o,i,r,l,h,f,b,O,$="width"in t||"height"in t,V=this,Y={},ze=e.style,lt=e.nodeType&&bt(e),Ze=q.get(e,"fxshow");n.queue||(l=a._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,h=l.empty.fire,l.empty.fire=function(){l.unqueued||h()}),l.unqueued++,V.always(function(){V.always(function(){l.unqueued--,a.queue(e,"fx").length||l.empty.fire()})}));for(o in t)if(i=t[o],xa.test(i)){if(delete t[o],r=r||i==="toggle",i===(lt?"hide":"show"))if(i==="show"&&Ze&&Ze[o]!==void 0)lt=!0;else continue;Y[o]=Ze&&Ze[o]||a.style(e,o)}if(f=!a.isEmptyObject(t),!(!f&&a.isEmptyObject(Y))){$&&e.nodeType===1&&(n.overflow=[ze.overflow,ze.overflowX,ze.overflowY],b=Ze&&Ze.display,b==null&&(b=q.get(e,"display")),O=a.css(e,"display"),O==="none"&&(b?O=b:(Cn([e],!0),b=e.style.display||b,O=a.css(e,"display"),Cn([e]))),(O==="inline"||O==="inline-block"&&b!=null)&&a.css(e,"float")==="none"&&(f||(V.done(function(){ze.display=b}),b==null&&(O=ze.display,b=O==="none"?"":O)),ze.display="inline-block")),n.overflow&&(ze.overflow="hidden",V.always(function(){ze.overflow=n.overflow[0],ze.overflowX=n.overflow[1],ze.overflowY=n.overflow[2]})),f=!1;for(o in Y)f||(Ze?"hidden"in Ze&&(lt=Ze.hidden):Ze=q.access(e,"fxshow",{display:b}),r&&(Ze.hidden=!lt),lt&&Cn([e],!0),V.done(function(){lt||Cn([e]),q.remove(e,"fxshow");for(o in Y)a.style(e,o,Y[o])})),f=Ga(lt?Ze[o]:0,o,V),o in Ze||(Ze[o]=f.start,lt&&(f.end=f.start,f.start=0))}}function Ua(e,t){var n,o,i,r,l;for(n in e)if(o=Re(n),i=t[o],r=e[n],Array.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),l=a.cssHooks[o],l&&"expand"in l){r=l.expand(r),delete e[o];for(n in r)n in e||(e[n]=r[n],t[n]=i)}else t[o]=i}function bn(e,t,n){var o,i,r=0,l=bn.prefilters.length,h=a.Deferred().always(function(){delete f.elem}),f=function(){if(i)return!1;for(var $=ta||La(),V=Math.max(0,b.startTime+b.duration-$),Y=V/b.duration||0,ze=1-Y,lt=0,Ze=b.tweens.length;lt<Ze;lt++)b.tweens[lt].run(ze);return h.notifyWith(e,[b,ze,V]),ze<1&&Ze?V:(Ze||h.notifyWith(e,[b,1,0]),h.resolveWith(e,[b]),!1)},b=h.promise({elem:e,props:a.extend({},t),opts:a.extend(!0,{specialEasing:{},easing:a.easing._default},n),originalProperties:t,originalOptions:n,startTime:ta||La(),duration:n.duration,tweens:[],createTween:function($,V){var Y=a.Tween(e,b.opts,$,V,b.opts.specialEasing[$]||b.opts.easing);return b.tweens.push(Y),Y},stop:function($){var V=0,Y=$?b.tweens.length:0;if(i)return this;for(i=!0;V<Y;V++)b.tweens[V].run(1);return $?(h.notifyWith(e,[b,1,0]),h.resolveWith(e,[b,$])):h.rejectWith(e,[b,$]),this}}),O=b.props;for(Ua(O,b.opts.specialEasing);r<l;r++)if(o=bn.prefilters[r].call(b,e,O,b.opts),o)return L(o.stop)&&(a._queueHooks(b.elem,b.opts.queue).stop=o.stop.bind(o)),o;return a.map(O,Ga,b),L(b.opts.start)&&b.opts.start.call(e,b),b.progress(b.opts.progress).done(b.opts.done,b.opts.complete).fail(b.opts.fail).always(b.opts.always),a.fx.timer(a.extend(f,{elem:e,anim:b,queue:b.opts.queue})),b}a.Animation=a.extend(bn,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Ln(n.elem,e,M.exec(t),n),n}]},tweener:function(e,t){L(e)?(t=e,e=["*"]):e=e.match(Le);for(var n,o=0,i=e.length;o<i;o++)n=e[o],bn.tweeners[n]=bn.tweeners[n]||[],bn.tweeners[n].unshift(t)},prefilters:[Za],prefilter:function(e,t){t?bn.prefilters.unshift(e):bn.prefilters.push(e)}}),a.speed=function(e,t,n){var o=e&&typeof e=="object"?a.extend({},e):{complete:n||!n&&t||L(e)&&e,duration:e,easing:n&&t||t&&!L(t)&&t};return a.fx.off?o.duration=0:typeof o.duration!="number"&&(o.duration in a.fx.speeds?o.duration=a.fx.speeds[o.duration]:o.duration=a.fx.speeds._default),(o.queue==null||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){L(o.old)&&o.old.call(this),o.queue&&a.dequeue(this,o.queue)},o},a.fn.extend({fadeTo:function(e,t,n,o){return this.filter(bt).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=a.isEmptyObject(e),r=a.speed(t,n,o),l=function(){var h=bn(this,a.extend({},e),r);(i||q.get(this,"finish"))&&h.stop(!0)};return l.finish=l,i||r.queue===!1?this.each(l):this.queue(r.queue,l)},stop:function(e,t,n){var o=function(i){var r=i.stop;delete i.stop,r(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var i=!0,r=e!=null&&e+"queueHooks",l=a.timers,h=q.get(this);if(r)h[r]&&h[r].stop&&o(h[r]);else for(r in h)h[r]&&h[r].stop&&Mo.test(r)&&o(h[r]);for(r=l.length;r--;)l[r].elem===this&&(e==null||l[r].queue===e)&&(l[r].anim.stop(n),i=!1,l.splice(r,1));(i||!n)&&a.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),o=n[e+"queue"],i=n[e+"queueHooks"],r=a.timers,l=o?o.length:0;for(n.finish=!0,a.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<l;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),a.each(["toggle","show","hide"],function(e,t){var n=a.fn[t];a.fn[t]=function(o,i,r){return o==null||typeof o=="boolean"?n.apply(this,arguments):this.animate(Sa(t,!0),o,i,r)}}),a.each({slideDown:Sa("show"),slideUp:Sa("hide"),slideToggle:Sa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){a.fn[e]=function(n,o,i){return this.animate(t,n,o,i)}}),a.timers=[],a.fx.tick=function(){var e,t=0,n=a.timers;for(ta=Date.now();t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||a.fx.stop(),ta=void 0},a.fx.timer=function(e){a.timers.push(e),a.fx.start()},a.fx.interval=13,a.fx.start=function(){wa||(wa=!0,Ea())},a.fx.stop=function(){wa=null},a.fx.speeds={slow:600,fast:200,_default:400},a.fn.delay=function(e,t){return e=a.fx&&a.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,o){var i=u.setTimeout(n,e);o.stop=function(){u.clearTimeout(i)}})},function(){var e=U.createElement("input"),t=U.createElement("select"),n=t.appendChild(U.createElement("option"));e.type="checkbox",R.checkOn=e.value!=="",R.optSelected=n.selected,e=U.createElement("input"),e.value="t",e.type="radio",R.radioValue=e.value==="t"}();var Xa,va=a.expr.attrHandle;a.fn.extend({attr:function(e,t){return _t(this,a.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){a.removeAttr(this,e)})}}),a.extend({attr:function(e,t,n){var o,i,r=e.nodeType;if(!(r===3||r===8||r===2)){if(typeof e.getAttribute>"u")return a.prop(e,t,n);if((r!==1||!a.isXMLDoc(e))&&(i=a.attrHooks[t.toLowerCase()]||(a.expr.match.bool.test(t)?Xa:void 0)),n!==void 0){if(n===null){a.removeAttr(e,t);return}return i&&"set"in i&&(o=i.set(e,n,t))!==void 0?o:(e.setAttribute(t,n+""),n)}return i&&"get"in i&&(o=i.get(e,t))!==null?o:(o=a.find.attr(e,t),o??void 0)}},attrHooks:{type:{set:function(e,t){if(!R.radioValue&&t==="radio"&&ee(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(Le);if(i&&e.nodeType===1)for(;n=i[o++];)e.removeAttribute(n)}}),Xa={set:function(e,t,n){return t===!1?a.removeAttr(e,n):e.setAttribute(n,n),n}},a.each(a.expr.match.bool.source.match(/\w+/g),function(e,t){var n=va[t]||a.find.attr;va[t]=function(o,i,r){var l,h,f=i.toLowerCase();return r||(h=va[f],va[f]=l,l=n(o,i,r)!=null?f:null,va[f]=h),l}});var Do=/^(?:input|select|textarea|button)$/i,To=/^(?:a|area)$/i;a.fn.extend({prop:function(e,t){return _t(this,a.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[a.propFix[e]||e]})}}),a.extend({prop:function(e,t,n){var o,i,r=e.nodeType;if(!(r===3||r===8||r===2))return(r!==1||!a.isXMLDoc(e))&&(t=a.propFix[t]||t,i=a.propHooks[t]),n!==void 0?i&&"set"in i&&(o=i.set(e,n,t))!==void 0?o:e[t]=n:i&&"get"in i&&(o=i.get(e,t))!==null?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=a.find.attr(e,"tabindex");return t?parseInt(t,10):Do.test(e.nodeName)||To.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),R.optSelected||(a.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){a.propFix[this.toLowerCase()]=this});function Gn(e){var t=e.match(Le)||[];return t.join(" ")}function Zn(e){return e.getAttribute&&e.getAttribute("class")||""}function Pa(e){return Array.isArray(e)?e:typeof e=="string"?e.match(Le)||[]:[]}a.fn.extend({addClass:function(e){var t,n,o,i,r,l;return L(e)?this.each(function(h){a(this).addClass(e.call(this,h,Zn(this)))}):(t=Pa(e),t.length?this.each(function(){if(o=Zn(this),n=this.nodeType===1&&" "+Gn(o)+" ",n){for(r=0;r<t.length;r++)i=t[r],n.indexOf(" "+i+" ")<0&&(n+=i+" ");l=Gn(n),o!==l&&this.setAttribute("class",l)}}):this)},removeClass:function(e){var t,n,o,i,r,l;return L(e)?this.each(function(h){a(this).removeClass(e.call(this,h,Zn(this)))}):arguments.length?(t=Pa(e),t.length?this.each(function(){if(o=Zn(this),n=this.nodeType===1&&" "+Gn(o)+" ",n){for(r=0;r<t.length;r++)for(i=t[r];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");l=Gn(n),o!==l&&this.setAttribute("class",l)}}):this):this.attr("class","")},toggleClass:function(e,t){var n,o,i,r,l=typeof e,h=l==="string"||Array.isArray(e);return L(e)?this.each(function(f){a(this).toggleClass(e.call(this,f,Zn(this),t),t)}):typeof t=="boolean"&&h?t?this.addClass(e):this.removeClass(e):(n=Pa(e),this.each(function(){if(h)for(r=a(this),i=0;i<n.length;i++)o=n[i],r.hasClass(o)?r.removeClass(o):r.addClass(o);else(e===void 0||l==="boolean")&&(o=Zn(this),o&&q.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||e===!1?"":q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(n.nodeType===1&&(" "+Gn(Zn(n))+" ").indexOf(t)>-1)return!0;return!1}});var Vo=/\r/g;a.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=L(e),this.each(function(r){var l;this.nodeType===1&&(o?l=e.call(this,r,a(this).val()):l=e,l==null?l="":typeof l=="number"?l+="":Array.isArray(l)&&(l=a.map(l,function(h){return h==null?"":h+""})),t=a.valHooks[this.type]||a.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,l,"value")===void 0)&&(this.value=l))})):i?(t=a.valHooks[i.type]||a.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==void 0?n:(n=i.value,typeof n=="string"?n.replace(Vo,""):n??"")):void 0}}),a.extend({valHooks:{option:{get:function(e){var t=a.find.attr(e,"value");return t??Gn(a.text(e))}},select:{get:function(e){var t,n,o,i=e.options,r=e.selectedIndex,l=e.type==="select-one",h=l?null:[],f=l?r+1:i.length;for(r<0?o=f:o=l?r:0;o<f;o++)if(n=i[o],(n.selected||o===r)&&!n.disabled&&(!n.parentNode.disabled||!ee(n.parentNode,"optgroup"))){if(t=a(n).val(),l)return t;h.push(t)}return h},set:function(e,t){for(var n,o,i=e.options,r=a.makeArray(t),l=i.length;l--;)o=i[l],(o.selected=a.inArray(a.valHooks.option.get(o),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),a.each(["radio","checkbox"],function(){a.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=a.inArray(a(e).val(),t)>-1}},R.checkOn||(a.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var ha=u.location,Ya={guid:Date.now()},Oa=/\?/;a.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{t=new u.DOMParser().parseFromString(e,"text/xml")}catch{}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&a.error("Invalid XML: "+(n?a.map(n.childNodes,function(o){return o.textContent}).join(`
`):e)),t};var Ja=/^(?:focusinfocus|focusoutblur)$/,Qa=function(e){e.stopPropagation()};a.extend(a.event,{trigger:function(e,t,n,o){var i,r,l,h,f,b,O,$,V=[n||U],Y=x.call(e,"type")?e.type:e,ze=x.call(e,"namespace")?e.namespace.split("."):[];if(r=$=l=n=n||U,!(n.nodeType===3||n.nodeType===8)&&!Ja.test(Y+a.event.triggered)&&(Y.indexOf(".")>-1&&(ze=Y.split("."),Y=ze.shift(),ze.sort()),f=Y.indexOf(":")<0&&"on"+Y,e=e[a.expando]?e:new a.Event(Y,typeof e=="object"&&e),e.isTrigger=o?2:3,e.namespace=ze.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+ze.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:a.makeArray(t,[e]),O=a.event.special[Y]||{},!(!o&&O.trigger&&O.trigger.apply(n,t)===!1))){if(!o&&!O.noBubble&&!z(n)){for(h=O.delegateType||Y,Ja.test(h+Y)||(r=r.parentNode);r;r=r.parentNode)V.push(r),l=r;l===(n.ownerDocument||U)&&V.push(l.defaultView||l.parentWindow||u)}for(i=0;(r=V[i++])&&!e.isPropagationStopped();)$=r,e.type=i>1?h:O.bindType||Y,b=(q.get(r,"events")||Object.create(null))[e.type]&&q.get(r,"handle"),b&&b.apply(r,t),b=f&&r[f],b&&b.apply&&Xe(r)&&(e.result=b.apply(r,t),e.result===!1&&e.preventDefault());return e.type=Y,!o&&!e.isDefaultPrevented()&&(!O._default||O._default.apply(V.pop(),t)===!1)&&Xe(n)&&f&&L(n[Y])&&!z(n)&&(l=n[f],l&&(n[f]=null),a.event.triggered=Y,e.isPropagationStopped()&&$.addEventListener(Y,Qa),n[Y](),e.isPropagationStopped()&&$.removeEventListener(Y,Qa),a.event.triggered=void 0,l&&(n[f]=l)),e.result}},simulate:function(e,t,n){var o=a.extend(new a.Event,n,{type:e,isSimulated:!0});a.event.trigger(o,null,t)}}),a.fn.extend({trigger:function(e,t){return this.each(function(){a.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return a.event.trigger(e,t,n,!0)}});var Ho=/\[\]$/,Ka=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,I=/^(?:input|select|textarea|keygen)/i;function D(e,t,n,o){var i;if(Array.isArray(t))a.each(t,function(r,l){n||Ho.test(e)?o(e,l):D(e+"["+(typeof l=="object"&&l!=null?r:"")+"]",l,n,o)});else if(!n&&Ie(t)==="object")for(i in t)D(e+"["+i+"]",t[i],n,o);else o(e,t)}a.param=function(e,t){var n,o=[],i=function(r,l){var h=L(l)?l():l;o[o.length]=encodeURIComponent(r)+"="+encodeURIComponent(h??"")};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!a.isPlainObject(e))a.each(e,function(){i(this.name,this.value)});else for(n in e)D(n,e[n],t,i);return o.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=a.prop(this,"elements");return e?a.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!a(this).is(":disabled")&&I.test(this.nodeName)&&!c.test(e)&&(this.checked||!Pn.test(e))}).map(function(e,t){var n=a(this).val();return n==null?null:Array.isArray(n)?a.map(n,function(o){return{name:t.name,value:o.replace(Ka,`\r
`)}}):{name:t.name,value:n.replace(Ka,`\r
`)}}).get()}});var X=/%20/g,ae=/#.*$/,We=/([?&])_=[^&]*/,Je=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,on=/^(?:GET|HEAD)$/,rn=/^\/\//,Un={},na={},ii="*/".concat("*"),Ao=U.createElement("a");Ao.href=ha.href;function ri(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(Le)||[];if(L(n))for(;o=r[i++];)o[0]==="+"?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function li(e,t,n,o){var i={},r=e===na;function l(h){var f;return i[h]=!0,a.each(e[h]||[],function(b,O){var $=O(t,n,o);if(typeof $=="string"&&!r&&!i[$])return t.dataTypes.unshift($),l($),!1;if(r)return!(f=$)}),f}return l(t.dataTypes[0])||!i["*"]&&l("*")}function Eo(e,t){var n,o,i=a.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((i[n]?e:o||(o={}))[n]=t[n]);return o&&a.extend(!0,e,o),e}function Ji(e,t,n){for(var o,i,r,l,h=e.contents,f=e.dataTypes;f[0]==="*";)f.shift(),o===void 0&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o){for(i in h)if(h[i]&&h[i].test(o)){f.unshift(i);break}}if(f[0]in n)r=f[0];else{for(i in n){if(!f[0]||e.converters[i+" "+f[0]]){r=i;break}l||(l=i)}r=r||l}if(r)return r!==f[0]&&f.unshift(r),n[r]}function Qi(e,t,n,o){var i,r,l,h,f,b={},O=e.dataTypes.slice();if(O[1])for(l in e.converters)b[l.toLowerCase()]=e.converters[l];for(r=O.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!f&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),f=r,r=O.shift(),r){if(r==="*")r=f;else if(f!=="*"&&f!==r){if(l=b[f+" "+r]||b["* "+r],!l){for(i in b)if(h=i.split(" "),h[1]===r&&(l=b[f+" "+h[0]]||b["* "+h[0]],l)){l===!0?l=b[i]:b[i]!==!0&&(r=h[0],O.unshift(h[1]));break}}if(l!==!0)if(l&&e.throws)t=l(t);else try{t=l(t)}catch($){return{state:"parsererror",error:l?$:"No conversion from "+f+" to "+r}}}}return{state:"success",data:t}}a.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ha.href,type:"GET",isLocal:Ne.test(ha.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ii,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":a.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Eo(Eo(e,a.ajaxSettings),t):Eo(a.ajaxSettings,e)},ajaxPrefilter:ri(Un),ajaxTransport:ri(na),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,o,i,r,l,h,f,b,O,$,V=a.ajaxSetup({},t),Y=V.context||V,ze=V.context&&(Y.nodeType||Y.jquery)?a(Y):a.event,lt=a.Deferred(),Ze=a.Callbacks("once memory"),ln=V.statusCode||{},Yt={},Bn={},zn="canceled",at={readyState:0,getResponseHeader:function(ct){var Rt;if(f){if(!r)for(r={};Rt=Je.exec(i);)r[Rt[1].toLowerCase()+" "]=(r[Rt[1].toLowerCase()+" "]||[]).concat(Rt[2]);Rt=r[ct.toLowerCase()+" "]}return Rt==null?null:Rt.join(", ")},getAllResponseHeaders:function(){return f?i:null},setRequestHeader:function(ct,Rt){return f==null&&(ct=Bn[ct.toLowerCase()]=Bn[ct.toLowerCase()]||ct,Yt[ct]=Rt),this},overrideMimeType:function(ct){return f==null&&(V.mimeType=ct),this},statusCode:function(ct){var Rt;if(ct)if(f)at.always(ct[at.status]);else for(Rt in ct)ln[Rt]=[ln[Rt],ct[Rt]];return this},abort:function(ct){var Rt=ct||zn;return n&&n.abort(Rt),ga(0,Rt),this}};if(lt.promise(at),V.url=((e||V.url||ha.href)+"").replace(rn,ha.protocol+"//"),V.type=t.method||t.type||V.method||V.type,V.dataTypes=(V.dataType||"*").toLowerCase().match(Le)||[""],V.crossDomain==null){h=U.createElement("a");try{h.href=V.url,h.href=h.href,V.crossDomain=Ao.protocol+"//"+Ao.host!=h.protocol+"//"+h.host}catch{V.crossDomain=!0}}if(V.data&&V.processData&&typeof V.data!="string"&&(V.data=a.param(V.data,V.traditional)),li(Un,V,t,at),f)return at;b=a.event&&V.global,b&&a.active++===0&&a.event.trigger("ajaxStart"),V.type=V.type.toUpperCase(),V.hasContent=!on.test(V.type),o=V.url.replace(ae,""),V.hasContent?V.data&&V.processData&&(V.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(V.data=V.data.replace(X,"+")):($=V.url.slice(o.length),V.data&&(V.processData||typeof V.data=="string")&&(o+=(Oa.test(o)?"&":"?")+V.data,delete V.data),V.cache===!1&&(o=o.replace(We,"$1"),$=(Oa.test(o)?"&":"?")+"_="+Ya.guid+++$),V.url=o+$),V.ifModified&&(a.lastModified[o]&&at.setRequestHeader("If-Modified-Since",a.lastModified[o]),a.etag[o]&&at.setRequestHeader("If-None-Match",a.etag[o])),(V.data&&V.hasContent&&V.contentType!==!1||t.contentType)&&at.setRequestHeader("Content-Type",V.contentType),at.setRequestHeader("Accept",V.dataTypes[0]&&V.accepts[V.dataTypes[0]]?V.accepts[V.dataTypes[0]]+(V.dataTypes[0]!=="*"?", "+ii+"; q=0.01":""):V.accepts["*"]);for(O in V.headers)at.setRequestHeader(O,V.headers[O]);if(V.beforeSend&&(V.beforeSend.call(Y,at,V)===!1||f))return at.abort();if(zn="abort",Ze.add(V.complete),at.done(V.success),at.fail(V.error),n=li(na,V,t,at),!n)ga(-1,"No Transport");else{if(at.readyState=1,b&&ze.trigger("ajaxSend",[at,V]),f)return at;V.async&&V.timeout>0&&(l=u.setTimeout(function(){at.abort("timeout")},V.timeout));try{f=!1,n.send(Yt,ga)}catch(ct){if(f)throw ct;ga(-1,ct)}}function ga(ct,Rt,Ba,Po){var qn,za,Nn,aa,oa,Sn=Rt;f||(f=!0,l&&u.clearTimeout(l),n=void 0,i=Po||"",at.readyState=ct>0?4:0,qn=ct>=200&&ct<300||ct===304,Ba&&(aa=Ji(V,at,Ba)),!qn&&a.inArray("script",V.dataTypes)>-1&&a.inArray("json",V.dataTypes)<0&&(V.converters["text script"]=function(){}),aa=Qi(V,aa,at,qn),qn?(V.ifModified&&(oa=at.getResponseHeader("Last-Modified"),oa&&(a.lastModified[o]=oa),oa=at.getResponseHeader("etag"),oa&&(a.etag[o]=oa)),ct===204||V.type==="HEAD"?Sn="nocontent":ct===304?Sn="notmodified":(Sn=aa.state,za=aa.data,Nn=aa.error,qn=!Nn)):(Nn=Sn,(ct||!Sn)&&(Sn="error",ct<0&&(ct=0))),at.status=ct,at.statusText=(Rt||Sn)+"",qn?lt.resolveWith(Y,[za,Sn,at]):lt.rejectWith(Y,[at,Sn,Nn]),at.statusCode(ln),ln=void 0,b&&ze.trigger(qn?"ajaxSuccess":"ajaxError",[at,V,qn?za:Nn]),Ze.fireWith(Y,[at,Sn]),b&&(ze.trigger("ajaxComplete",[at,V]),--a.active||a.event.trigger("ajaxStop")))}return at},getJSON:function(e,t,n){return a.get(e,t,n,"json")},getScript:function(e,t){return a.get(e,void 0,t,"script")}}),a.each(["get","post"],function(e,t){a[t]=function(n,o,i,r){return L(o)&&(r=r||i,i=o,o=void 0),a.ajax(a.extend({url:n,type:t,dataType:r,data:o,success:i},a.isPlainObject(n)&&n))}}),a.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),a._evalUrl=function(e,t,n){return a.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(o){a.globalEval(o,t,n)}})},a.fn.extend({wrapAll:function(e){var t;return this[0]&&(L(e)&&(e=e.call(this[0])),t=a(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return L(e)?this.each(function(t){a(this).wrapInner(e.call(this,t))}):this.each(function(){var t=a(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=L(e);return this.each(function(n){a(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){a(this).replaceWith(this.childNodes)}),this}}),a.expr.pseudos.hidden=function(e){return!a.expr.pseudos.visible(e)},a.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},a.ajaxSettings.xhr=function(){try{return new u.XMLHttpRequest}catch{}};var Ki={0:200,1223:204},Fa=a.ajaxSettings.xhr();R.cors=!!Fa&&"withCredentials"in Fa,R.ajax=Fa=!!Fa,a.ajaxTransport(function(e){var t,n;if(R.cors||Fa&&!e.crossDomain)return{send:function(o,i){var r,l=e.xhr();if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)l[r]=e.xhrFields[r];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),!e.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest");for(r in o)l.setRequestHeader(r,o[r]);t=function(h){return function(){t&&(t=n=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,h==="abort"?l.abort():h==="error"?typeof l.status!="number"?i(0,"error"):i(l.status,l.statusText):i(Ki[l.status]||l.status,l.statusText,(l.responseType||"text")!=="text"||typeof l.responseText!="string"?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=t(),n=l.onerror=l.ontimeout=t("error"),l.onabort!==void 0?l.onabort=n:l.onreadystatechange=function(){l.readyState===4&&u.setTimeout(function(){t&&n()})},t=t("abort");try{l.send(e.hasContent&&e.data||null)}catch(h){if(t)throw h}},abort:function(){t&&t()}}}),a.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return a.globalEval(e),e}}}),a.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),a.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(o,i){t=a("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(r){t.remove(),n=null,r&&i(r.type==="error"?404:200,r.type)}),U.head.appendChild(t[0])},abort:function(){n&&n()}}}});var si=[],Lo=/(=)\?(?=&|$)|\?\?/;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=si.pop()||a.expando+"_"+Ya.guid++;return this[e]=!0,e}}),a.ajaxPrefilter("json jsonp",function(e,t,n){var o,i,r,l=e.jsonp!==!1&&(Lo.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Lo.test(e.data)&&"data");if(l||e.dataTypes[0]==="jsonp")return o=e.jsonpCallback=L(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Lo,"$1"+o):e.jsonp!==!1&&(e.url+=(Oa.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||a.error(o+" was not called"),r[0]},e.dataTypes[0]="json",i=u[o],u[o]=function(){r=arguments},n.always(function(){i===void 0?a(u).removeProp(o):u[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,si.push(o)),r&&L(i)&&i(r[0]),r=i=void 0}),"script"}),R.createHTMLDocument=function(){var e=U.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),a.parseHTML=function(e,t,n){if(typeof e!="string")return[];typeof t=="boolean"&&(n=t,t=!1);var o,i,r;return t||(R.createHTMLDocument?(t=U.implementation.createHTMLDocument(""),o=t.createElement("base"),o.href=U.location.href,t.head.appendChild(o)):t=U),i=P.exec(e),r=!n&&[],i?[t.createElement(i[1])]:(i=da([e],t,r),r&&r.length&&a(r).remove(),a.merge([],i.childNodes))},a.fn.load=function(e,t,n){var o,i,r,l=this,h=e.indexOf(" ");return h>-1&&(o=Gn(e.slice(h)),e=e.slice(0,h)),L(t)?(n=t,t=void 0):t&&typeof t=="object"&&(i="POST"),l.length>0&&a.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(f){r=arguments,l.html(o?a("<div>").append(a.parseHTML(f)).find(o):f)}).always(n&&function(f,b){l.each(function(){n.apply(this,r||[f.responseText,b,f])})}),this},a.expr.pseudos.animated=function(e){return a.grep(a.timers,function(t){return e===t.elem}).length},a.offset={setOffset:function(e,t,n){var o,i,r,l,h,f,b,O=a.css(e,"position"),$=a(e),V={};O==="static"&&(e.style.position="relative"),h=$.offset(),r=a.css(e,"top"),f=a.css(e,"left"),b=(O==="absolute"||O==="fixed")&&(r+f).indexOf("auto")>-1,b?(o=$.position(),l=o.top,i=o.left):(l=parseFloat(r)||0,i=parseFloat(f)||0),L(t)&&(t=t.call(e,n,a.extend({},h))),t.top!=null&&(V.top=t.top-h.top+l),t.left!=null&&(V.left=t.left-h.left+i),"using"in t?t.using.call(e,V):$.css(V)}},a.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(i){a.offset.setOffset(this,e,i)});var t,n,o=this[0];if(o)return o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,o=this[0],i={top:0,left:0};if(a.css(o,"position")==="fixed")t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&a.css(e,"position")==="static";)e=e.parentNode;e&&e!==o&&e.nodeType===1&&(i=a(e).offset(),i.top+=a.css(e,"borderTopWidth",!0),i.left+=a.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-a.css(o,"marginTop",!0),left:t.left-i.left-a.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&a.css(e,"position")==="static";)e=e.offsetParent;return e||Be})}}),a.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";a.fn[e]=function(o){return _t(this,function(i,r,l){var h;if(z(i)?h=i:i.nodeType===9&&(h=i.defaultView),l===void 0)return h?h[t]:i[r];h?h.scrollTo(n?h.pageXOffset:l,n?l:h.pageYOffset):i[r]=l},e,o,arguments.length)}}),a.each(["top","left"],function(e,t){a.cssHooks[t]=hn(R.pixelPosition,function(n,o){if(o)return o=jt(n,t),Vt.test(o)?a(n).position()[t]+"px":o})}),a.each({Height:"height",Width:"width"},function(e,t){a.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){a.fn[o]=function(i,r){var l=arguments.length&&(n||typeof i!="boolean"),h=n||(i===!0||r===!0?"margin":"border");return _t(this,function(f,b,O){var $;return z(f)?o.indexOf("outer")===0?f["inner"+e]:f.document.documentElement["client"+e]:f.nodeType===9?($=f.documentElement,Math.max(f.body["scroll"+e],$["scroll"+e],f.body["offset"+e],$["offset"+e],$["client"+e])):O===void 0?a.css(f,b,h):a.style(f,b,O,h)},t,l?i:void 0,l)}})}),a.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){a.fn[t]=function(n){return this.on(t,n)}}),a.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){a.fn[t]=function(n,o){return arguments.length>0?this.on(t,null,n,o):this.trigger(t)}});var er=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;a.proxy=function(e,t){var n,o,i;if(typeof t=="string"&&(n=e[t],t=e,e=n),!!L(e))return o=w.call(arguments,2),i=function(){return e.apply(t||this,o.concat(w.call(arguments)))},i.guid=e.guid=e.guid||a.guid++,i},a.holdReady=function(e){e?a.readyWait++:a.ready(!0)},a.isArray=Array.isArray,a.parseJSON=JSON.parse,a.nodeName=ee,a.isFunction=L,a.isWindow=z,a.camelCase=Re,a.type=Ie,a.now=Date.now,a.isNumeric=function(e){var t=a.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},a.trim=function(e){return e==null?"":(e+"").replace(er,"$1")};var tr=u.jQuery,nr=u.$;return a.noConflict=function(e){return u.$===a&&(u.$=nr),e&&u.jQuery===a&&(u.jQuery=tr),a},typeof _>"u"&&(u.jQuery=u.$=a),a})})(Ri);var Rs=Ri.exports;const Zo=Zr(Rs),Ws=dt({__name:"ContextMenuDetails",props:{activePosition:{type:String,default:"canvas"}},emits:["close","rename"],setup(p,{emit:u}){const _=zt(),g=Mi(),E=Mr(),w=ca(),k=$i(),m=wo(),{areaData:y}=Lt(m),{curComponent:v,componentData:F}=Lt(_),x=u,{emitter:Ce}=tt(),Q=p,{activePosition:R}=Kt(Q),{t:L}=En(),z=j(()=>F.value.filter(ne=>ne.category==="hidden").length),U=()=>{v.value&&!oe.value?E.lock():y.value.components.length&&y.value.components.forEach(ne=>{E.lock(ne)}),w.recordSnapshotCache("lock"),Ie("lock")},be=()=>{v.value&&!oe.value?E.unlock():y.value.components.length&&y.value.components.forEach(ne=>{E.unlock(ne)}),Ie("unlock")},pe=()=>{_.setClickComponentStatus(!0),R.value==="aside"&&x("close")},Ie=ne=>{const ue={opt:ne};R.value==="aside"&&x("close",ue)},Me=()=>{if(v.value){const ne=Ma();g.cut(ne.componentData)}else y.value.components.length&&g.cut();Ie("cut")},Se=()=>{g.copy(),Ie("copy")},a=()=>{v.value&&!oe.value?k.hideComponentWithComponent():y.value.components.length&&y.value.components.forEach(ne=>{k.hideComponentWithComponent(ne.id)}),w.recordSnapshotCache("hide"),Ie("hide")},Fe=()=>{v.value&&!oe.value?k.showComponent():y.value.components.length&&y.value.components.forEach(ne=>{k.showComponent(ne.id)}),w.recordSnapshotCache("show"),Ie("show")},ee=j(()=>{var ne,ue;return((ne=v==null?void 0:v.value)==null?void 0:ne.canvasId)==="canvas-main"&&(v==null?void 0:v.value.category)==="base"&&((ue=v.value)==null?void 0:ue.component)==="VQuery"&&z.value===0}),Ge=ne=>{v.value&&(w.recordSnapshotCache("categoryChange"),v.value.category=ne,ne==="hidden"&&_.canvasStateChange({key:"curPointArea",value:"hidden"}))},De=()=>{x("rename"),Ie("rename")},mt=()=>{g.paste(!0),w.recordSnapshotCache("renderChart"),Ie("paste")},ie=()=>{var ne;if(v.value&&!oe.value){const ue=Ma();_.deleteComponentById((ne=v.value)==null?void 0:ne.id,ue.componentData)}else y.value.components.length&&y.value.components.forEach(ue=>{_.deleteComponentById(ue.id)});He.emit("hideArea-canvas-main"),w.recordSnapshotCache("deleteComponent"),Ie("deleteComponent")},re=()=>{v.value&&!oe.value?k.upComponent(v.value.id):y.value.components.length&&(io(y.value.components),y.value.components.forEach(ne=>{k.upComponent(ne.id)})),w.recordSnapshotCache("upComponent"),Ie("upComponent")},_e=()=>{v.value&&!oe.value?k.downComponent(v.value.id):y.value.components.length&&(io(y.value.components,"top"),y.value.components.forEach(ne=>{k.downComponent(ne.id)})),w.recordSnapshotCache("downComponent"),Ie("downComponent")},ke=()=>{v.value&&!oe.value?k.topComponent(v.value.id):y.value.components.length&&(io(y.value.components,"top"),y.value.components.forEach(ne=>{k.topComponent(ne.id)})),w.recordSnapshotCache("topComponent"),Ie("topComponent")},it=()=>{v.value&&!oe.value?k.bottomComponent(v.value.id):y.value.components.length&&(io(y.value.components),y.value.components.forEach(ne=>{k.bottomComponent(ne.id)})),w.recordSnapshotCache("bottomComponent"),Ie("bottomComponent")},ft=()=>{He.emit("tabSort")},gt=()=>{m.compose(),w.recordSnapshotCache("componentCompose"),Ie("componentCompose")},pt=()=>{m.decompose(),w.recordSnapshotCache("decompose"),Ie("decompose")},ut=ne=>{m.alignment(ne),w.recordSnapshotCache("decompose")},P=ne=>{ne.preventDefault(),ne.stopPropagation()},ge=j(()=>!(!v||v.isLock||v.component!="Group"||v.category==="hidden")),oe=j(()=>{var ne;return((ne=v.value)==null?void 0:ne.component)==="GroupArea"}),ye=()=>{Ce.emit(`editQueryCriteria${v.value.id}`)};return(ne,ue)=>{const Te=co("ArrowRight"),Ae=Hn,Le=Ko,yt=ei,je=ti;return S(),J("div",{class:"context-menu-base context-menu-details",onMousedown:P},[G("ul",{onMouseup:pe},[s(y).components.length?(S(),J(Ft,{key:0},[G("li",{onMousedown:P,onClick:gt},we(s(L)("visualization.view_group")),33),H(je,{style:{width:"100%"},trigger:"hover",effect:"dark",placement:"right-start",teleported:!1,"popper-class":"context-menu-details"},{dropdown:B(()=>[H(yt,null,{default:B(()=>[H(Le,{style:{width:"118px"},onClick:ue[0]||(ue[0]=Tt=>ut("left"))},{default:B(()=>[st(we(s(L)("visualization.left_justifying")),1)]),_:1}),H(Le,{style:{width:"118px"},onClick:ue[1]||(ue[1]=Tt=>ut("right"))},{default:B(()=>[st(we(s(L)("visualization.right_justifying")),1)]),_:1}),H(Le,{onClick:ue[2]||(ue[2]=Tt=>ut("top"))},{default:B(()=>[st(we(s(L)("visualization.top_justifying")),1)]),_:1}),H(Le,{onClick:ue[3]||(ue[3]=Tt=>ut("bottom"))},{default:B(()=>[st(we(s(L)("visualization.bottom_justifying")),1)]),_:1}),H(Le,{onClick:ue[4]||(ue[4]=Tt=>ut("transverse"))},{default:B(()=>[st(we(s(L)("visualization.horizontally_centered")),1)]),_:1}),H(Le,{onClick:ue[5]||(ue[5]=Tt=>ut("direction"))},{default:B(()=>[st(we(s(L)("visualization.vertically_centered")),1)]),_:1})]),_:1})]),default:B(()=>[G("li",null,[G("div",null,[G("span",null,we(s(L)("visualization.alignment")),1),H(Ae,null,{default:B(()=>[H(Te)]),_:1})])])]),_:1}),H(s(ra),{class:"custom-divider"}),G("li",{onClick:Se},we(s(L)("visualization.copy")),1),G("li",{onClick:mt},we(s(L)("visualization.paste")),1),G("li",{onClick:Me},we(s(L)("visualization.cut")),1),H(s(ra),{class:"custom-divider"}),G("li",{onClick:ie},we(s(L)("visualization.delete")),1)],64)):K("",!0),Et(G("li",{onClick:ue[6]||(ue[6]=Tt=>pt())},we(s(L)("visualization.cancel_group")),513),[[Jt,!(!s(v)||s(v).isLock||s(v).component!="Group")]]),Et(H(s(ra),{class:"custom-divider"},null,512),[[Jt,ge.value]]),s(v)?(S(),J(Ft,{key:1},[!s(v).isLock&&s(v).category==="hidden"?(S(),J(Ft,{key:0},[G("li",{onClick:ue[7]||(ue[7]=Tt=>Ge("base"))},we(s(L)("visualization.move_to_screen_show")),1),G("li",{onClick:ye},we(s(L)("visualization.edit")),1),s(R)==="aside"?(S(),J("li",{key:0,onClick:De},we(s(L)("visualization.rename")),1)):K("",!0),G("li",{onClick:Se},we(s(L)("visualization.copy")),1),G("li",{onClick:mt},we(s(L)("visualization.paste")),1),H(s(ra),{class:"custom-divider"}),G("li",{onClick:ie},we(s(L)("visualization.delete")),1)],64)):K("",!0),!s(v).isLock&&s(v).category!=="hidden"?(S(),J(Ft,{key:1},[s(v).component==="VQuery"?(S(),J("li",{key:0,onClick:ye},we(s(L)("visualization.edit")),1)):K("",!0),G("li",{onClick:re},we(s(L)("visualization.up_component")),1),G("li",{onClick:_e},we(s(L)("visualization.down_component")),1),G("li",{onClick:ke},we(s(L)("visualization.top_component")),1),G("li",{onClick:it},we(s(L)("visualization.bottom_component")),1),s(v).component==="DeTabs"?(S(),J("li",{key:1,onClick:ft},we(s(L)("visualization.sort")),1)):K("",!0),H(s(bo),{chart:s(v),"is-screen":"",jsname:"L2NvbXBvbmVudC90aHJlc2hvbGQtd2FybmluZy9FZGl0QmFySGFuZGxlcg=="},null,8,["chart"]),Et(G("li",{onClick:ue[8]||(ue[8]=Tt=>Ge("hidden"))},we(s(L)("visualization.move_to_pop_area")),513),[[Jt,ee.value]]),H(s(ra),{class:"custom-divider"}),Et(G("li",{onClick:a},we(s(L)("visualization.hidden")),513),[[Jt,s(v).isShow]]),Et(G("li",{onClick:Fe},we(s(L)("visualization.cancel_hidden")),513),[[Jt,!s(v).isShow||oe.value]]),G("li",{onClick:U},we(s(L)("visualization.lock")),1),s(v).isLock||oe.value?(S(),J("li",{key:2,onClick:be},we(s(L)("visualization.unlock")),1)):K("",!0),H(s(ra),{class:"custom-divider"}),s(R)==="aside"?(S(),J("li",{key:3,onClick:De},we(s(L)("visualization.rename")),1)):K("",!0),G("li",{onClick:Se},we(s(L)("visualization.copy")),1),G("li",{onClick:mt},we(s(L)("visualization.paste")),1),G("li",{onClick:Me},we(s(L)("visualization.cut")),1),H(s(ra),{class:"custom-divider"}),G("li",{onClick:ie},we(s(L)("visualization.delete")),1)],64)):K("",!0),s(v).isLock?(S(),J("li",{key:2,onClick:be},we(s(L)("visualization.unlock")),1)):K("",!0)],64)):!s(v)&&!s(y).components.length?(S(),J("li",{key:2,onClick:mt},we(s(L)("visualization.paste")),1)):K("",!0)],32)],32)}}});const Gs=dt({__name:"ContextMenu",props:{showPosition:{default:"canvasCore"}},setup(p){const u=p,_=Jo(),{menuTop:g,menuLeft:E,menuShow:w,position:k}=Lt(_),m=j(()=>w.value&&u.showPosition===k.value);return(y,v)=>Et((S(),se(Ws,{class:"contextmenu",style:ht({top:s(g)+"px",left:s(E)+"px"})},null,8,["style"])),[[Jt,m.value]])}});const Zs=St(Gs,[["__scopeId","data-v-59dffd60"]]),Us={class:"mark-line",id:"canvas-mark-line"},Xs=dt({__name:"MarkLine",setup(p){const u=Z(["xt","xc","xb","yl","yc","yr"]),_=Z(3),g=Z({xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}),E=zt(),{curComponent:w,componentData:k}=Lt(E);let m;const y=()=>{Object.keys(g.value).forEach(Q=>{g.value[Q]=!1})},v=(Q,R)=>{const L=m.proxy.$refs,z=k.value,U=fo(w.value.style),be=U.width/2,pe=U.height/2;y(),z.forEach(Ie=>{try{if(Ie===w.value)return;const Me=fo(Ie.style),{top:Se,left:a,bottom:Fe,right:ee}=Me,Ge=Me.width/2,De=Me.height/2,mt={top:[{isNearly:Ce(U.top,Se),lineNode:L.xt[0],line:"xt",dragShift:Se,lineShift:Se},{isNearly:Ce(U.bottom,Se),lineNode:L.xt[0],line:"xt",dragShift:Se-U.height,lineShift:Se},{isNearly:Ce(U.top+pe,Se+De),lineNode:L.xc[0],line:"xc",dragShift:Se+De-pe,lineShift:Se+De},{isNearly:Ce(U.top,Fe),lineNode:L.xb[0],line:"xb",dragShift:Fe,lineShift:Fe},{isNearly:Ce(U.bottom,Fe),lineNode:L.xb[0],line:"xb",dragShift:Fe-U.height,lineShift:Fe}],left:[{isNearly:Ce(U.left,a),lineNode:L.yl[0],line:"yl",dragShift:a,lineShift:a},{isNearly:Ce(U.right,a),lineNode:L.yl[0],line:"yl",dragShift:a-U.width,lineShift:a},{isNearly:Ce(U.left+be,a+Ge),lineNode:L.yc[0],line:"yc",dragShift:a+Ge-be,lineShift:a+Ge},{isNearly:Ce(U.left,ee),lineNode:L.yr[0],line:"yr",dragShift:ee,lineShift:ee},{isNearly:Ce(U.right,ee),lineNode:L.yr[0],line:"yr",dragShift:ee-U.width,lineShift:ee}]},ie=[],{rotate:re}=w.value.style;mt&&Object.keys(mt).forEach(_e=>{mt[_e]&&mt[_e].forEach(ke=>{ke.isNearly&&(E.setShapeSingleStyle({key:_e,value:re!=0?F(_e,ke,U):ke.dragShift}),ke.lineNode&&(ke.lineNode.style[_e]=`${ke.lineShift}px`),ie.push(ke.line))})}),ie.length&&x(ie,Q,R)}catch{console.warn("markLine disabled")}})},F=(Q,R,L)=>{const{width:z,height:U}=w.value.style;return Q=="top"?Math.round(R.dragShift-(U-L.height)/2):Math.round(R.dragShift-(z-L.width)/2)},x=(Q,R,L)=>{L?Q.includes("yr")?g.value.yr=!0:Q.includes("yc")?g.value.yc=!0:Q.includes("yl")&&(g.value.yl=!0):Q.includes("yl")?g.value.yl=!0:Q.includes("yc")?g.value.yc=!0:Q.includes("yr")&&(g.value.yr=!0),R?Q.includes("xb")?g.value.xb=!0:Q.includes("xc")?g.value.xc=!0:Q.includes("xt")&&(g.value.xt=!0):Q.includes("xt")?g.value.xt=!0:Q.includes("xc")?g.value.xc=!0:Q.includes("xb")&&(g.value.xb=!0)},Ce=(Q,R)=>Math.abs(Q-R)<=_.value;return mn(()=>{m=wi(),He.on("move",({isDownward:Q,isRightward:R})=>{v(Q,R)}),He.on("unMove",()=>{y()})}),(Q,R)=>(S(),J("div",Us,[(S(!0),J(Ft,null,Mn(u.value,L=>Et((S(),J("div",{key:L,ref_for:!0,ref:L,class:Bt(["line",L.includes("x")?"xLine":"yLine"])},null,2)),[[Jt,g.value[L]||!1]])),128))]))}});const Ys=St(Xs,[["__scopeId","data-v-66dae583"]]),Js=dt({__name:"Area",props:{start:{type:Object,default(){return{x:null,y:null}}},width:{type:Number,default:0},height:{type:Number,default:0}},setup(p){const u=p,{start:_,width:g,height:E}=Kt(u);return(w,k)=>{var m,y;return S(),J("div",{style:ht({left:((m=s(_))==null?void 0:m.x)+"px",top:((y=s(_))==null?void 0:y.y)+"px",width:s(g)+"px",height:s(E)+"px"}),class:"area"},null,4)}}});const Qs=St(Js,[["__scopeId","data-v-c34a0dac"]]),Ks=dt({__name:"DragShadow",props:{baseWidth:{required:!0,type:Number},baseHeight:{required:!0,type:Number},curGap:{required:!0,type:Number},element:{required:!0,type:Object,default(){return{component:null,propValue:null,request:null,linkage:null,type:null,events:null,style:null,id:null}}}},setup(p){const u=p,{element:_,baseWidth:g,baseHeight:E,curGap:w}=Kt(u),k=j(()=>{const{x:m,y,sizeX:v,sizeY:F}=_.value;return{padding:w.value+"px",width:v*g.value+"px",height:F*E.value+"px",left:(m-1)*g.value+"px",top:(y-1)*E.value-3+"px"}});return(m,y)=>(S(),J("div",{class:"shadow-main",style:ht(k.value)},y[0]||(y[0]=[G("div",{class:"shadow-background"},null,-1)]),4))}});const eu=St(Ks,[["__scopeId","data-v-a6eacde1"]]),tu={class:"header-title"},nu={class:"export-button"},au=["element-loading-text"],ou={style:{flex:"1"}},iu=dt({__name:"UserViewEnlarge",setup(p,{expose:u}){const _=Z(!1),g=zt(),E=Z(!1),w=br(),k=wr();let m=Z(null);const y=Z(null),v=Z(null),{t:F}=En(),x=Z(null),Ce=Z(null),Q=Z(null),{dvInfo:R,editMode:L,isIframe:z,canvasStyleData:U}=Lt(g),be=Z(!1),pe=Z(),Ie=Z("left"),Me=Z(!1),Se={render:"antv",type:"table-info",customAttr:{basicStyle:{tableColumnMode:"dialog",tablePageMode:"pull"},tableHeader:{tableHeaderBgColor:"#F8F8F9",tableHeaderFontColor:"#7C7E81"},tableCell:{tableItemBgColor:"#FFFFFF",tableFontColor:"#7C7E81",enableTableCrossBG:!1,mergeCells:!1},tooltip:{show:!1}},senior:{scrollCfg:{open:!1}},showPosition:"dialog"},a=Qn({scale:.5,componentSourceType:null,dataFrom:null}),Fe={senior:{scrollCfg:{open:!1}},showPosition:"dialog"},ee=j(()=>Ii(R.value.weight,R.value.ext)),Ge=j(()=>{const oe=U.value&&x.value==="enlarge"?_o(U.value,"canvas-main"):{};if(_.value){const ye=De.value.split(" * ");return oe.width=ye[0]+"px!important",oe.height=ye[1]+"px!important",oe}else return oe}),De=Z("1280 * 720"),mt=[{label:"Windows(16:9)",options:[{value:"1920 * 1080",label:"1920 * 1080"},{value:"1600 * 900",label:"1600 * 900"},{value:"1280 * 720",label:"1280 * 720"}]},{label:"MacOS(16:10)",options:[{value:"2560 * 1600",label:"2560 * 1600"},{value:"1920 * 1200",label:"1920 * 1200"},{value:"1680 * 1050",label:"1680 * 1050"}]}],ie=(oe,ye,ne,ue,Te={scale:.5})=>{var Ae;a.scale=Te.scale,pe.value=ye.type,Me.value=!1,x.value=ue,E.value=!0,a.componentSourceType=ye.type,a.dataFrom=ye.dataFrom,m.value=sa(ye),m.value.customStyle.text.show=!1,y.value=sa(ne),ue==="details"&&((Ae=m.value.type)!=null&&Ae.includes("table")?yi(m.value,Fe):(yi(m.value,Se),m.value.xAxis.forEach(Le=>Le.hide=!1),m.value.yAxis.forEach(Le=>Le.hide=!1)),re()),Mt(()=>{ge()})},re=()=>{Mt(()=>{var ye,ne;const oe=g.getViewDataDetails(m.value.id);oe?pe.value.includes("chart-mix")?((ye=Ce.value)==null||ye.renderChartFromDialog(m.value,oe.left),(ne=Q.value)==null||ne.renderChartFromDialog(m.value,oe.right)):Ce.value.renderChartFromDialog(m.value,oe):Me.value=!0})},_e=oe=>{Mt(()=>{var ne,ue;const ye=g.getViewDataDetails(m.value.id);oe==="left"?(ne=Ce.value)==null||ne.renderChartFromDialog(m.value,ye.left):oe==="right"&&((ue=Q.value)==null||ue.renderChartFromDialog(m.value,ye.right))})},ke=()=>{P()},it=(oe="view")=>{const ye=g.getViewDataDetails(m.value.id),ne=g.getViewDetails(m.value.id);if(!ye){ja.error(F("chart.field_is_empty_export_error"));return}const ue=g.getLastViewRequestInfo(m.value.id),Te={...ne,chartExtRequest:ue,data:ye,type:pe.value,downloadType:oe,busiFlag:R.value.type};be.value=!0,Vi(Te,()=>{pt(gt)}),be.value=!1},ft=()=>{const oe=g.getViewInstanceInfo(m.value.id);if(!oe)return;const ye=g.getViewDetails(m.value.id);Hi(oe,ye)},gt=()=>{tt().emitter.emit("data-export-center",{activeName:"IN_PROGRESS"})},pt=oe=>{const ye="el-icon-loading",ne="de-message-loading de-message-export";ja({message:Ta("p",null,[F("data_fill.exporting"),Ta(In,{text:!0,size:"small",class:"btn-text",onClick:()=>{oe()}},F("data_export.export_center")),F("data_fill.progress_to_download")]),iconClass:ye,icon:Ta(ki),showClose:!0,customClass:ne})},ut=["bubble-map","flow-map","heat-map","map","symbolic-map"],P=()=>{var ye;_.value=!ut.includes(m.value.type),tt().emitter.emit("renderChart-"+m.value.id),tt().emitter.emit("l7-prepare-picture",m.value.id);const oe=(ye=m.value.type)!=null&&ye.includes("table")||Or({type:m.value.type})?2e3:500;setTimeout(()=>{ge(),Tr(v.value).then(ne=>{_.value=!1;const ue=document.createElement("a");ue.setAttribute("download",m.value.title),ue.href=ne,ue.click(),tt().emitter.emit("l7-unprepare-picture",m.value.id),tt().emitter.emit("renderChart-"+m.value.id),ge()}).catch(ne=>{_.value=!1,ge(),tt().emitter.emit("l7-unprepare-picture",m.value.id),tt().emitter.emit("renderChart-"+m.value.id),console.error("oops, something went wrong!",ne)})},oe)},ge=()=>{Wa("enlarge-inner-content","canvas-main",a.scale)};return u({dialogInit:ie}),(oe,ye)=>{var Zt;const ne=Ur,ue=Xr,Te=Yr,Ae=Hn,Le=ra,yt=Li,je=Pi,Tt=xo,Gt=Co("loading");return S(),se(Tt,{ref:"enlargeDialog",title:(Zt=s(m))==null?void 0:Zt.title,"append-to-body":!0,modelValue:E.value,"onUpdate:modelValue":ye[4]||(ye[4]=qt=>E.value=qt),width:"70vw",trigger:"click",class:"userViewEnlarge-class"},cr({default:B(()=>{var qt;return[E.value?Et((S(),J("div",{key:0,"element-loading-text":s(F)("visualization.export_loading"),"element-loading-background":"rgba(122, 122, 122, 1)",class:"enlarge-outer"},[Et((S(),J("div",{id:"enlarge-inner-content",class:Bt(["enlarge-inner",{"enlarge-inner-with-header":x.value==="details"&&pe.value.includes("chart-mix")}]),ref_key:"viewContainer",ref:v,style:ht(Ge.value)},[x.value==="enlarge"?(S(),se(Io,{key:0,class:"enlarge-wrapper","opt-type":x.value,"view-info":s(m),config:y.value,"dv-info":s(R),"font-family":(qt=s(U))==null?void 0:qt.fontFamily,"show-position":"viewDialog"},null,8,["opt-type","view-info","config","dv-info","font-family"])):K("",!0),x.value==="details"&&!pe.value.includes("chart-mix")?(S(),J(Ft,{key:1},[Me.value?K("",!0):(S(),se(Go,{key:0,view:s(m),"show-position":"viewDialog",ref_key:"chartComponentDetails",ref:Ce},null,8,["view"])),Me.value?(S(),se(Oi,{key:1,description:s(F)("visualization.no_details"),"img-type":"noneWhite"},null,8,["description"])):K("",!0)],64)):x.value==="details"&&pe.value.includes("chart-mix")?(S(),J(Ft,{key:2},[H(je,{class:"tab-header",modelValue:Ie.value,"onUpdate:modelValue":ye[3]||(ye[3]=Ht=>Ie.value=Ht),onTabChange:_e},{default:B(()=>[H(yt,{label:s(F)("chart.drag_block_value_axis_left"),name:"left"},null,8,["label"]),H(yt,{label:s(F)("chart.drag_block_value_axis_right"),name:"right"},null,8,["label"])]),_:1},8,["modelValue"]),G("div",ou,[Ie.value==="left"?(S(),se(Go,{key:0,view:s(m),"show-position":"viewDialog",ref_key:"chartComponentDetails",ref:Ce},null,8,["view"])):Ie.value==="right"?(S(),se(Go,{key:1,view:s(m),"show-position":"viewDialog",ref_key:"chartComponentDetails2",ref:Q},null,8,["view"])):K("",!0)])],64)):K("",!0)],6)),[[Gt,s(w).loadingMap[s(k).currentPath]]])],8,au)),[[Gt,_.value]]):K("",!0)]}),_:2},[s(z)?void 0:{name:"header",fn:B(()=>{var qt;return[G("div",tu,[G("div",null,we((qt=s(m))==null?void 0:qt.title),1),G("div",nu,[x.value==="enlarge"&&ee.value[0]?(S(),se(Te,{key:0,modelValue:De.value,"onUpdate:modelValue":ye[0]||(ye[0]=Ht=>De.value=Ht),class:"pixel-select",size:"small"},{default:B(()=>[(S(),J(Ft,null,Mn(mt,Ht=>H(ue,{key:Ht.label,label:Ht.label},{default:B(()=>[(S(!0),J(Ft,null,Mn(Ht.options,_t=>(S(),se(ne,{key:_t.value,label:_t.label,value:_t.value},null,8,["label","value"]))),128))]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])):K("",!0),x.value==="enlarge"&&ee.value[0]?(S(),se(s(In),{key:1,class:"m-button",link:"",size:"middle",onClick:ke},{default:B(()=>[H(Ae,{color:"#1F2329",size:"16",style:{"margin-right":"3px"}},{default:B(()=>[H(s(Da))]),_:1}),st(" "+we(s(F)("chart.export_img")),1)]),_:1})):K("",!0),x.value==="details"&&ee.value[1]?(S(),se(s(In),{key:2,class:"m-button",link:"",size:"middle",loading:be.value,disabled:s(w).loadingMap[s(k).currentPath]>0||a.dataFrom==="template",onClick:ye[1]||(ye[1]=Ht=>it("view"))},{default:B(()=>[H(Ae,{color:"#1F2329",size:"16",style:{"margin-right":"3px"}},{default:B(()=>[H(s(Da))]),_:1}),st(" "+we(s(F)("chart.export_excel")),1)]),_:1},8,["loading","disabled"])):K("",!0),x.value==="details"&&ee.value[2]?(S(),se(s(In),{key:3,class:"m-button",link:"",size:"middle",loading:be.value,onClick:ye[2]||(ye[2]=Ht=>it("dataset")),disabled:s(w).loadingMap[s(k).currentPath]>0||a.dataFrom==="template"},{default:B(()=>[H(Ae,{color:"#1F2329",size:"16",style:{"margin-right":"3px"}},{default:B(()=>[H(s(Da))]),_:1}),st(" "+we(s(F)("chart.export_raw_details")),1)]),_:1},8,["loading","disabled"])):K("",!0),x.value==="details"&&ee.value[2]&&s(m).type==="table-pivot"?(S(),se(s(In),{key:4,class:"m-button",link:"",size:"middle",loading:be.value,onClick:ft},{default:B(()=>[H(Ae,{color:"#1F2329",size:"16",style:{"margin-right":"3px"}},{default:B(()=>[H(s(Da))]),_:1}),st(" "+we(s(F)("chart.export_excel_formatter")),1)]),_:1},8,["loading"])):K("",!0),ee.value[0]||ee.value[1]||ee.value[2]?(S(),se(Le,{key:5,class:"close-divider",direction:"vertical"})):K("",!0)])])]}),key:"0"}]),1032,["title","modelValue"])}}});const ai=St(iu,[["__scopeId","data-v-16cb8546"]]),ru=dt({__name:"CanvasOptBar",props:{canvasStyleData:{type:Object,required:!0},componentData:{type:Object,required:!0},canvasId:{type:String,required:!1,default:"canvas-main"}},setup(p){const u=zt(),_=p,g=m=>{m.preventDefault(),m.stopPropagation()},E=()=>{u.clearPanelLinkageInfo(),tt().emitter.emit("clearPanelLinkage",{viewId:"all"})},w=j(()=>u.dvInfo.type==="dataV"&&u.editMode==="preview"&&!Ha()),k=j(()=>{if(ot(_.canvasId)){let m=0;return _.componentData.forEach(y=>{y.component==="UserView"?y.linkageFilters&&y.linkageFilters.length>0&&m++:y.component==="Group"?y.propValue.forEach(v=>{v.linkageFilters&&v.linkageFilters.length>0&&m++}):y.component==="DeTabs"&&y.propValue.forEach(v=>{v.componentData.forEach(F=>{F.linkageFilters&&F.linkageFilters.length>0&&m++})})}),m}else return!1});return(m,y)=>{const v=vn,F=Hn,x=In;return k.value&&(!s(u).mobileInPc||s(Ha)())?(S(),J("div",{key:0,class:Bt(["bar-main-right",{"bar-main-edit-right":w.value}]),onMousedown:g},[H(x,{size:"mini",type:"warning",onClick:E},{default:B(()=>[H(F,{class:"bar-base-icon"},{default:B(()=>[H(v,{name:"dv-bar-unLinkage"},{default:B(()=>[H(s(Ni),{class:"svg-icon"})]),_:1})]),_:1}),st(we(m.$t("visualization.remove_all_linkage")),1)]),_:1})],34)):K("",!0)}}});const oi=St(ru,[["__scopeId","data-v-9f562be0"]]),lu={class:"point-shadow-content"},su=dt({__name:"PointShadow",props:{canvasId:{type:String,required:!0}},setup(p){const u=zt(),{mousePointShadowMap:_,canvasStyleData:g}=Lt(u),E=j(()=>({fontSize:16*g.value.scale/100+"px",width:_.value.width+"px",height:_.value.height+"px"})),w=j(()=>({left:_.value.mouseX-_.value.width/2+"px",top:_.value.mouseY-_.value.height/2-60+"px",width:_.value.width+"px",height:_.value.height+"px"}));return(k,m)=>(S(),J("div",{class:"point-shadow",id:"point-shadow-main",style:ht(w.value)},[G("div",lu,[m[1]||(m[1]=G("div",{id:"point-shadow-component",class:"point-shadow-component"},null,-1)),G("div",{class:"point-shadow-tips",style:ht(E.value)},m[0]||(m[0]=[G("div",{style:{width:"100%","text-align":"center"}},"组件将被移出Tab",-1)]),4)])],4))}});const uu=St(su,[["__scopeId","data-v-10509a23"]]),cu={width:"136",height:"96",viewBox:"0 0 136 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function du(p,u){return S(),J("svg",cu,u[0]||(u[0]=[dr('<g filter="url(#filter0_d_4811_19625)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.3 9H125.7C126.97 9 128 9.77277 128 10.726V82.274C128 83.2272 126.97 84 125.7 84H15.3C14.0297 84 13 83.2272 13 82.274V10.726C13 9.77277 14.0297 9 15.3 9Z" fill="white" fill-opacity="0.8" shape-rendering="crispEdges"></path></g><g filter="url(#filter1_d_4811_19625)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.3 4H120.7C121.97 4 123 4.77277 123 5.72603V77.274C123 78.2272 121.97 79 120.7 79H10.3C9.02974 79 8 78.2272 8 77.274V5.72603C8 4.77277 9.02974 4 10.3 4Z" fill="white"></path></g><rect x="97" y="20" width="22" height="55" rx="1" fill="#F5F6F7"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M12 72.9821V74C12 74.5523 12.4477 75 13 75H14.0125V74H13L13 72.9821H12ZM12 70.9464H13V68.9107H12V70.9464ZM12 66.875H13V64.8393H12V66.875ZM12 62.8036H13V60.7679H12V62.8036ZM12 58.7321H13V56.6964H12V58.7321ZM12 54.6607H13V52.625H12V54.6607ZM12 50.5893H13V48.5536H12V50.5893ZM12 46.5179H13V44.4821H12V46.5179ZM12 42.4464H13V40.4107H12V42.4464ZM12 38.375H13V36.3393H12V38.375ZM12 34.3036H13V32.2679H12V34.3036ZM12 30.2321H13V28.1964H12V30.2321ZM12 26.0893H13V24.0536H12V26.0893ZM12 22.0179H13V21L14.0125 21V20H13C12.4477 20 12 20.4477 12 21V22.0179ZM16.0375 20V21H18.0625V20H16.0375ZM20.0875 20V21H22.1125V20H20.0875ZM24.1375 20V21H26.1625V20H24.1375ZM28.1875 20V21H30.2125V20H28.1875ZM32.2375 20V21H34.2625V20H32.2375ZM36.2875 20V21H38.3125V20H36.2875ZM40.3375 20V21H42.3625V20H40.3375ZM44.3875 20V21H46.4125V20H44.3875ZM48.4375 20V21H50.4625V20H48.4375ZM52.4875 20V21H54.5125V20H52.4875ZM56.5375 20V21H58.5625V20H56.5375ZM60.5875 20V21H62.6125V20H60.5875ZM64.6375 20V21H66.6625V20H64.6375ZM68.6875 20V21H70.7125V20H68.6875ZM72.7375 20V21H74.7625V20H72.7375ZM76.7875 20V21H78.8125V20H76.7875ZM80.8375 20V21H82.8625V20H80.8375ZM84.8875 20V21H86.9125V20H84.8875ZM88.9375 20V21H90.9625V20H88.9375ZM92.9875 20V21H94V22.0179H95V21C95 20.4477 94.5523 20 94 20H92.9875ZM95 24.0536H94V26.0893H95V24.0536ZM95 28.1964H94V30.2321H95V28.1964ZM95 32.2679H94V34.3036H95V32.2679ZM95 36.3393H94V38.375H95V36.3393ZM95 40.4107H94V42.4464H95V40.4107ZM95 44.4821H94V46.5179H95V44.4821ZM95 48.5536H94V50.5893H95V48.5536ZM95 52.625H94V54.6607H95V52.625ZM95 56.6964H94V58.7321H95V56.6964ZM95 60.7679H94V62.8036H95V60.7679ZM95 64.8393H94V66.875H95V64.8393ZM95 68.9107H94V70.9464H95V68.9107ZM95 72.9821H94V74H92.9875V75H94C94.5523 75 95 74.5523 95 74V72.9821ZM90.9625 75V74H88.9375V75H90.9625ZM86.9125 75V74H84.8875V75H86.9125ZM82.8625 75V74H80.8375V75H82.8625ZM78.8125 75V74H76.7875V75H78.8125ZM74.7625 75V74H72.7375V75H74.7625ZM70.7125 75V74H68.6875V75H70.7125ZM66.6625 75V74H64.6375V75H66.6625ZM62.6125 75V74H60.5875V75H62.6125ZM58.5625 75V74H56.5375V75H58.5625ZM54.5125 75V74H52.4875V75H54.5125ZM50.4625 75V74H48.4375V75H50.4625ZM46.4125 75V74H44.3875V75H46.4125ZM42.3625 75V74H40.3375V75H42.3625ZM38.3125 75V74H36.2875V75H38.3125ZM34.2625 75V74H32.2375V75H34.2625ZM30.2125 75V74H28.1875V75H30.2125ZM26.1625 75V74H24.1375V75H26.1625ZM22.1125 75V74H20.0875V75H22.1125ZM18.0625 75V74H16.0375V75H18.0625Z" fill="#DEE0E3"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M31.3027 13.5121L30.4999 14.3149L29.697 13.5121C29.6522 13.4673 29.5797 13.4673 29.535 13.5121L29.4613 13.5857C29.4165 13.6305 29.4165 13.703 29.4613 13.7478L30.382 14.6685C30.4471 14.7336 30.5526 14.7336 30.6177 14.6685L31.5384 13.7478C31.5832 13.703 31.5832 13.6305 31.5384 13.5857L31.4648 13.5121C31.42 13.4673 31.3475 13.4673 31.3027 13.5121Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4H122C122.552 4 123 4.97005 123 6.16667V17C122.5 17 122.552 17 122 17H9C8.44772 17 8 17 8 17V6.16667C8 4.97005 8.44772 4 9 4Z" fill="#050E21"></path><g filter="url(#filter2_d_4811_19625)"><rect x="43" y="17" width="44" height="50" fill="white"></rect></g><rect x="45" y="19" width="18.7234" height="13.6296" rx="0.5" fill="#F5F6F7"></rect><path d="M51.0836 27.3737C51.0836 27.6253 50.8797 27.8293 50.628 27.8293C50.3764 27.8293 50.1724 27.6253 50.1724 27.3737V23.8396H49.5044C49.2496 23.8396 49.043 23.633 49.043 23.3781V23.3584C49.043 23.1076 49.2548 22.9142 49.4986 22.8553C49.6483 22.8143 49.7809 22.7469 49.8965 22.6532C50.0162 22.5536 50.1168 22.4247 50.1981 22.2665C50.2368 22.1911 50.2693 22.107 50.2954 22.0143C50.3482 21.8265 50.5062 21.6777 50.7013 21.6777C50.9125 21.6777 51.0836 21.8489 51.0836 22.0601V27.3737Z" fill="#3370FF"></path><path d="M52.7996 24.0417C52.5598 24.0417 52.3608 23.85 52.3782 23.6109C52.3921 23.4205 52.4188 23.239 52.4583 23.0662C52.5268 22.7616 52.6295 22.4979 52.7664 22.2753C52.9033 22.0468 53.0744 21.8711 53.2797 21.748C53.4894 21.6191 53.729 21.5547 53.9985 21.5547C54.2038 21.5547 54.3985 21.5986 54.5824 21.6865C54.7707 21.7744 54.9354 21.9003 55.0766 22.0644C55.2177 22.2284 55.329 22.4306 55.4103 22.6708C55.4958 22.911 55.5386 23.1805 55.5386 23.4793C55.5386 23.7898 55.5022 24.0563 55.4295 24.279C55.3568 24.5016 55.2605 24.7008 55.1407 24.8766C55.021 25.0465 54.8841 25.2017 54.73 25.3423C54.5803 25.4829 54.4284 25.6235 54.2744 25.7641C54.1204 25.8989 53.9707 26.0454 53.8252 26.2035C53.6798 26.3617 53.5514 26.5463 53.4402 26.7572H55.0643C55.3404 26.7572 55.5643 26.9811 55.5643 27.2572V27.3293C55.5643 27.6055 55.3404 27.8293 55.0643 27.8293H52.2658C52.2658 27.472 52.3022 27.1614 52.3749 26.8978C52.4519 26.6342 52.5546 26.3998 52.6829 26.1948C52.8113 25.9838 52.961 25.7905 53.1321 25.6148C53.3076 25.439 53.4915 25.2603 53.684 25.0787C53.7824 24.9849 53.8872 24.8912 53.9985 24.7975C54.1097 24.6979 54.2102 24.5895 54.3001 24.4723C54.3942 24.3551 54.4712 24.2233 54.5311 24.0768C54.5953 23.9304 54.6274 23.7634 54.6274 23.5759C54.6274 23.2771 54.5632 23.0457 54.4348 22.8817C54.3108 22.7118 54.1503 22.6268 53.9536 22.6268C53.8209 22.6268 53.7076 22.6708 53.6134 22.7586C53.5236 22.8407 53.4509 22.952 53.3953 23.0926C53.3396 23.2273 53.299 23.3797 53.2733 23.5496C53.2711 23.5667 53.269 23.5839 53.267 23.601C53.2387 23.8433 53.0435 24.0417 52.7996 24.0417Z" fill="#3370FF"></path><path d="M57.6919 24.4798C57.6919 24.3122 57.8396 24.1823 58.0064 24.1647C58.1176 24.153 58.2203 24.1208 58.3144 24.0681C58.4128 24.0095 58.4919 23.9275 58.5518 23.822C58.616 23.7165 58.6481 23.5759 58.6481 23.4002C58.6481 23.1365 58.5839 22.9344 58.4556 22.7938C58.3272 22.6532 58.1796 22.5829 58.0128 22.5829C57.7818 22.5829 57.6064 22.6883 57.4866 22.8993C57.4281 23.0031 57.3849 23.1212 57.3572 23.2536C57.3086 23.4853 57.1262 23.6814 56.8895 23.6814C56.6506 23.6814 56.4555 23.4836 56.4878 23.2469C56.5083 23.0967 56.5374 22.9544 56.5753 22.8202C56.6523 22.5565 56.7571 22.331 56.8898 22.1435C57.0267 21.956 57.1892 21.8125 57.3775 21.7129C57.5657 21.6074 57.7753 21.5547 58.0064 21.5547C58.1861 21.5547 58.3657 21.5928 58.5454 21.6689C58.7251 21.7392 58.8855 21.8476 59.0267 21.9941C59.1722 22.1406 59.2898 22.3192 59.3797 22.5302C59.4695 22.7411 59.5144 22.9842 59.5144 23.2596C59.5144 23.5584 59.4609 23.822 59.354 24.0505C59.2513 24.279 59.0952 24.4342 58.8855 24.5162V24.5338C59.1337 24.61 59.3283 24.774 59.4695 25.026C59.6107 25.2779 59.6813 25.5796 59.6813 25.9311C59.6813 26.2533 59.6342 26.5404 59.5401 26.7923C59.4502 27.0443 59.3283 27.2552 59.1743 27.4251C59.0203 27.595 58.8427 27.7239 58.6417 27.8118C58.4406 27.8996 58.231 27.9436 58.0128 27.9436C57.7604 27.9436 57.5294 27.8938 57.3197 27.7942C57.1144 27.6946 56.939 27.551 56.7935 27.3636C56.6481 27.1702 56.5347 26.9359 56.4534 26.6605C56.4093 26.5028 56.3785 26.3317 56.3611 26.1471C56.3383 25.9065 56.5388 25.7114 56.7805 25.7114C57.0199 25.7114 57.2107 25.9038 57.2582 26.1383C57.2614 26.1543 57.2648 26.1702 57.2684 26.186C57.3026 26.3324 57.3518 26.4613 57.416 26.5726C57.4802 26.6781 57.5593 26.7631 57.6534 26.8275C57.7518 26.8919 57.8673 26.9242 58 26.9242C58.2053 26.9242 58.3786 26.8392 58.5197 26.6693C58.6609 26.4936 58.7315 26.2563 58.7315 25.9575C58.7315 25.7231 58.6973 25.5444 58.6288 25.4214C58.5647 25.2984 58.4812 25.2105 58.3786 25.1578C58.2759 25.0992 58.1625 25.067 58.0385 25.0611C57.8477 25.0424 57.6919 24.8881 57.6919 24.6964V24.4798Z" fill="#3370FF"></path><path d="M59.1813 29.0078H49.543C49.2668 29.0078 49.043 29.2317 49.043 29.5078V29.7057C49.043 29.9819 49.2668 30.2057 49.543 30.2057H59.1813C59.4574 30.2057 59.6813 29.9819 59.6813 29.7057V29.5078C59.6813 29.2317 59.4574 29.0078 59.1813 29.0078Z" fill="#00D6B9"></path><rect x="66.2773" y="19" width="18.7234" height="13.6296" rx="0.5" fill="#F5F6F7"></rect><path d="M75.4301 24.6753C75.5122 24.4583 75.8143 24.465 75.8866 24.6855C76.1381 25.4531 76.5204 26.6799 76.5115 27.0164C76.4981 27.517 76.0819 27.9119 75.5818 27.8985C75.0817 27.8851 74.6871 27.4685 74.7005 26.968C74.7095 26.6317 75.1451 25.4287 75.4301 24.6753Z" fill="#00D6B9"></path><path d="M71.3832 26.453C71.3832 24.1007 73.2883 22.1937 75.6385 22.1937C77.9886 22.1937 79.8938 24.1007 79.8938 26.453C79.8938 27.6187 79.4265 28.6746 78.6678 29.4442C78.5646 29.5489 78.5546 29.7166 78.6526 29.8262L79.0073 30.2229C79.1053 30.3324 79.274 30.3422 79.3784 30.2389C80.3528 29.2743 80.9576 27.934 80.9576 26.453C80.9576 23.5126 78.5762 21.1289 75.6385 21.1289C72.7008 21.1289 70.3193 23.5126 70.3193 26.453C70.3193 27.9213 70.9138 29.2513 71.8735 30.2139C71.9773 30.318 72.146 30.3093 72.2447 30.2004L72.602 29.806C72.7007 29.6971 72.6918 29.5293 72.5894 29.424C71.8424 28.6562 71.3832 27.6086 71.3832 26.453Z" fill="#3370FF"></path><rect x="45" y="35.1855" width="18.7234" height="13.6296" rx="0.5" fill="#F5F6F7"></rect><path d="M48.6172 37.957C48.6172 37.6809 48.841 37.457 49.1172 37.457H59.4647C59.7408 37.457 59.9647 37.6809 59.9647 37.957V39.7286H48.6172V37.957Z" fill="#3370FF"></path><path d="M52.0214 40.2969H48.6172V42.0006H52.0214V40.2969Z" fill="#ADC6FF"></path><path d="M55.9931 40.2969H52.5888V42.0006H55.9931V40.2969Z" fill="#ADC6FF"></path><path d="M59.9647 40.2969H56.5604V42.0006H59.9647V40.2969Z" fill="#ADC6FF"></path><path d="M52.0214 44.8401H48.6172V46.2598C48.6172 46.4167 48.7442 46.5438 48.9009 46.5438H52.0214V44.8401Z" fill="#ADC6FF"></path><path d="M55.9931 44.8401H52.5888V46.5438H55.9931V44.8401Z" fill="#ADC6FF"></path><path d="M59.9647 44.8401H56.5604V46.5438H59.681C59.8377 46.5438 59.9647 46.4167 59.9647 46.2598V44.8401Z" fill="#ADC6FF"></path><path d="M52.0214 42.5685H48.6172V44.2722H52.0214V42.5685Z" fill="#ADC6FF"></path><path d="M55.9931 42.5685H52.5888V44.2722H55.9931V42.5685Z" fill="#ADC6FF"></path><path d="M59.9647 42.5685H56.5604V44.2722H59.9647V42.5685Z" fill="#ADC6FF"></path><path d="M66.2773 36.007C66.2773 35.5533 66.6504 35.1855 67.1107 35.1855H84.1674C84.6277 35.1855 85.0007 35.5533 85.0007 36.007V47.9937C85.0007 48.4474 84.6277 48.8152 84.1674 48.8152H67.1107C66.6504 48.8152 66.2773 48.4474 66.2773 47.9937V36.007Z" fill="#F5F6F7"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M84.1674 35.5141H67.1107C66.8345 35.5141 66.6107 35.7348 66.6107 36.007V47.9937C66.6107 48.2659 66.8345 48.4866 67.1107 48.4866H84.1674C84.4436 48.4866 84.6674 48.2659 84.6674 47.9937V36.007C84.6674 35.7348 84.4436 35.5141 84.1674 35.5141ZM67.1107 35.1855C66.6504 35.1855 66.2773 35.5533 66.2773 36.007V47.9937C66.2773 48.4474 66.6504 48.8152 67.1107 48.8152H84.1674C84.6277 48.8152 85.0007 48.4474 85.0007 47.9937V36.007C85.0007 35.5533 84.6277 35.1855 84.1674 35.1855H67.1107Z" fill="#3370FF"></path><path d="M70.1772 37.457C70.0206 37.457 69.8936 37.5842 69.8936 37.741V39.7286H81.2411V37.741C81.2411 37.5842 81.1141 37.457 80.9574 37.457H70.1772Z" fill="#3370FF"></path><path d="M69.8936 40.2965H72.1631V46.5435H70.1772C70.0206 46.5435 69.8936 46.4163 69.8936 46.2595V40.2965Z" fill="#3370FF"></path><path d="M81.2411 40.2969H72.7305V42.0006H81.2411V40.2969Z" fill="#ADC6FF"></path><path d="M81.2411 44.8401H72.7305V46.5438H80.9574C81.1141 46.5438 81.2411 46.4167 81.2411 46.2598V44.8401Z" fill="#ADC6FF"></path><path d="M81.2411 42.5685H72.7305V44.2722H81.2411V42.5685Z" fill="#ADC6FF"></path><rect x="45" y="51.3711" width="18.7234" height="13.6296" rx="0.5" fill="#F5F6F7"></rect><g clip-path="url(#clip0_4811_19625)"><path d="M53.8698 55.0398C53.7832 54.9532 53.6416 54.9573 53.5603 55.0489L53.2654 55.3809C53.1252 55.5387 52.9247 55.7643 52.6831 56.0361C52.2 56.5795 51.5529 57.3071 50.897 58.0434C49.5784 59.5238 48.2414 61.0202 48.1081 61.1536C47.9835 61.2784 47.9835 61.4806 48.1081 61.6054C48.2328 61.7301 48.4348 61.7301 48.5595 61.6054C48.7099 61.4548 50.068 59.9342 51.3734 58.4686C52.0296 57.732 52.6768 57.0043 53.16 56.4608C53.3988 56.1921 53.5975 55.9685 53.7375 55.8109L56.4011 58.477C56.4715 58.5475 56.5812 58.5597 56.6653 58.5064L61.3517 55.5377L61.3537 55.5362C61.4981 55.4351 61.5332 55.2359 61.4321 55.0914C61.3316 54.9476 61.1342 54.9121 60.99 55.0112L56.6002 57.7728L53.8698 55.0398Z" fill="#3370FF"></path><path d="M48.3338 57.8652C48.1575 57.8652 48.0146 58.0083 48.0146 58.1847C48.0146 58.3611 48.1575 58.5041 48.3338 58.5041H53.0087L54.9251 60.7648C54.9604 60.8064 55.0103 60.8329 55.0646 60.8387L61.0612 61.4833C61.2357 61.5046 61.3946 61.3805 61.4164 61.2058C61.4383 61.0307 61.3142 60.871 61.1393 60.8492L55.3045 60.2249L53.368 57.9404C53.3276 57.8927 53.2682 57.8652 53.2057 57.8652H48.3338Z" fill="#00D6B9"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M47.3404 52.6484V63.0831L62.0213 63.0831L62.0213 63.722H46.7021V52.6484H47.3404Z" fill="#DEE0E3"></path></g><rect x="66.2773" y="51.3711" width="18.7234" height="13.6296" rx="0.5" fill="#F5F6F7"></rect><g clip-path="url(#clip1_4811_19625)"><path d="M75.6521 56.2206L73.7532 57.4359C73.7053 57.4705 73.6362 57.4705 73.5817 57.4425L71.1894 56.1594C71.1282 56.1248 71.0458 56.1315 70.9979 56.1794C70.9979 56.1794 69.2559 57.9563 69.2559 57.9976V62.6588H82.6601V55.2051L75.6947 56.2007L75.6521 56.2206Z" fill="#ADC6FF"></path><path d="M82.829 55.2142C82.8043 55.0395 82.6428 54.9179 82.4682 54.9426L75.6027 55.9151L75.4979 55.9643L73.6552 57.1435L71.3425 55.9031C71.1759 55.811 70.935 55.8147 70.7723 55.9775L70.7718 55.9781L70.4978 56.2563C70.3337 56.4229 70.1145 56.6456 69.8938 56.8698C69.7988 56.9664 69.7033 57.0625 69.6079 57.1587C69.4466 57.3212 69.2853 57.4837 69.126 57.6481C69.0028 57.7752 69.0087 57.9783 69.1373 58.0999C69.265 58.2205 69.4659 58.2159 69.5888 58.0905C69.6332 58.0454 69.6775 58.0002 69.7219 57.9551L69.736 57.9407C69.9058 57.768 70.1279 57.5424 70.3485 57.3182C70.5692 57.094 70.7884 56.8714 70.9524 56.7048L71.1368 56.5176L73.4328 57.7491L73.4363 57.7509C73.5721 57.8205 73.7681 57.837 73.9307 57.7255L75.7937 56.5333L82.5577 55.5752C82.7322 55.5505 82.8537 55.3889 82.829 55.2142Z" fill="#3370FF"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M68.6168 52.6484V63.0831L83.2977 63.0831L83.2977 63.722H67.9785V52.6484H68.6168Z" fill="#DEE0E3"></path></g><rect x="43" y="5" width="11" height="11" rx="1" fill="white" fill-opacity="0.15"></rect><g clip-path="url(#clip2_4811_19625)"><path d="M48.374 14.123C50.1378 14.123 51.5968 12.8184 51.8388 11.1216C51.8778 10.8482 51.6502 10.623 51.374 10.623C50.374 10.623 49.374 10.623 48.374 10.623C48.374 9.46271 48.374 8.46265 48.374 7.62288C48.374 7.34673 48.1489 7.1193 47.8755 7.15828C46.1786 7.40026 44.874 8.8593 44.874 10.623C44.874 12.556 46.441 14.123 48.374 14.123Z" fill="#3370FF"></path><path d="M49.4592 9.87377C49.2741 9.87377 49.124 9.72371 49.124 9.53859V7.12221C49.124 6.98916 49.2392 6.88454 49.3703 6.90746C50.7554 7.14971 51.8481 8.24239 52.0903 9.62754C52.1132 9.7586 52.0086 9.87377 51.8756 9.87377H49.4592Z" fill="#00D6B9"></path></g><g filter="url(#filter3_d_4811_19625)"><path fill-rule="evenodd" clip-rule="evenodd" d="M90.0006 47.3536L94.1487 45.8794L83 39.75L86.2502 52.0504L88.6842 48.3821L91.5982 52.112L92.9147 51.0835L90.0006 47.3536Z" fill="#363B3E"></path></g><g filter="url(#filter4_d_4811_19625)"><path fill-rule="evenodd" clip-rule="evenodd" d="M96.5823 46.0764L91.6432 47.8317L94.3187 51.2563L91.4263 53.5161L88.7508 50.0915L85.8527 54.4592L81.4375 37.75L96.5823 46.0764ZM88.6846 48.3826L91.5987 52.1124L92.9151 51.0839L90.001 47.3541L94.1491 45.8798L83.0004 39.7504L86.2506 52.0508L88.6846 48.3826Z" fill="white" fill-opacity="0.8"></path></g><defs><filter id="filter0_d_4811_19625" x="5" y="5" width="131" height="91" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="4"></feGaussianBlur><feComposite in2="hardAlpha" operator="out"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0.121569 0 0 0 0 0.137255 0 0 0 0 0.160784 0 0 0 0.1 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4811_19625"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4811_19625" result="shape"></feBlend></filter><filter id="filter1_d_4811_19625" x="0" y="0" width="131" height="91" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="4"></feGaussianBlur><feComposite in2="hardAlpha" operator="out"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0.121569 0 0 0 0 0.137255 0 0 0 0 0.160784 0 0 0 0.1 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4811_19625"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4811_19625" result="shape"></feBlend></filter><filter id="filter2_d_4811_19625" x="35" y="13" width="60" height="66" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="4"></feOffset><feGaussianBlur stdDeviation="4"></feGaussianBlur><feComposite in2="hardAlpha" operator="out"></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0.121569 0 0 0 0 0.137255 0 0 0 0 0.160784 0 0 0 0.1 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4811_19625"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4811_19625" result="shape"></feBlend></filter><filter id="filter3_d_4811_19625" x="80" y="37.75" width="17.1484" height="18.3613" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="1.5"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4811_19625"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4811_19625" result="shape"></feBlend></filter><filter id="filter4_d_4811_19625" x="78.4375" y="35.75" width="21.1445" height="22.709" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="1.5"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4811_19625"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4811_19625" result="shape"></feBlend></filter><clipPath id="clip0_4811_19625"><rect width="17.0213" height="11.9259" fill="white" transform="translate(45.8516 52.2227)"></rect></clipPath><clipPath id="clip1_4811_19625"><rect width="17.0213" height="11.9259" fill="white" transform="translate(67.1279 52.2227)"></rect></clipPath><clipPath id="clip2_4811_19625"><rect width="9" height="9" fill="white" transform="translate(44 6)"></rect></clipPath></defs>',42)]))}const fu={render:du},pu={class:"drag-info-main"},vu={key:1,class:"mobile-in-pc-tips"},hu=dt({__name:"DragInfo",setup(p){const{t:u}=En(),_=zt(),{dvInfo:g,mobileInPc:E}=Lt(_),w=u("visualization.resource_create_tips")+(g.value.type==="dashboard"?u("work_branch.dashboard"):u("work_branch.big_data_screen"));return(k,m)=>{const y=vn,v=Fi;return S(),J("div",pu,[s(E)?(S(),J("div",vu,"请从右侧添加可视化组件")):(S(),J(Ft,{key:0},[H(v,{style:{"justify-content":"center"}},{default:B(()=>[H(y,{name:"dv-drag-tips"},{default:B(()=>[H(s(fu),{class:"svg-icon",style:{width:"125px",height:"125px"}})]),_:1})]),_:1}),H(v,{class:"tips-info"},{default:B(()=>[st(we(w))]),_:1})],64))])}}});const gu=St(hu,[["__scopeId","data-v-36f38edf"]]),mu={style:{width:"100%",height:"100%"}},yu={key:0,class:"pop-content"},Cu=dt({__name:"Component",props:{dvInfo:{type:Object,required:!0},canvasStyleData:{type:Object,required:!0},popComponentData:{type:Array,required:!0},canvasViewInfo:{type:Object,required:!0},canvasId:{type:String,required:!1,default:"canvas-main"},scale:{type:Number,required:!1,default:1},showPosition:{type:String,required:!1,default:"preview"},canvasState:{type:Object,required:!0}},setup(p){const u=zt(),_=ca(),g=Z(!1),{t:E}=En(),w=p,{canvasStyleData:k,popComponentData:m,canvasViewInfo:y,scale:v,canvasState:F}=Kt(w),{curComponent:x}=Lt(u),Ce=j(()=>({fontSize:30*w.scale+"px",height:k.value.height*w.scale*.15+"px"})),Q=j(()=>w.showPosition==="preview"?w.scale:w.scale*100),R=Me=>{var Se;return((Se=x.value)==null?void 0:Se.id)===Me.id&&w.showPosition==="popEdit"},L=Me=>{g.value=!0,Me.preventDefault(),Me.dataTransfer.dropEffect="copy"},z=Me=>{g.value=!1},U=Me=>{if(g.value=!1,!m.value||m.value.length===0){Me.preventDefault(),Me.stopPropagation();const Se=Me.dataTransfer.getData("id");if(Se){const a=Ai(Se);a.component==="VQuery"?(a.style.top=0,a.style.left=0,a.id=So(),a.category="hidden",a.commonBackground.backgroundColor="rgba(41, 41, 41, 1)",Nl(a),u.addComponent({component:a,index:void 0}),ni(a),_.recordSnapshotCache("renderChart",a.id)):ja.error("及支持添加查询组件")}}},be=()=>{g.value=!1},pe=j(()=>({width:"100%",height:"100%"})),Ie=j(()=>{if(F.value.curPointArea==="hidden"){let Me=0;return m.value.forEach(Se=>{Me=0+Se.propValue.length}),{height:Me<8?"15%":Me*45*v.value/4+"px"}}else return{height:"0px!important",overflow:"hidden",border:"0!important"}});return mn(()=>{He.on("handleDragEnd-canvas-main",be)}),ya(()=>{He.off("handleDragEnd-canvas-main",be)}),(Me,Se)=>(S(),J("div",{class:Bt(["pop-area",{"preview-pop":p.showPosition==="preview"}]),style:ht(Ie.value),onMousedown:Se[0]||(Se[0]=Jn(()=>{},["stop"])),onMousedup:Se[1]||(Se[1]=Jn(()=>{},["stop"]))},[G("div",mu,[s(m)&&s(m).length>0?(S(),J("div",yu,[(S(!0),J(Ft,null,Mn(s(m),(a,Fe)=>(S(),se(Io,{id:"component-pop-"+a.id,"view-info":s(y)[a.id],key:Fe,config:a,index:Fe,"dv-info":p.dvInfo,"pop-active":R(a),"show-position":p.showPosition,style:ht(pe.value),scale:Q.value},null,8,["id","view-info","config","index","dv-info","pop-active","show-position","style","scale"]))),128))])):p.showPosition==="popEdit"?(S(),J("div",{key:1,class:Bt(["pop-area-main",{"pop-area-active":g.value}]),style:ht(Ce.value),onDrop:U,onDragover:L,onDragleave:z},[G("span",null,we(s(E)("visualization.pop_area_tips")),1)],38)):K("",!0)])],38))}});const ko=St(Cu,[["__scopeId","data-v-50069d36"]]),Pf=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),_u={class:"m-label"},bu=dt({__name:"DatasetParamsComponent",emits:["finish"],setup(p,{expose:u,emit:_}){En();const g=Z(!1),E=Z(),w=Z(!1),k=zt(),{canvasViewInfo:m}=Lt(k),y=Qn({viewId:null}),v=Z([]),F=()=>{E.value.clearValidate(),w.value=!1},x=Z(null),Ce=Z({}),Q=be=>{if(be){y.viewId=be.id;const pe=m.value[y.viewId];v.value=sa(pe.calParams),w.value=!0}},R=()=>{if(L.value){ja.error("请输入正确参数");return}m.value[y.viewId].calParams=v.value,tt().emitter.emit("calcData-"+y.viewId,m.value[y.viewId]),F()},L=j(()=>!v.value||v.value&&v.value.filter(be=>be.value===null||be.value===void 0).length>0),z=()=>w.value,U=be=>{be.preventDefault(),be.stopPropagation()};return u({optInit:Q,statesCheck:z,resetForm:F}),(be,pe)=>{const Ie=nl,Me=el,Se=tl,a=In,Fe=xo,ee=Co("loading");return Et((S(),se(Fe,{title:"计算参数输入",modelValue:w.value,"onUpdate:modelValue":pe[3]||(pe[3]=Ge=>w.value=Ge),width:"400px","before-close":F,onClick:U},{footer:B(()=>[H(a,{secondary:"",onClick:pe[1]||(pe[1]=Ge=>F())},{default:B(()=>pe[5]||(pe[5]=[st("取消")])),_:1}),H(a,{type:"primary",onClick:pe[2]||(pe[2]=Ge=>R())},{default:B(()=>pe[6]||(pe[6]=[st("确认")])),_:1})]),default:B(()=>[w.value?(S(),se(Se,{key:0,"label-position":"top",ref_key:"subject",ref:E,model:x.value,rules:Ce.value,onSubmit:pe[0]||(pe[0]=Jn(()=>{},["prevent"]))},{default:B(()=>[(S(!0),J(Ft,null,Mn(v.value,Ge=>(S(),se(Me,{key:Ge,class:"form-item",prop:"value_"+Ge.name},{label:B(()=>[G("label",_u,[st(" 计算字段["+we(Ge.name)+"] ",1),pe[4]||(pe[4]=G("span",{style:{color:"red"}},"*",-1))])]),default:B(()=>[H(Ie,{style:{width:"100%"},modelValue:Ge.value,"onUpdate:modelValue":De=>Ge.value=De,placeholder:"请输入一个数字","controls-position":"right"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]))),128))]),_:1},8,["model","rules"])):K("",!0)]),_:1},8,["modelValue"])),[[ee,g.value]])}}});const Wi=St(bu,[["__scopeId","data-v-f96791dd"]]),wu={class:"grid",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},xu=["width","height"],Su=["d"],ku=["width","height"],Iu=["width","height"],Mu=["d"],Du=["width","height"],Tu=["width","height"],Vu=["d"],lo=2,Hu=dt({__name:"DeGrid",props:{matrixStyle:{type:Object},themes:{type:String,default:"dark"}},setup(p){const u=p,_=j(()=>"M "+w.value+" 0 L 0 0 0 "+k.value),g=j(()=>"M "+m.value+" 0 L 0 0 0 "+y.value),E=j(()=>"M "+v.value+" 0 L 0 0 0 "+F.value),w=j(()=>u.matrixStyle.width*2*lo),k=j(()=>u.matrixStyle.height*2*lo),m=j(()=>u.matrixStyle.width*lo),y=j(()=>u.matrixStyle.height*lo),v=j(()=>u.matrixStyle.width),F=j(()=>u.matrixStyle.height);return(x,Ce)=>(S(),J("svg",wu,[G("defs",null,[G("pattern",{id:"smallGrid",width:v.value,height:F.value,patternUnits:"userSpaceOnUse"},[G("path",{d:E.value,fill:"none",stroke:"rgba(207, 207, 207, 0.4)","stroke-width":"0.8"},null,8,Su)],8,xu),G("pattern",{id:"middleGrid",width:m.value,height:y.value,patternUnits:"userSpaceOnUse"},[G("rect",{width:m.value,height:y.value,fill:"url(#smallGrid)"},null,8,Iu),G("path",{d:g.value,fill:"none",stroke:"rgba(207, 207, 207, 0.4)","stroke-width":"1"},null,8,Mu)],8,ku),G("pattern",{id:"grid",width:w.value,height:k.value,patternUnits:"userSpaceOnUse"},[G("rect",{width:w.value,height:k.value,fill:"url(#middleGrid)"},null,8,Tu),G("path",{d:_.value,fill:"none",stroke:"rgba(207, 207, 207, 0.4)","stroke-width":"1.2"},null,8,Vu)],8,Du)]),Ce[0]||(Ce[0]=G("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null,-1))]))}});const Au=St(Hu,[["__scopeId","data-v-717584fd"]]),Eu={class:"grid",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},Lu=["width","height"],Pu=["width","height"],Ou=["d"],Fu=["width","height"],Bu=["width","height"],zu=["d"],qu=dt({__name:"DeGridScreen",props:{matrixStyle:{type:Object},themes:{type:String,default:"dark"}},setup(p){const u=p,_=j(()=>"M "+g.value+" 0 L 0 0 0 "+E.value),g=j(()=>u.matrixStyle.width*5),E=j(()=>u.matrixStyle.height*5),w=j(()=>"M "+k.value+" 0 L 0 0 0 "+m.value),k=j(()=>u.matrixStyle.width),m=j(()=>u.matrixStyle.height);return(y,v)=>(S(),J("svg",Eu,[G("defs",null,[G("pattern",{id:"grid",width:g.value,height:E.value,patternUnits:"userSpaceOnUse"},[G("rect",{width:g.value,height:E.value,fill:"url(#middleGrid)"},null,8,Pu),G("path",{d:_.value,fill:"none",stroke:"rgba(207, 207, 207, 0.4)","stroke-width":"0.7"},null,8,Ou)],8,Lu),G("pattern",{id:"middleGrid",width:k.value,height:m.value,patternUnits:"userSpaceOnUse"},[G("rect",{width:k.value,height:m.value,fill:"url(#smallGrid)"},null,8,Bu),G("path",{d:w.value,fill:"none",stroke:"rgba(207, 207, 207, 0.4)","stroke-width":"0.3"},null,8,zu)],8,Fu)]),v[0]||(v[0]=G("rect",{width:"100%",height:"100%",fill:"url(#grid)"},null,-1))]))}});const Nu=St(qu,[["__scopeId","data-v-bddb34a2"]]);const $u={},ju={class:"areaShadow"};function Ru(p,u){return S(),J("div",ju)}const Wu=St($u,[["render",Ru],["__scopeId","data-v-eb1440ff"]]),Gu=["id"],Zu=dt({__name:"CanvasCore",props:{themes:{type:String,default:"dark"},isEdit:{type:Boolean,default:!0},canvasStyleData:{type:Object,required:!0},componentData:{type:Array,required:!0},popComponentData:{type:Array,required:!1,default:()=>[]},canvasViewInfo:{type:Object,required:!0},canvasId:{type:String,default:"canvas-main"},dvModel:{type:String,default:"dv"},baseWidth:{required:!1,type:Number,default:100},baseHeight:{required:!1,type:Number,default:50},baseMarginLeft:{required:!1,type:Number,default:20},baseMarginTop:{required:!1,type:Number,default:20},draggable:{required:!1,default:!0,type:Boolean},dragStart:{required:!1,type:Function,default(){return{}}},dragging:{required:!1,type:Function,default(){return{}}},dragEnd:{required:!1,type:Function,default(){return{}}},resizable:{required:!1,type:Boolean,default:!0},resizeStart:{required:!1,type:Function,default(){return{}}},resizing:{required:!1,type:Function,default(){return{}}},resizeEnd:{required:!1,type:Function,default(){return{}}},scale:{type:Number,required:!1,default:1},canvasActive:{type:Boolean,required:!1,default:!0},fontFamily:{type:String,required:!1,default:"inherit"}},emits:["scrollCanvasAdjust"],setup(p,{expose:u,emit:_}){const g=ca(),E=zt(),w=wo(),k=Jo(),{curComponent:m,dvInfo:y,editMode:v,tabMoveOutComponentId:F,canvasState:x,mainScrollTop:Ce}=Lt(E),{editorMap:Q,areaData:R,isCtrlOrCmdDown:L}=Lt(w),z=p,{baseWidth:U,baseHeight:be,baseMarginLeft:pe,baseMarginTop:Ie,draggable:Me,dragStart:Se,dragging:a,dragEnd:Fe,resizable:ee,resizeStart:Ge,resizing:De,resizeEnd:mt,isEdit:ie,canvasId:re,canvasStyleData:_e,componentData:ke,canvasViewInfo:it,themes:ft}=Kt(z),gt=ot(re.value),pt=Z(0),ut=Z(0),P=Z({x:0,y:0}),ge=Z(0),oe=Z(0),ye=Z(!1),ne=["width","height","top","left","rotate","backgroundColor","borderWidth","borderStyle","borderColor"],ue=["width","height","top","left","rotate"],Te=["width","height","top","left","rotate","borderActive","borderWidth","borderRadius","borderStyle","borderColor"],Ae=Z(null),Le=Z(null),yt=Z(null),je=Z(null),Tt=Z("editor-"+re.value);An(()=>y.value,()=>{Zt()},{deep:!0}),An(()=>_e.value,()=>{Mt(()=>{Zt()})},{deep:!0}),An(()=>R.value.components.length,(c,I)=>{Ho()});const Gt=()=>{setTimeout(()=>{Zt()})},Zt=(c="editor-canvas-main")=>{try{y.value.watermarkInfo&&y.value.watermarkInfo.settingContent&&ot(re.value)&&Wa(c,re.value,le.value)}catch{console.warn("Watermarks are not supported!")}},qt=j(()=>({width:U.value,height:be.value})),Ht=j(()=>y.value.type==="dashboard"&&ke.value.length===0&&re.value==="canvas-main"),_t=j(()=>{var c;return((c=m.value)==null?void 0:c.id)||""}),{emitter:yn}=tt(),le=j(()=>q.value?_e.value.scale*1.2/100:_e.value.scale/100),de=j(()=>q.value?E.canvasStyleData.scale*1.2/100:E.canvasStyleData.scale/100),Re=j(()=>re.value==="canvas-main"&&m.value&&m.value.canvasId!=="canvas-main"&&F.value),Xe=j(()=>{var c,I,D,X;return q.value&&((I=(c=_e.value)==null?void 0:c.dashboard)==null?void 0:I.gap)==="yes"?(X=(D=_e.value)==null?void 0:D.dashboard)==null?void 0:X.gapSize:0}),Ue=j(()=>({baseWidth:U.value,baseHeight:Wn.value?U.value*1.6:be.value,curGap:Xe.value})),q=j(()=>y.value.type==="dashboard"),fe=j(()=>vi(re.value)),Pt=Z(!1),kt=Z(!1),rt=Z(0),Ye=Z(0),Pe=Z(0),M=Z(null),Ve=Z(null),Be=Z([]),It=Z([]);let Ot,bt=!1,Ln=100;const sn=Z(0);let Nt=0,Cn=Z(null);const Pn=c=>{if(q.value||v.value==="preview"||c.buttons===2)return;!m.value||xr(m.value.component),On();const I=Q.value[re.value].getBoundingClientRect();pt.value=I.x,ut.value=I.y;const D=c.clientX,X=c.clientY;P.value.x=D-pt.value,P.value.y=X-ut.value,ye.value=!0;const ae=Je=>{ge.value=Math.abs(Je.clientX-D),oe.value=Math.abs(Je.clientY-X),Je.clientX<D&&(P.value.x=Je.clientX-pt.value),Je.clientY<X&&(P.value.y=Je.clientY-ut.value)},We=Je=>{if(document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",We),Je.clientX==D&&Je.clientY==X){On();return}Ca()};document.addEventListener("mousemove",ae),document.addEventListener("mouseup",We)},On=()=>{ye.value=!1,ge.value=0,oe.value=0,w.setAreaData({style:{left:0,top:0,width:0,height:0},components:[]})},Ca=()=>{const c=un();if(c.length<=1){On();return}let I=1/0,D=1/0,X=-1/0,ae=-1/0;c.forEach(Je=>{let Ne={left:0,top:0,right:0,bottom:0};Je.component=="Group"?Je.propValue.forEach(on=>{const rn=Sr(`#shape-id-${on.id}`).getBoundingClientRect();Ne.left=rn.left-pt.value,Ne.top=rn.top-ut.value,Ne.right=rn.right-pt.value,Ne.bottom=rn.bottom-ut.value,Ne.left<D&&(D=Ne.left),Ne.top<I&&(I=Ne.top),Ne.right>X&&(X=Ne.right),Ne.bottom>ae&&(ae=Ne.bottom)}):Ne=fo(Je.style),Ne.left<D&&(D=Ne.left),Ne.top<I&&(I=Ne.top),Ne.right>X&&(X=Ne.right),Ne.bottom>ae&&(ae=Ne.bottom)}),P.value.x=D,P.value.y=I,ge.value=X-D,oe.value=ae-I;const We={left:D,top:I,width:ge.value,height:oe.value};w.setAreaData({style:We,components:c}),c.length>0&&(E.setCurComponent({component:null,index:null}),ye.value=!1)},un=()=>{const c=[],{x:I,y:D}=P.value;return ke.value.forEach(X=>{if(X.isLock||!X.isShow)return;const ae=fo(X.style);I<=ae.left&&D<=ae.top&&ae.left+ae.width<=I+ge.value&&ae.top+ae.height<=D+oe.value&&c.push(X)}),c},en=c=>{if(q.value||v.value==="preview")return;c.stopPropagation(),c.preventDefault();const I=c.clientX,D=c.clientY,X=Ve.value.getBoundingClientRect(),ae=X.left,We=X.top,Je=I-ae;let Ne=D-We;if(!m.value||m.value&&!m.value.editing){m.value&&["VQuery"].includes(m.value.component)&&(m==null?void 0:m.value.category)==="base"&&(Ne=Ne*de.value+m.value.style.top*(1-de.value)),k.showContextMenu({top:Ne,left:Je,position:"canvasCore"});const on=document.getElementById("close-button");on&&on.click()}},Kn=c=>po(c,c.borderActive?ue:Te),Aa=c=>po(c,ne),da=c=>xi(c,{dvModel:y.value.type,cellWidth:rt.value,cellHeight:Ye.value,curGap:Xe.value,showPosition:"edit"}),_a=(c,I)=>{c.component==="VText"&&E.setShapeStyle({top:null,left:null,width:null,height:Fn(c,I),rotate:null})},Fn=(c,I)=>{let{lineHeight:D,fontSize:X,height:ae}=c.style;D===""&&(D=1.5);const We=(I.split("<br>").length-1)*D*(X||_e.value.fontSize);return ae>We?ae:We},_n=j(()=>vi(re.value)?{width:"100%",height:"100%"}:q.value?{width:"100%",height:sn.value*Ye.value+"px"}:{..._o(_e.value,re.value),width:vo(_e.value.width)+"px",height:vo(_e.value.height)+"px"});function jn(c,I){bt?Ot=c:(function(D){bt=!0,setTimeout(function(){D(),setTimeout(function(){bt=!1,Ot!=null&&jn(Ot,I)},Ln)},I)}(c),Ot=void 0)}function ea(c){if(c.clientY+50>=window.innerHeight){let I=Zo(document.body);I.scrollTop(I.scrollTop()+20)}else if(c.clientY<=150){let I=Zo(document.body);I.scrollTop(I.scrollTop()-20)}}function ba(){Nt=Pe.value;let c=36;for(let I=0;I<c;I++){let D=[];for(let X=0;X<Pe.value;X++)D.push({el:!1});Be.value.push(D)}}function W(c){const I=c.sizeX;let D=1,X=-1,ae=Be.value;if(!(I<=0)){if(ke.value.forEach(We=>{const Je=We.y+We.sizeY-2;X<Je&&(X=Je)}),X<0)return 1;{const We=ae[X];for(let Je=0,Ne=I-1;Ne<We.length;Je++,Ne++){let on=0;for(let rn=0;rn<I;rn++)We[Je+rn].el||on++;if(on===I){D=Je+1;break}}return D}}}function ce(c){let I=Be.value;if(!(c.x<=0||c.y<=0))for(let D=c.x-1;D<c.x-1+c.sizeX;D++)for(let X=c.y-1;X<c.y-1+c.sizeY;X++)try{I[X][D]&&(I[X][D].el=c)}catch(ae){console.warn("addItemToPositionBox-warn:",ae)}}function me(c){let I=Be.value;c+=2;for(let D=0;D<c;D++)if(I[D]==null){let X=[];for(let ae=0;ae<Nt;ae++)X.push({el:!1});I.push(X)}sn.value=c,Zo(Ve.value).css("height",(sn.value+2)*Ye.value+"px")}function nt(c){let I=Be.value;if(!(c.x<=0||c.y<=0))for(let D=c.x-1;D<c.x-1+c.sizeX;D++)for(let X=c.y-1;X<c.y-1+c.sizeY;X++)try{I[X][D]&&(I[X][D].el=!1)}catch(ae){console.warn(ae)}}function Qe(){let c=Ve.value.offsetWidth,I=Math.round(c/rt.value);Pe.value=I,Nt=Pe.value}function Ct(c,I){nt(c);let D=cn(c);wn.forEach(D,function(ae){let We=jt(ae);We>0&&nn(ae,We)}),c.sizeX=I.sizeX,c.sizeY=I.sizeY,c.sizeX+c.x-1>Nt&&(c.sizeX=Nt-c.x+1),c.sizeY+c.y>sn.value&&me(c.y+c.sizeY),tn(c),ce(c),Xt(c);let X=jt(c);X>0&&nn(c,X)}function qe(c,I){I=I||{},I.x=I.x||c.x,I.y=I.y||c.y,c.x<1&&(c.x=1),c.sizeX>Nt&&(c.sizeX=Nt),c.sizeX<1&&(c.sizeX=1),c.x+c.sizeX-1>Nt&&(c.x=Nt-c.sizeX+1,c.x<1&&(c.x=1)),c.y<1&&(c.y=1),c.sizeY<1&&(c.sizeY=1),c.y+c.sizeY>sn.value-1&&me(c.y+c.sizeY-1)}function vt(c,I){nt(c);let D=cn(c);wn.forEach(D,function(ae){let We=jt(ae);We>0&&nn(ae,We)}),c.x=I.x,c.y=I.y,qe(c,I),tn(c),ce(c),Xt(c);let X=jt(c);X>0&&nn(c,X)}function $t(c){c&&(ke.value.forEach((I,D)=>{c===I.id&&wt(D)}),ot(re.value)||Mt(()=>{Tn()}))}function Vt(c){if(c&&hi(c,re.value)){if(Qt()){nt(c);let D=cn(c);wn.forEach(D,function(X){let ae=jt(X);ae>0&&nn(X,ae)})}let I=[];c.innerType==="VQuery"&&(c.propValue||[]).forEach(D=>{I=[...D.checkedFields,...I]}),I.length&&Array.from(new Set(I)).forEach(D=>{yn.emit(`query-data-${D}`)}),g.recordSnapshotCache("removeItem")}}function wt(c){let I=ke.value[c];I&&hi(I,re.value)&&(Vt(I),E.removeLinkageInfo(I.id),ot(re.value)?E.deleteComponentById(I.id):ke.value.splice(c,1))}function Wt(c,I){I<0&&(I=ke.value.length),c._dragId=I,qe(c,{x:c.x,y:c.y}),tn(c),ce(c);let D=jt(c);D>0&&nn(c,D)}function Xt(c){let I=rt.value*c.sizeX-pe.value,D=Ye.value*c.sizeY-Ie.value,X=rt.value*(c.x-1)+pe.value,ae=Ye.value*(c.y-1)+Ie.value,We={x1:X,x2:X+I,y1:ae,y2:ae+D,c1:X+I/2,c2:ae+D/2,el:c},Je=wn.findIndex(It.value,function(Ne){return Ne.el._dragId==c._dragId});Je!=-1&&It.value.splice(Je,1,We)}function tn(c){let I=cn(c);wn.forEach(I,function(D){if(D._dragId==c._dragId)return;let X=c.y+c.sizeY-D.y;X>0&&hn(D,X)})}function jt(c){let I=0;for(let D=c.y-2;D>=0;D--){for(let X=c.x-1;X<c.x-1+c.sizeX;X++)if(Be.value[D][X]&&Be.value[D][X].el)return I;I++}return I}function hn(c,I){nt(c);let D=cn(c);wn.forEach(D,function(ae){if(ae._dragId==c._dragId)return;let We=Dn(c,ae,I);We>0&&hn(ae,We)});let X={y:c.y+I};Ut(c,X),qe(c,X),ce(c),Xt(c)}function Ut(c,I){I=I||{};let D=I.x||c.x,X=I.y||c.y;c.x=D,c.y=X,c.y+c.sizeY>sn.value&&(sn.value=c.y+c.sizeY)}function Dn(c,I,D){let X=[];for(let We=I.x-1;We<I.x-1+I.sizeX;We++){let Je=0;for(let Ne=c.y-1+c.sizeY;Ne<I.y-1;Ne++)Be.value[Ne][We]&&Be.value[Ne][We].el==!1&&Je++;X.push(Je)}let ae=Math.max.apply(Math,X);return D=D-ae,D>0?D:0}function nn(c,I){nt(c);let D=cn(c);Ut(c,{y:c.y-I}),ce(c),Xt(c),wn.forEach(D,function(X){let ae=jt(X);ae>0&&nn(X,ae)})}function cn(c){let I={};for(let D=c.x-1;D<c.x-1+c.sizeX;D++)for(let X=c.y-1;X<Be.value.length;X++){let ae=Be.value[X][D];if(ae&&ae.el){I[ae.el._dragId]=ae.el;break}}return wn.sortBy(wn.values(I),"y")}const fn=(c,I,D)=>{E.setCurComponent({component:I,index:D}),E.setClickComponentStatus(!0),E.setInEditorStatus(!0)},xn=(c,I,D)=>{fn(c,I,D),Rn(c)},Rn=c=>{wn.isEmpty(M.value)||(M.value.cloneItem&&M.value.cloneItem.remove(),M.value.resizeItem&&(delete M.value.resizeItem.isPlayer,mt.value(c,M.value.resizeItem,M.value.resizeItem._dragId)),M.value.moveItem&&(Fe==null||Fe.value(null,c,M.value.moveItem,M.value.moveItem._dragId),M.value.moveItem.show=!0,delete M.value.moveItem.isPlayer),M.value={})},Wn=j(()=>{var c;return Qt()&&((c=_e.value)==null?void 0:c.dashboardAdaptor)==="withWidth"}),fa=()=>{rt.value=Math.floor((U.value+pe.value)*1e3)/1e3,Wn.value?Ye.value=rt.value*1.6:Ye.value=Math.floor((be.value+Ie.value)*1e3)/1e3},pa=()=>{ot(re.value)&&Zt(),fa(),Qe()},Tn=()=>{fa(),Be.value=[],It.value=[],Ot=void 0,bt=!1,Ln=200,sn.value=0,Nt=0,Qe(),ba(),Qt()&&zr(ke.value);let c=0,I=setInterval(function(){if(c>=ke.value.length)clearInterval(I),Mt(()=>{kt.value=!0});else{let D=ke.value[c];Wt(D,c),c++}},1);Pt.value=!0},an=c=>{let I=setInterval(()=>{kt.value&&(clearInterval(I),c())},100)},ta=()=>{Ye.value=Ye.value+.001,Mt(function(){Ye.value=Ye.value-.001})},wa=()=>ke.value.length===0?1:ke.value.filter(c=>c.y).map(c=>c.y+c.sizeY).reduce((c,I)=>Math.max(c,I),0),xa=c=>{c.y=c.y===void 0?wa():c.y,$a(c,U.value,be.value),ta(),Mt(()=>{Wt(c,ke.value.length-1)})},Mo=(c,I,D)=>{$a(I,rt.value,Ye.value),ee.value&&(Ge.value(c,I,D),M.value||(M.value={}),M.value.resizeItem=I,M.value.resizeItemIndex=D,M.value.moveItem=I,M.value.moveItemIndex=D,M.value.originX=0,M.value.originY=0,M.value.startX=0,M.value.startY=0,M.value.oldX=I.x,M.value.oldY=I.y,M.value.oldSizeX=I.sizex,M.value.oldSizeY=I.sizey)},Ea=(c,I,D)=>{$a(I,rt.value,Ye.value),M.value||(M.value={}),Se.value.call(null,c,I,D),M.value.moveItem=I,M.value.moveItemIndex=D,M.value.originX=0,M.value.originY=0,M.value.startX=0,M.value.startY=0,M.value.oldX=I.x,M.value.oldY=I.y,M.value.oldSizeX=I.sizex,M.value.oldSizeY=I.sizey},La=(c,I)=>{const D=M.value;let X=wn.get(D,"moveItem");if(ea(c),!Me.value)return;a.value(c,X,X._dragId),X.isPlayer=!0;let ae=D.oldX,We=D.oldY,Je=Math.floor(I.style.left/rt.value+1),Ne=Math.floor(I.style.top/Ye.value+1);Je=Je>0?Je:1,Ne=Ne>0?Ne:1,jn(function(on,rn,Un,na){return function(){(on!=rn||na!=Un)&&(vt(X,{x:on,y:Un}),D.oldX=on,D.oldY=Un)}}(Je,ae,Ne,We),10)},Sa=(c,I)=>{const{width:D,height:X}=I.style,ae=M.value;let We=wn.get(ae,"resizeItem");De.value(c,We,We._dragId),We.isPlayer=!0;let Je=D%rt.value>rt.value/4*3?Math.floor(D/rt.value+1):Math.floor(D/rt.value),Ne=X%Ye.value>Ye.value/4*3?Math.floor(X/Ye.value+1):Math.floor(X/Ye.value),on=Math.floor((I.style.left+5)/rt.value+1),rn=Math.floor((I.style.top+5)/Ye.value+1);on=on>0?on:1,rn=rn>0?rn:1,jn(function(Un,na){return function(){Ct(We,{sizeX:Je,sizeY:Ne}),ae.oldSizeX=Je,ae.oldSizeY=Ne,vt(We,{x:Un,y:na}),ae.oldX=Un,ae.oldY=na}}(on,rn),10)},Ga=c=>{wn.isEmpty(M.value)||(M.value.cloneItem&&M.value.cloneItem.remove(),M.value.resizeItem&&(delete M.value.resizeItem.isPlayer,mt.value(c,M.value.resizeItem,M.value.resizeItem._dragId)),M.value.moveItem&&(Fe==null||Fe.value(null,c,M.value.moveItem,M.value.moveItem._dragId),M.value.moveItem.show=!0,delete M.value.moveItem.isPlayer),M.value={})},Za=c=>{const I=Ai(c);I.x=300/rt.value,I.isShow=!1,I.id=So(),E.addComponent({component:I,index:void 0}),y.value.type==="dashboard"&&ni(I),xa(I),M.value||(M.value={}),M.value.moveItem=I,M.value.moveItemIndex=ke.value.length-1,M.value.oldX=1,M.value.oldY=1},Ua=c=>{M.value&&M.value.moveItem&&!M.value.moveItem.isShow&&(wt(ke.value.length-1),Rn(c))},bn=c=>{!M.value||!M.value.moveItem||(M.value.moveItem.style.left=c.pageX,M.value.moveItem.style.top=c.pageY+Ce.value,La(c,M.value.moveItem))},Xa=()=>M.value.moveItem,va=(c,I)=>{Ae.value.dialogInit(_e.value,it.value[I.id],I,c,{scale:de.value})},Do=c=>{var I;(I=Le.value)==null||I.optInit(c)},To=()=>{Cn.value=setInterval(()=>{g.snapshotCatchToStore()},1e3)},Gn=c=>{gi(()=>{yt.value.dialogInit(c)})},Zn=c=>{gi(()=>{je.value.dialogInit(c)})},Pa=j(()=>ot(re.value)),Vo=j(()=>ot(re.value)),ha=j(()=>!!_e.value.dashboard.showGrid&&ot(re.value)&&Qt()),Ya=j(()=>!!_e.value.dashboard.showGrid&&ot(re.value)&&!Qt()),Oa=()=>{E.setBatchOptStatus(!0),R.value.components.forEach(c=>{E.addCurBatchComponent(c)})},Ja=c=>c.isShow&&(c.component!=="GroupArea"||c.component==="GroupArea"&&!L.value),Qa=j(()=>ke.value.length>0&&ke.value[ke.value.length-1].component==="GroupArea"&&L.value),Ho=async()=>{let c;const I=E.componentData.filter(D=>D.component==="GroupArea");I&&I.length>0&&(c=I[0]),R.value.components.length===0&&E.setBatchOptStatus(!1),R.value.components.length>1?(Oa(),w.calcComposeArea(),I.length===0&&(c=qr("GroupArea","GroupArea"),E.addComponent({component:c,index:void 0})),c.style.left=R.value.style.left,c.style.top=R.value.style.top,c.style.width=R.value.style.width,c.style.height=R.value.style.height,E.setClickComponentStatus(!0),E.setCurComponent({component:c,index:E.componentData.length-1})):c&&I.forEach(D=>{E.deleteComponentById(D.id)})},Ka=j(()=>{var c;return((c=_e.value)==null?void 0:c.popupAvailable)&&ot(re.value)});return mn(()=>{ot(re.value)&&(To(),Zt(),E.setEditMode("edit")),w.getEditor(re.value),He.on("handleDragStartMoveIn-"+re.value,Za),He.on("handleDragEnd-"+re.value,Ua),He.on("hideArea-"+re.value,On),He.on("removeMatrixItem-"+re.value,wt),He.on("removeMatrixItemPosition-"+re.value,Vt),He.on("removeMatrixItemById-"+re.value,$t),He.on("addDashboardItem-"+re.value,xa),He.on("snapshotChange-"+re.value,Tn),He.on("doCanvasInit-"+re.value,Tn)}),ya(()=>{Cn.value&&(clearInterval(Cn.value),Cn.value=null),He.off("handleDragStartMoveIn-"+re.value,Za),He.off("handleDragEnd-"+re.value,Ua),He.off("hideArea-"+re.value,On),He.off("removeMatrixItem-"+re.value,wt),He.off("removeMatrixItemPosition-"+re.value,Vt),He.off("removeMatrixItemById-"+re.value,$t),He.off("addDashboardItem-"+re.value,xa),He.off("snapshotChange-"+re.value,Tn),He.off("doCanvasInit"+re.value,Tn)}),u({canvasSizeInit:pa,canvasInit:Tn,afterInitOk:an,addItemBox:xa,handleDragOver:bn,getMoveItem:Xa,handleMouseUp:xn,handleMouseDown:Pn,findPositionX:W,watermarkUpdate:Gt}),(c,I)=>(S(),J("div",{id:Tt.value,ref_key:"container",ref:Ve,class:Bt(["editor",{edit:s(ie),"dashboard-editor":q.value,"group-canvas":fe.value}]),style:ht(_n.value),onContextmenu:en},[Yo(c.$slots,"canvasDragTips",{},void 0,!0),Ht.value?(S(),se(gu,{key:0})):K("",!0),s(y).type==="dataV"?(S(),se(oi,{key:1,"canvas-style-data":s(_e),"component-data":s(ke),"canvas-id":s(re)},null,8,["canvas-style-data","component-data","canvas-id"])):K("",!0),Ka.value?(S(),se(ko,{key:2,"dv-info":s(y),"canvas-id":s(re),"canvas-style-data":s(_e),canvasViewInfo:s(it),"pop-component-data":p.popComponentData,scale:de.value,"canvas-state":s(x),"show-position":"popEdit"},null,8,["dv-info","canvas-id","canvas-style-data","canvasViewInfo","pop-component-data","scale","canvas-state"])):K("",!0),ha.value?(S(),se(Au,{key:3,"matrix-style":qt.value,themes:s(ft)},null,8,["matrix-style","themes"])):K("",!0),Ya.value?(S(),se(Nu,{key:4,"matrix-style":qt.value,themes:s(ft)},null,8,["matrix-style","themes"])):K("",!0),M.value&&M.value.moveItem&&s(v)!=="preview"?(S(),se(eu,{key:5,"base-height":Wn.value?s(U)*1.6:s(be),"base-width":s(U),"cur-gap":Xe.value,element:M.value.moveItem},null,8,["base-height","base-width","cur-gap","element"])):K("",!0),Re.value?(S(),se(uu,{key:6,"canvas-id":s(re)},null,8,["canvas-id"])):K("",!0),Qa.value?(S(),se(Wu,{key:7,style:ht(da(s(ke)[s(ke).length-1]))},null,8,["style"])):K("",!0),(S(!0),J(Ft,null,Mn(s(ke),(D,X)=>Et((S(),se(js,{"canvas-id":s(re),scale:le.value,key:D.id,"default-style":D.style,style:ht(da(D)),element:D,index:X,class:Bt({lock:D.isLock&&s(v)==="edit"}),"base-cell-info":Ue.value,"canvas-active":p.canvasActive,"is-tab-move-check":s(gt),onOnStartResize:ae=>Mo(ae,D,X),onOnStartMove:ae=>Ea(ae,D,X),onOnMouseUp:I[0]||(I[0]=ae=>Ga(ae)),onOnDragging:ae=>La(ae,D),onOnResizing:ae=>Sa(ae,D),onUserViewEnlargeOpen:ae=>va(ae,D),onDatasetParamsInit:ae=>Do(D),onLinkJumpSetOpen:ae=>Gn(D),onLinkageSetOpen:ae=>Zn(D)},{default:B(()=>[D.component==="UserView"||D.isPlugin?(S(),se(Na(s(uo)(D.component)),{key:0,class:"component",id:"component"+D.id,active:D.id===_t.value,"dv-type":s(y).type,scale:de.value,style:ht(Kn(D.style)),"prop-value":D.propValue,"is-edit":!0,view:s(it)[D.id],element:D,request:D.request,onInput:_a,"dv-info":s(y),"canvas-active":p.canvasActive,"show-position":"canvas","font-family":p.fontFamily},null,40,["id","active","dv-type","scale","style","prop-value","view","element","request","dv-info","canvas-active","font-family"])):D.component.includes("Svg")?(S(),se(Na(s(uo)(D.component)),{key:1,id:"component"+D.id,scale:de.value,class:"component","is-edit":!0,style:ht(Aa(D.style)),"prop-value":D.propValue,element:D,request:D.request,"canvas-style-data":s(_e),"canvas-view-info":s(it),"dv-info":s(y),active:D.id===_t.value,"canvas-active":p.canvasActive,"show-position":"edit","font-family":p.fontFamily},null,8,["id","scale","style","prop-value","element","request","canvas-style-data","canvas-view-info","dv-info","active","canvas-active","font-family"])):(S(),se(Na(s(uo)(D.component)),{key:2,id:"component"+D.id,scale:de.value,class:"component","is-edit":!0,style:ht(Kn(D.style)),"prop-value":D.propValue,element:D,request:D.request,"canvas-style-data":s(_e),"canvas-view-info":s(it),"dv-info":s(y),active:D.id===_t.value,"canvas-active":p.canvasActive,"show-position":"edit","font-family":p.fontFamily},null,8,["id","scale","style","prop-value","element","request","canvas-style-data","canvas-view-info","dv-info","active","canvas-active","font-family"]))]),_:2},1032,["canvas-id","scale","default-style","style","element","index","class","base-cell-info","canvas-active","is-tab-move-check","onOnStartResize","onOnStartMove","onOnDragging","onOnResizing","onUserViewEnlargeOpen","onDatasetParamsInit","onLinkJumpSetOpen","onLinkageSetOpen"])),[[Jt,Ja(D)]])),128)),Pa.value?(S(),se(Zs,{key:8,"show-position":"canvasCore"})):K("",!0),Vo.value?(S(),se(Ys,{key:9})):K("",!0),Et(H(Qs,{start:P.value,width:ge.value,height:oe.value},null,8,["start","width","height"]),[[Jt,ye.value]]),H(ai,{ref_key:"userViewEnlargeRef",ref:Ae},null,512),H(Jr,{ref_key:"linkJumpRef",ref:yt},null,512),H(Qr,{ref_key:"linkageRef",ref:je},null,512),H(Wi,{ref_key:"customDatasetParamsRef",ref:Le},null,512)],46,Gu))}});const Gi=St(Zu,[["__scopeId","data-v-d845fefc"]]),Uu={class:"group"},Xu=dt({__name:"GroupPreview",props:{propValue:{type:Array,default:()=>[]},element:{type:Object,default(){return{propValue:null}}},showPosition:{type:String,required:!1,default:"canvas"},dvInfo:{type:Object,required:!0},searchCount:{type:Number,required:!1,default:0},scale:{type:Number,required:!1,default:1},canvasViewInfo:{type:Object,required:!0},fontFamily:{type:String,required:!1,default:"inherit"}},setup(p){const u=zt(),_=Z(null),g=p,{propValue:E,dvInfo:w,searchCount:k,scale:m,canvasViewInfo:y}=Kt(g),v=x=>({width:oo(x.groupStyle.width),height:oo(x.groupStyle.height),top:oo(x.groupStyle.top),left:oo(x.groupStyle.left)}),F=(x,Ce)=>{_.value.dialogInit(u.canvasStyleData,y.value[Ce.id],Ce,x,{scale:m.value})};return(x,Ce)=>(S(),J("div",Uu,[G("div",null,[(S(!0),J(Ft,null,Mn(s(E),(Q,R)=>(S(),se(Io,{id:"component"+Q.id,"view-info":s(y)[Q.id],key:R,config:Q,index:R,"dv-info":s(w),"canvas-view-info":s(y),style:ht(v(Q)),"show-position":p.showPosition,"search-count":s(k),scale:s(m),"font-family":p.fontFamily,onUserViewEnlargeOpen:L=>F(L,Q)},null,8,["id","view-info","config","index","dv-info","canvas-view-info","style","show-position","search-count","scale","font-family","onUserViewEnlargeOpen"]))),128))]),H(ai,{ref_key:"userViewEnlargeRef",ref:_},null,512)]))}});const Yu=St(Xu,[["__scopeId","data-v-6881a0f1"]]),Ju=dt({__name:"CanvasGroup",props:{canvasStyleData:{type:Object,required:!0},componentData:{type:Array,required:!0},canvasViewInfo:{type:Object,required:!0},dvInfo:{type:Object,required:!0},element:{type:Object,default(){return{propValue:[]}}},isEdit:{type:Boolean,default:!1},showPosition:{type:String,required:!1,default:"canvas"},canvasId:{type:String,required:!0},searchCount:{type:Number,required:!1,default:0},scale:{type:Number,required:!1,default:1},fontFamily:{type:String,required:!1,default:"inherit"}},setup(p){const u=p,{element:_,isEdit:g,showPosition:E,canvasStyleData:w,canvasViewInfo:k,dvInfo:m,componentData:y}=Kt(u);return(v,F)=>s(g)?(S(),se(Gi,{key:0,class:"canvas-area-shadow",ref:"canvasGroup","component-data":s(y),"canvas-style-data":s(w),"canvas-view-info":s(k),"canvas-id":p.canvasId,"canvas-active":s(_).canvasActive,"font-family":p.fontFamily},null,8,["component-data","canvas-style-data","canvas-view-info","canvas-id","canvas-active","font-family"])):(S(),se(Yu,{key:1,ref:"dashboardPreview","dv-info":s(m),element:s(_),"search-count":p.searchCount,"prop-value":s(_).propValue,"show-position":s(E),scale:p.scale*100,"canvas-view-info":s(k),"font-family":p.fontFamily},null,8,["dv-info","element","search-count","prop-value","show-position","scale","canvas-view-info","font-family"]))}}),Qu=dt({__name:"Component",props:{propValue:{type:Array,default:()=>[]},element:{type:Object,required:!0,default(){return{propValue:null}}},showPosition:{type:String,required:!1,default:"canvas"},dvInfo:{type:Object,required:!0},searchCount:{type:Number,required:!1,default:0},isEdit:{type:Boolean,required:!1,default:!1},scale:{type:Number,required:!1,default:1},active:{type:Boolean,default:!1},canvasViewInfo:{type:Object,required:!0},fontFamily:{type:String,required:!1,default:"inherit"}},setup(p){const u=zt(),{canvasStyleData:_,curComponent:g}=Lt(u),E=sa(al),w=p,{propValue:k,dvInfo:m,element:y,scale:v,canvasViewInfo:F,searchCount:x}=Kt(w),Ce=j(()=>{const R=E;return R.scale=_.value.scale,R.width=y.value.style.width*100/R.scale,R.height=y.value.style.height*100/R.scale,R}),Q=()=>{y.value.canvasActive=!0};return An(()=>w.active,()=>{Mt(()=>{!w.active&&(!g.value||g.value&&!g.value.canvasId.includes(y.value.id))&&(y.value.canvasActive=!1)})},{deep:!0}),mn(()=>{Mt(()=>{Va(y.value)})}),(R,L)=>(S(),J("div",{class:Bt(["group",{"canvas-active-custom":s(y).canvasActive}]),onDblclick:Q},[H(Ju,{"component-data":s(k),"dv-info":s(m),"show-position":p.showPosition,"canvas-id":"Group-"+s(y).id,"canvas-style-data":Ce.value,"canvas-view-info":s(F),"is-edit":p.isEdit,element:s(y),scale:s(v),"search-count":s(x),"font-family":p.fontFamily},null,8,["component-data","dv-info","show-position","canvas-id","canvas-style-data","canvas-view-info","is-edit","element","scale","search-count","font-family"])],34))}});const Zi=St(Qu,[["__scopeId","data-v-460ef1c6"]]),Of=Object.freeze(Object.defineProperty({__proto__:null,default:Zi},Symbol.toStringTag,{value:"Module"})),Ku=["id"],ec=["id"],tc=dt({__name:"DeCanvas",props:{canvasStyleData:{type:Object,required:!0},componentData:{type:Array,required:!0},canvasViewInfo:{type:Object,required:!0},canvasId:{type:String,required:!1,default:"canvas-main"},canvasActive:{type:Boolean,default:!0},outerScale:{type:Number,required:!1,default:1},fontFamily:{type:String,required:!1,default:"inherit"},canvasPosition:{type:String,required:!1,default:"main"}},setup(p,{expose:u}){const _=p,{canvasStyleData:g,componentData:E,canvasViewInfo:w,canvasId:k,canvasActive:m,canvasPosition:y}=Kt(_),v=Z("de-canvas-"+k.value),F=zt(),x=ca(),{pcMatrixCount:Ce,curOriginThemes:Q,mobileInPc:R}=Lt(F),L=Z(null),z=Z(null),U=Z(!1),be=Z(100),pe=Z(100),Ie=Z(100),Me=Qn({screenWidth:1920,screenHeight:1080,curScrollTop:0}),Se=Z(0),a=Z(0),Fe=Z(!1),ee=Z(0),Ge=Z(0),De=Z(null),mt=Z("edit-"+k.value),ie=j(()=>g.value&&ot(k.value)?{..._o(g.value)}:{}),re=Te=>{const{componentName:Ae,innerType:Le,staticMap:yt}=Te;if(Ae){const je=ol(Ae,Le,Q,yt);$a(je,Se.value,a.value),je.id=So(),je.y=void 0,je.x=De.value.findPositionX(je),F.addComponent({component:je,index:void 0}),ni(je),Mt(()=>{De.value.addItemBox(je),Mt(()=>{ne(je.y)})}),x.recordSnapshotCacheWithPositionChange("renderChart",je.id)}},_e=Te=>{if(ot(k.value)){Te.preventDefault(),Te.stopPropagation();const Ae=De.value.getMoveItem();Ae.isShow=!0,$a(Ae,Se.value,a.value),De.value.handleMouseUp(Te,Ae,E.value.length-1),x.recordSnapshotCacheWithPositionChange("renderChart",Ae.id)}},ke=Te=>{ot(k.value)&&(Te.preventDefault(),Te.dataTransfer.dropEffect="copy",De.value.handleDragOver(Te))},it=Te=>{ot(k.value)&&(Te.stopPropagation(),F.setClickComponentStatus(!1),F.setInEditorStatus(!0),F.setCurComponent({component:null,index:null}))},ft=()=>{De.value.canvasInit()},gt=(Te=!0)=>{(m.value||y.value==="tab")&&(Fe.value=!0,setTimeout(function(){L.value&&(P(),Mt(()=>{De.value.canvasInit(),De.value.afterInitOk(function(){Fe.value=!1})})),F.setDataPrepareState(!0),ot(k.value)&&Te&&x.recordSnapshotCache("renderChart")},500))},pt=()=>{Mt(()=>{L.value&&(P(),Mt(()=>{De.value.canvasSizeInit(),ut()}))})},ut=()=>{Mt(()=>{if(L.value){let Te=L.value.clientWidth,Ae=L.value.clientHeight;if(be.value=Math.floor(Te*100/g.value.width),pe.value=Math.floor(Ae*100/g.value.height),Ie.value=Math.min(be.value,pe.value),Qt()&&ot(k.value)){const Le=R.value?4:1;F.setCanvasStyleScale(Ie.value*Le)}}})},P=()=>{Me.screenWidth=L.value.clientWidth-4,Me.screenHeight=L.value.clientHeight,Se.value=Me.screenWidth/Ce.value.x,a.value=Me.screenHeight/Ce.value.y,ee.value=0,Ge.value=0,U.value=!0,ot(k.value)&&F.setBashMatrixInfo({baseWidth:Se.value,baseHeight:a.value,baseMarginLeft:ee.value,baseMarginTop:Ge.value})},ge=Te=>{De.value.addItemBox(Te)},oe=Te=>{setTimeout(()=>{Te.canvasId=k.value,F.addComponent({component:Te,index:void 0,isFromGroup:!0}),ge(Te),gt()},500)};mn(()=>{window.addEventListener("resize",pt),Bi().listenTo(document.getElementById(v.value),()=>{pt()}),gt(),ot(k.value)&&(He.on("handleNew",re),He.on("event-canvas-size-init",pt)),He.on("moveOutFromTab-"+k.value,oe),He.on("matrix-canvasInit",gt)}),ya(()=>{ot(k.value)&&(He.off("handleNew",re),He.off("event-canvas-size-init",pt)),He.off("moveOutFromTab-"+k.value,oe),He.off("matrix-canvasInit",gt)});const ye=()=>({baseWidth:Se.value,baseHeight:a.value}),ne=(Te=1)=>{setTimeout(()=>{var Ae;z.value.scrollTo({top:(Te-1)*a.value,behavior:"smooth"}),(Ae=De.value)==null||Ae.watermarkUpdate()})},ue=()=>{ot(k.value)&&(F.mainScrollTop=z.value.scrollTop)};return An(()=>m.value,()=>{m.value&&pt()}),u({addItemBox:ge,canvasInit:gt,canvasInitImmediately:ft,getBaseMatrixSize:ye}),(Te,Ae)=>{const Le=oi;return S(),J("div",{ref_key:"canvasOut",ref:L,id:mt.value,class:Bt(["content",{"render-active":Fe.value}])},[H(Le,{"canvas-style-data":s(g),"component-data":s(E),"canvas-id":s(k)},null,8,["canvas-style-data","component-data","canvas-id"]),G("div",{id:v.value,ref_key:"canvasInner",ref:z,class:Bt(["db-canvas",{"db-canvas-dashboard":!s(Qt)()}]),style:ht(ie.value),onDrop:_e,onDragover:ke,onMousedown:it,onScroll:ue},[U.value?(S(),se(Gi,{key:0,ref_key:"cyGridster",ref:De,"component-data":s(E),"canvas-style-data":s(g),"canvas-view-info":s(w),"canvas-id":s(k),"base-margin-left":ee.value,"base-margin-top":Ge.value,"base-width":Se.value,"base-height":a.value,"font-family":p.fontFamily,onScrollCanvasAdjust:ne},null,8,["component-data","canvas-style-data","canvas-view-info","canvas-id","base-margin-left","base-margin-top","base-width","base-height","font-family"])):K("",!0)],46,ec)],10,Ku)}}});const Ui=St(tc,[["__scopeId","data-v-f7395e19"]]),Ff=Object.freeze(Object.defineProperty({__proto__:null,default:Ui},Symbol.toStringTag,{value:"Module"})),nc=dt({__name:"DeCustomTab",props:{hideTitle:Boolean,fontColor:String,activeColor:String,borderColor:String,borderActiveColor:String,styleType:{type:String,default:"",validator:p=>["","radioGroup"].includes(p)}},setup(p){const u=p,_=j(()=>[{"--de-font-color":u.fontColor},{"--de-active-color":u.activeColor},{"--de-border-color":u.borderColor},{"--de-border-active-color":u.borderActiveColor}]),g=j(()=>u.styleType?[u.styleType,u.fontColor&&"fontColor",u.activeColor&&"activeColor"]:[u.fontColor&&"fontColor",u.activeColor&&"activeColor",E.value?"noBorder":u.borderColor&&"borderColor",u.borderActiveColor&&"borderActiveColor",u.hideTitle&&"no-header"]),E=j(()=>u.borderColor==="none");return(w,k)=>{const m=Pi;return S(),se(m,fr({class:["de-tabs",...g.value],style:_.value},w.$attrs),{default:B(()=>[Yo(w.$slots,"default")]),_:3},16,["class","style"])}}});const ac={key:0},oc={class:"el-dropdown-link"},ic={class:"dialog-footer"},rc=dt({__name:"Component",props:{canvasStyleData:{type:Object,required:!0},canvasViewInfo:{type:Object,required:!0},dvInfo:{type:Object,required:!0},element:{type:Object,default(){return{propValue:[]}}},isEdit:{type:Boolean,default:!1},showPosition:{type:String,required:!1,default:"canvas"},scale:{type:Number,required:!1,default:1},searchCount:{type:Number,required:!1,default:0},fontFamily:{type:String,required:!1,default:"inherit"}},setup(p){const u=zt(),_=ca(),{tabMoveInActiveId:g,bashMatrixInfo:E,editMode:w,mobileInPc:k}=Lt(u),m=Z(null);let y=null;const{t:v}=En(),F=p,{element:x,isEdit:Ce,showPosition:Q,canvasStyleData:R,canvasViewInfo:L,dvInfo:z,scale:U,searchCount:be}=Kt(F),pe=j(()=>x.value.titleBackground.active.innerImage.replace("board/","").replace(".svg","")),Ie=j(()=>x.value.titleBackground.inActive.innerImage.replace("board/","").replace(".svg","")),Me=le=>{var Ue;const{backgroundImageEnable:de,backgroundType:Re,innerImage:Xe}=x.value.titleBackground.inActive;return De.value!==le&&!x.value.titleBackground.multiply&&((Ue=x.value.titleBackground)==null?void 0:Ue.enable)&&de&&Re==="innerImage"&&typeof Xe=="string"},Se=le=>{var Ue;const{backgroundImageEnable:de,backgroundType:Re,innerImage:Xe}=x.value.titleBackground.active;return(De.value===le||x.value.titleBackground.multiply)&&((Ue=x.value.titleBackground)==null?void 0:Ue.enable)&&de&&Re==="innerImage"&&typeof Xe=="string"},a=()=>{ee.hoverFlag=!0},Fe=()=>{ee.hoverFlag=!1},ee=Qn({activeTabName:"",curItem:{},textarea:"",dialogVisible:!1,tabShow:!0,hoverFlag:!1}),Ge=Z(!1),De=Z(null),mt=Z("none");let ie;const re=j(()=>{var le,de;return x.value&&x.value.style&&((le=x.value.style)==null?void 0:le.showTabTitle)===!1?!1:(de=x.value.style)==null?void 0:de.showTabTitle}),_e=j(()=>w.value==="edit"&&Ce.value&&!k.value),ke=Qt()?"light":"dark",it=()=>{setTimeout(()=>{if(x.value.propValue.length>1){const le=document.getElementById("tab-"+x.value.propValue[x.value.propValue.length-1].name);Ge.value=le.parentNode.clientWidth>m.value.clientWidth-100}else Ge.value=!1})},ft=(le,de)=>({command:le,param:de}),gt=j(()=>z.value.type==="dashboard"&&R.value.dashboard.gap==="yes"?R.value.dashboard.gapSize:0);function pt(){ee.curItem.title=ee.textarea,ee.dialogVisible=!1,_.recordSnapshotCache("sureCurTitle")}function ut(){const de={name:So(),title:v("visualization.new_tab"),componentData:[],closable:!0};x.value.propValue.push(de),De.value=de.name,_.recordSnapshotCache("addTab")}function P(le){ee.curItem=le;let de=x.value.propValue.length;for(;de--;)if(x.value.propValue[de].name===le.name){x.value.propValue.splice(de,1);const Re=(de-1+x.value.propValue.length)%x.value.propValue.length;De.value=x.value.propValue[Re].name,ee.tabShow=!1,Mt(()=>{ee.tabShow=!0})}}function ge(le){ut();const de=x.value.propValue[x.value.propValue.length-1],Re={},Xe=x.value.id+"--"+de.name;de.componentData=Dr(Xe,le.componentData,Re),u.updateCopyCanvasView(Re)}function oe(le){ee.activeTabName=le.name,ee.curItem=le,ee.textarea=le.title,ee.dialogVisible=!0}function ye(le){switch(le.command){case"editTitle":oe(le.param);break;case"deleteCur":P(le.param),_.recordSnapshotCache("deleteCur");break;case"copyCur":ge(le.param),_.recordSnapshotCache("copyCur");break}}const ne=()=>{z.value.id&&jr(z.value.id).then(le=>{u.setNowPanelTrackInfo(le.data)})},ue=le=>{x.value.propValue.forEach((de,Re)=>{if(De.value===de.name)if(Qt()){const Xe=Nr(le.id);if(Xe>-1){He.emit("removeMatrixItem-canvas-main",Xe),u.setCurComponent({component:null,index:null}),le.canvasId=x.value.id+"--"+de.name;const Ue=ie.refs["tabCanvas_"+Re][0];if(Ue){const q=Ue.getBaseMatrixSize();mi(le,q),le.x=1,le.y=200,le.style.left=0,le.style.top=0,de.componentData.push(le),Ue.addItemBox(le),Mt(()=>{Ue.canvasInitImmediately()})}}}else{const Xe=$r(le.id);u.deleteComponent(Xe),u.setCurComponent({component:null,index:null}),le.canvasId=x.value.id+"--"+de.name,hr(le,x.value),de.componentData.push(le)}}),ne()},Te=le=>{Qt()&&mi(le,E.value,!0),He.emit("removeMatrixItemById-"+le.canvasId,le.id),u.setCurComponent({component:null,index:null}),Qt()?He.emit("moveOutFromTab-canvas-main",le):Ae(le),ne()},Ae=le=>{const{left:de,top:Re}=x.value.style;le.style.left=le.style.left+de,le.style.top=le.style.top+Re,le.canvasId="canvas-main",u.addComponent({component:le,index:void 0,isFromGroup:!0})},Le=j(()=>g.value&&g.value===x.value.id),yt=j(()=>Ge.value?"tab-head-left":"tab-head-"+x.value.style.headHorizontalPosition),je=le=>{if(le){const{backdropFilterEnable:de,backdropFilter:Re,backgroundColorSelect:Xe,backgroundColor:Ue,backgroundImageEnable:q,backgroundType:fe,outerImage:Pt,innerPadding:kt,borderRadius:rt}=le;let Ye={padding:kt*U.value+"px",borderRadius:rt+"px"},Pe="";return Xe&&Ue&&(Pe=Ue),q&&fe==="outerImage"&&typeof Pt=="string"?Ye.background=`url(${Qo(Pt)}) no-repeat ${Pe}`:Ye["background-color"]=Pe,de&&(Ye["backdrop-filter"]="blur("+Re+"px)"),Ye}return{}},Tt=le=>{var Re,Xe;let de={};return De.value===le?(de={textDecoration:x.value.style.textDecoration,fontStyle:x.value.style.fontStyle,fontWeight:x.value.style.fontWeight,fontSize:(x.value.style.activeFontSize||18)+"px",lineHeight:(x.value.style.activeFontSize||18)+"px"},(Re=x.value.titleBackground)!=null&&Re.enable&&(de={...de,...je(x.value.titleBackground.active)})):(de={textDecoration:x.value.style.textDecoration,fontStyle:x.value.style.fontStyle,fontWeight:x.value.style.fontWeight,fontSize:(x.value.style.fontSize||16)+"px",lineHeight:(x.value.style.fontSize||16)+"px"},(Xe=x.value.titleBackground)!=null&&Xe.enable&&(de={...de,...je(x.value.titleBackground.multiply?x.value.titleBackground.active:x.value.titleBackground.inActive)})),de},Gt=j(()=>x.value&&x.value.style&&x.value.style.headFontColor&&typeof x.value.style.headFontColor=="string"?x.value.style.headFontColor:"none"),Zt=j(()=>x.value&&x.value.style&&x.value.style.headFontActiveColor&&typeof x.value.style.headFontActiveColor=="string"?x.value.style.headFontActiveColor:"none"),qt=j(()=>x.value&&x.value.style&&x.value.style.headBorderActiveColor&&typeof x.value.style.headBorderActiveColor=="string"?x.value.style.headBorderActiveColor:"none"),Ht=j(()=>!!ee.textarea&&!!ee.textarea.trim());An(()=>x.value,()=>{it()},{deep:!0});const _t=()=>{ee.tabShow=!1,Mt(()=>{ee.tabShow=!0})};An(()=>_e.value,()=>{yn()});const yn=()=>{var le;if(y&&clearInterval(y),y=null,!_e.value&&(le=x.value.carousel)!=null&&le.enable){const de=(x.value.carousel.time||5)*1e3;let Re=1;y=setInterval(()=>{if(!ee.hoverFlag){const Xe=Re%x.value.propValue.length;Re++,Mt(()=>{De.value=x.value.propValue[Xe].name})}},de)}};return mn(()=>{x.value.propValue.length>0&&(De.value=x.value.propValue[0].name),it(),["canvas","canvasDataV","edit"].includes(Q.value)&&!k.value&&(He.on("onTabMoveIn-"+x.value.id,ue),He.on("onTabMoveOut-"+x.value.id,Te),He.on("onTabSortChange-"+x.value.id,_t)),ie=wi(),yn(),Mt(()=>{Va(x.value)})}),ya(()=>{["canvas","canvasDataV","edit"].includes(Q.value)&&!k.value&&(He.off("onTabMoveIn-"+x.value.id,ue),He.off("onTabMoveOut-"+x.value.id,Te),He.off("onTabSortChange-"+x.value.id,_t))}),pr(()=>{y&&(clearInterval(y),y=null)}),(le,de)=>{const Re=co("ArrowDown"),Xe=Hn,Ue=Ko,q=ei,fe=ti,Pt=Li,kt=kr,rt=In,Ye=xo;return ee.tabShow?(S(),J("div",{key:0,style:{width:"100%",height:"100%"},class:Bt([[yt.value,`ed-tabs-${s(ke)}`,{"title-hidde-tab":!re.value},{"title-show-tab":re.value}],"custom-tabs-head"]),ref_key:"tabComponentRef",ref:m},[H(nc,{modelValue:De.value,"onUpdate:modelValue":de[1]||(de[1]=Pe=>De.value=Pe),onTabAdd:ut,addable:_e.value,"font-color":Gt.value,"active-color":Zt.value,"border-color":mt.value,"border-active-color":qt.value,"hide-title":!re.value},{default:B(()=>[(S(!0),J(Ft,null,Mn(s(x).propValue,Pe=>(S(),se(Pt,{key:Pe.name,class:"el-tab-pane-custom",lazy:_e.value,label:Pe.title,name:Pe.name},{label:B(()=>[G("div",{class:"custom-tab-title",onMousedown:de[0]||(de[0]=Jn(()=>{},["stop"]))},[G("span",{class:"title-inner",style:ht(Tt(Pe.name))},[st(we(Pe.title)+" ",1),Et(H(ho,{style:ht({color:s(x).titleBackground.active.innerImageColor,pointerEvents:"none"}),name:pe.value},null,8,["style","name"]),[[Jt,Se(Pe.name)]]),Et(H(ho,{style:ht({color:s(x).titleBackground.inActive.innerImageColor,pointerEvents:"none"}),name:Ie.value},null,8,["style","name"]),[[Jt,Me(Pe.name)]]),_e.value?(S(),J("span",ac,[H(fe,{"popper-class":"custom-de-tab-dropdown",effect:s(ke),trigger:"click",onCommand:ye},{dropdown:B(()=>[H(q,{style:ht({"font-family":p.fontFamily})},{default:B(()=>[H(Ue,{command:ft("editTitle",Pe)},{default:B(()=>[st(we(s(v)("visualization.edit_title")),1)]),_:2},1032,["command"]),H(Ue,{command:ft("copyCur",Pe)},{default:B(()=>[st(we(s(v)("visualization.copy")),1)]),_:2},1032,["command"]),s(x).propValue.length>1?(S(),se(Ue,{key:0,command:ft("deleteCur",Pe)},{default:B(()=>[st(we(s(v)("visualization.delete")),1)]),_:2},1032,["command"])):K("",!0)]),_:2},1032,["style"])]),default:B(()=>[G("span",oc,[s(Ce)?(S(),se(Xe,{key:0},{default:B(()=>[H(Re)]),_:1})):K("",!0)])]),_:2},1032,["effect"])])):K("",!0)],4)],32)]),_:2},1032,["lazy","label","name"]))),128)),(S(!0),J(Ft,null,Mn(s(x).propValue,(Pe,M)=>(S(),J("div",{class:Bt(["tab-content-custom",{"switch-hidden":De.value!==Pe.name}]),key:Pe.name+"-content",onMouseenter:a,onMouseleave:Fe},[s(Ce)&&!s(k)?(S(),se(Ui,{key:0,ref_for:!0,ref:"tabCanvas_"+M,"component-data":Pe.componentData,"canvas-style-data":s(R),"canvas-view-info":s(L),"canvas-id":s(x).id+"--"+Pe.name,class:Bt(Le.value?"canvas-move-in":""),"canvas-position":"tab","canvas-active":De.value===Pe.name,"font-family":p.fontFamily},null,8,["component-data","canvas-style-data","canvas-view-info","canvas-id","class","canvas-active","font-family"])):(S(),se(ed,{key:1,ref_for:!0,ref:"dashboardPreview","dv-info":s(z),"cur-gap":gt.value,"component-data":Pe.componentData,"canvas-style-data":{},"canvas-view-info":s(L),"canvas-id":s(x).id+"--"+Pe.name,"preview-active":De.value===Pe.name,"show-position":s(Q),"outer-scale":s(U),"font-family":p.fontFamily,"outer-search-count":s(be)},null,8,["dv-info","cur-gap","component-data","canvas-view-info","canvas-id","preview-active","show-position","outer-scale","font-family","outer-search-count"]))],34))),128))]),_:1},8,["modelValue","addable","font-color","active-color","border-color","border-active-color","hide-title"]),H(Ye,{title:"编辑标题","append-to-body":!0,modelValue:ee.dialogVisible,"onUpdate:modelValue":de[4]||(de[4]=Pe=>ee.dialogVisible=Pe),width:"30%","show-close":!1,"close-on-click-modal":!1,center:""},{footer:B(()=>[G("span",ic,[H(rt,{onClick:de[3]||(de[3]=Pe=>ee.dialogVisible=!1)},{default:B(()=>de[5]||(de[5]=[st("取消")])),_:1}),H(rt,{disabled:!Ht.value,type:"primary",onClick:pt},{default:B(()=>de[6]||(de[6]=[st("确认")])),_:1},8,["disabled"])])]),default:B(()=>[H(kt,{modelValue:ee.textarea,"onUpdate:modelValue":de[2]||(de[2]=Pe=>ee.textarea=Pe),maxlength:"50",placeholder:le.$t("dataset.input_content")},null,8,["modelValue","placeholder"])]),_:1},8,["modelValue"])],2)):K("",!0)}}});const Xi=St(rc,[["__scopeId","data-v-80538cf1"]]),Bf=Object.freeze(Object.defineProperty({__proto__:null,default:Xi},Symbol.toStringTag,{value:"Module"})),lc={class:"svg-triangle-container"},sc={version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg"},uc=["points","stroke","fill","stroke-width"],cc=dt({__name:"Component",props:{propValue:{type:String,required:!0,default:""},element:{type:Object,default(){return{propValue:null}}}},setup(p){const u=p,{element:_}=Kt(u),g=Z("");An(()=>_.value.style.width,()=>{w()}),An(()=>_.value.style.height,()=>{w()}),mn(()=>{w()});const E=j(()=>_.value.style.borderActive?_.value.style.borderWidth:0),w=()=>{const{width:m,height:y}=_.value.style;k(m,y)},k=(m,y)=>{const F=[[.5,.05],[1,.95],[0,.95]].map(x=>m*x[0]+" "+y*x[1]);g.value=F.toString()};return(m,y)=>(S(),J("div",lc,[(S(),J("svg",sc,[G("polygon",{ref:"star",points:g.value,stroke:s(_).style.borderColor,fill:s(_).style.backgroundColor,"stroke-width":E.value},null,8,uc)]))]))}});const dc=St(cc,[["__scopeId","data-v-187d9b06"]]),fc={class:"attr-list de-collapse-style"},pc=dt({__name:"Attr",setup(p){const u=zt(),{curComponent:_}=Lt(u);return(g,E)=>(S(),J("div",fc,[H(_l,{element:s(_)},null,8,["element"])]))}}),vc={key:0,class:"main-frame"},hc=["id","src"],gc={key:1,class:"frame-mask edit-mask"},mc={style:{opacity:"1"}},yc={style:{"font-weight":"bold",color:"lawngreen"}},Cc={key:2,class:"frame-mask preview-top-mask"},_c={key:3,class:"frame-mask preview-right-mask"},bc={key:4,class:"frame-mask preview-left-mask"},wc={key:5,class:"frame-mask"},xc={key:1,class:"info-class"},Sc=dt({__name:"ComponentFrame",props:{propValue:{type:String,require:!0},element:{type:Object},isEdit:{type:Boolean,require:!1,default:!0},active:{type:Boolean,require:!1,default:!1},screenShot:{type:Boolean,default:!1}},setup(p){const u=zt();Lt(u);const{t:_}=En(),g=p,{propValue:E,element:w,isEdit:k,active:m,screenShot:y}=Kt(g),v=Qn({pOption:{},frameShow:!0}),F=()=>{v.frameShow=!1,Mt(()=>{v.frameShow=!0})};return mn(()=>{tt({name:"frameLinksChange-"+w.value.id,callback:function(){F()}})}),(x,Ce)=>{const Q=Fi;return S(),se(Q,{class:"main-frame"},{default:B(()=>[s(w).frameLinks.src?(S(),J("div",vc,[v.frameShow?(S(),J("iframe",{key:0,id:"iframe-"+s(w).id,src:s(w).frameLinks.src,scrolling:"auto",frameborder:"0",class:"main-frame main-de-iframe"},null,8,hc)):K("",!0),s(k)?(S(),J("div",gc,[G("span",mc,[G("span",yc,we(s(_)("visualization.edit_web_tips")),1)])])):K("",!0),s(k)?(S(),J("div",Cc)):K("",!0),s(k)?(S(),J("div",_c)):K("",!0),s(k)?(S(),J("div",bc)):K("",!0),s(y)?(S(),J("div",wc)):K("",!0)])):(S(),J("div",xc,[G("span",null,we(s(_)("visualization.link_add_tips_pre")),1)]))]),_:1})}}});const kc=St(Sc,[["__scopeId","data-v-959d3565"]]),Yi={VText:gr,VQuery:yr,VTextAttr:Cr,Group:Zi,GroupAttr:il,UserView:rl,UserViewAttr:ll,Picture:sl,PictureAttr:ul,CanvasBoard:Wr,CanvasBoardAttr:cl,CanvasIcon:dl,CanvasIconAttr:fl,DeTabs:Xi,DeTabsAttr:pl,DeGraphical:vl,DeGraphicalAttr:hl,CircleShape:gl,CircleShapeAttr:ml,RectShape:yl,RectShapeAttr:Cl,SvgTriangle:dc,SvgTriangleAttr:pc,DeTimeClock:bl,DeTimeClockAttr:wl,GroupArea:xl,GroupAreaAttr:Sl,DeFrame:kc,DeFrameAttr:kl,DeVideo:Il,DeVideoAttr:Ml,DeStreamMedia:Dl,DeStreamMediaAttr:Tl,ScrollText:Vl,ScrollTextAttr:Hl,PopArea:ko,PopAreaAttr:Al,PictureGroup:El,PictureGroupAttr:Ll};function uo(p){return Yi[p]}function zf(p){const u=p.component==="UserView"&&p.innerType==="picture-group"?"PictureGroupAttr":p.component+"Attr";return Yi[u]}const Ic=bi("viewSelectorStore",{state:()=>({enable:!1,viewIdList:[]}),getters:{getEnable(){return this.enable},getViewIdList(){return this.viewIdList}},actions:{setEnable(p){this.enable=p},remove(p){let u=this.viewIdList.length;if(u){if(!p){this.viewIdList=[];return}for(;u--;)this.viewIdList[u]===p&&this.viewIdList.splice(u,1)}},add(p){this.viewIdList.includes(p)||this.viewIdList.push(p)},clear(){this.enable=!1,this.viewIdList=[]}}}),Mc=()=>Ic(Si),Dc={class:"bar-main"},Tc=dt({__name:"ComponentSelector",props:{resourceId:{type:String,required:!1}},setup(p){const u=Mc(),_=Z(!1),g=p;mn(()=>{_.value=u.getViewIdList.includes(g.resourceId)});const E=w=>{w?u.add(g.resourceId):u.remove(g.resourceId)};return(w,k)=>{const m=Ti;return S(),J("div",Dc,[H(m,{modelValue:_.value,"onUpdate:modelValue":k[0]||(k[0]=y=>_.value=y),onChange:E},null,8,["modelValue"])])}}});const Vc=St(Tc,[["__scopeId","data-v-a80ff16a"]]),Hc=["id"],Ac=dt({__name:"ComponentWrapper",props:{active:{type:Boolean,default:!1},popActive:{type:Boolean,default:!1},canvasStyleData:{type:Object,required:!0},canvasViewInfo:{type:Object,required:!0},dvInfo:{type:Object,required:!0},config:{type:Object,required:!0,default(){return{component:null,propValue:null,request:null,linkage:null,type:null,events:null,style:null,id:null,animations:null}}},viewInfo:{type:Object,required:!1},index:{required:!0,type:[Number,String],default:0},showPosition:{required:!1,type:String,default:"preview"},canvasId:{type:String,default:"canvas-main"},searchCount:{type:Number,required:!1,default:0},scale:{type:Number,required:!1,default:100},isSelector:{type:Boolean,default:!1},suffixId:{type:String,required:!1,default:"common"},fontFamily:{type:String,required:!1,default:"inherit"},optType:{type:String,required:!1}},emits:["userViewEnlargeOpen","datasetParamsInit","onPointClick"],setup(p,{emit:u}){Pl();const _=Z(null),g=Z(null),E=zt(),w=Z(!1);_r("localStorage");const k=["width","height","top","left","rotate"],m=["width","height","top","left","rotate","borderActive","borderWidth","borderRadius","borderStyle","borderColor"],y=p,{config:v,showPosition:F,index:x,canvasStyleData:Ce,canvasViewInfo:Q,dvInfo:R,searchCount:L,scale:z,suffixId:U}=Kt(y),be=Z(null),pe=u,Ie="wrapper-outer-id-"+v.value.id,Me=j(()=>"enlarge-inner-content-"+v.value.id),Se=()=>{tt().emitter.emit("l7-prepare-picture",v.value.id),w.value=!0,setTimeout(()=>{const P=_.value;Wa(Me.value,"canvas-main",z.value/100),Di("img",P,"图表",()=>{Ei(Me.value),w.value=!1,tt().emitter.emit("l7-unprepare-picture",v.value.id)})},1e3)},a=P=>{F.value.includes("multiplexing")&&(g.value.multiplexingCheckOut(),P.stopPropagation(),P.preventDefault()),(F.value.includes("popEdit")||E.mobileInPc)&&Fe()};mn(()=>{var ge;const P="componentImageDownload-"+v.value.id;(ge=tt().emitter.all.get(P))!=null&&ge.length||tt().emitter.on(P,()=>{Se()})});const Fe=P=>{He.emit("componentClick"),E.setInEditorStatus(!0),E.setClickComponentStatus(!0),E.setCurComponent({component:v.value,index:x.value})},ee=P=>v.value.component.includes("Svg")?po(P,["top","left","width","height","rotate","backgroundColor","borderWidth","borderStyle","borderColor"]):po(P,P.borderActive?k:m),Ge=()=>{He.emit("v-hover",v.value.id)},De=j(()=>{if(v.value.commonBackground){const{backdropFilterEnable:P,backdropFilter:ge,backgroundColorSelect:oe,backgroundColor:ye,backgroundImageEnable:ne,backgroundType:ue,outerImage:Te,innerPadding:Ae,borderRadius:Le}=v.value.commonBackground;let yt={padding:Ae*pt.value+"px",borderRadius:Le+"px"},je="";return oe&&ye&&(je=ye),ne&&ue==="outerImage"&&typeof Te=="string"?yt.background=`url(${Qo(Te)}) no-repeat ${je}`:yt["background-color"]=je,v.value.component!=="UserView"&&(yt.overflow="hidden"),P&&(yt["backdrop-filter"]="blur("+ge+"px)"),yt}return{}}),mt=j(()=>{const{backgroundImageEnable:P,backgroundType:ge,innerImage:oe}=v.value.commonBackground;return P&&ge==="innerImage"&&typeof oe=="string"}),ie=j(()=>mt.value?v.value.commonBackground.innerImage.replace("board/","").replace(".svg",""):null),re=j(()=>{var P;if(v.value.multiDimensional&&((P=v.value.multiDimensional)!=null&&P.enable)){const ge=v.value.style.width,oe=v.value.style.height,ye=v.value.multiDimensional.x,ne=v.value.multiDimensional.y,ue=ye*Math.PI/180,Te=ne*Math.PI/180,Ae=Math.abs(ge*Math.cos(Te))+Math.abs(oe*Math.sin(ue)),Le=Math.abs(oe*Math.cos(ue))+Math.abs(ge*Math.sin(Te)),yt=(Ae-ge)/2;return{padding:`${(Le-oe)/2}px ${yt}px`,transform:`rotateX(${v.value.multiDimensional.x}deg) rotateY(${v.value.multiDimensional.y}deg) rotateZ(${v.value.multiDimensional.z}deg)`}}else return{}}),_e=P=>{pe("onPointClick",P)},ke=j(()=>F.value.includes("preview")&&(["Picture","CanvasIcon","CircleShape","SvgTriangle","RectShape","ScrollText"].includes(v.value.component)||["indicator","rich-text"].includes(v.value.innerType))&&v.value.events&&v.value.events.checked&&(Qt()||!Qt()&&!Ha())),it=P=>{if(ke.value&&F.value!=="canvas-multiplexing"){if(v.value.events.type==="showHidden")Mt(()=>{E.popAreaActiveSwitch()});else if(v.value.events.type==="jump"){const ge=v.value.events.jump.value,oe=v.value.events.jump.type;try{oe==="newPop"?(console.info("DataEase Component Jump newPop value:"+window.originOpen),window.originOpen?(console.info("DataEase Component originOpen newPop"),window.originOpen(ge,"_blank","width=800,height=600,left=200,top=100,toolbar=no,scrollbars=yes,resizable=yes,location=no")):window.open(ge,"_blank","width=800,height=600,left=200,top=100,toolbar=no,scrollbars=yes,resizable=yes,location=no")):oe==="_blank"?(console.info("DataEase Component Jump _blank value:"+window.originOpen),window.originOpen?(console.info("DataEase Component originOpen _blank"),window.originOpen(ge,"_blank")):window.open(ge,"_blank")):gt(window.open(ge,oe))}catch{console.warn("url 格式错误:"+ge)}}else v.value.events.type==="refreshDataV"?tt().emitter.emit("componentRefresh"):v.value.events.type==="fullScreen"?tt().emitter.emit("canvasFullscreen"):v.value.events.type==="download"&&tt().emitter.emit("canvasDownload");P.preventDefault(),P.stopPropagation()}},ft=Z(null),gt=P=>{if(ft!=null&&ft.value){const ge={methodName:"initOpenHandler",args:P};ft.value.invokeMethod(ge)}},pt=j(()=>z.value/100),ut=j(()=>y.popActive||E.mobileInPc&&y.active);return(P,ge)=>{var ye,ne,ue,Te,Ae;const oe=Co("loading");return Et((S(),J("div",{class:Bt(["wrapper-outer",s(F)+"-"+s(v).component]),id:Ie,onMousedown:a,onMouseenter:Ge,"element-loading-text":"导出中...","element-loading-background":"rgba(255, 255, 255, 1)"},[!s(F).includes("canvas")&&!y.isSelector?(S(),se(ji,{key:0,class:Bt(["wrapper-edit-bar",{"wrapper-edit-bar-active":p.active}]),ref_key:"componentEditBarRef",ref:g,"canvas-id":p.canvasId,index:s(x),element:s(v),"show-position":s(F),onUserViewEnlargeOpen:ge[0]||(ge[0]=Le=>pe("userViewEnlargeOpen",Le)),onDatasetParamsInit:ge[1]||(ge[1]=()=>pe("datasetParamsInit"))},null,8,["canvas-id","index","element","show-position","class"])):K("",!0),y.isSelector&&s(v).component==="UserView"&&((ye=s(v).propValue)==null?void 0:ye.innerType)!=="rich-text"?(S(),se(Vc,{key:1,"resource-id":s(v).id},null,8,["resource-id"])):K("",!0),G("div",{class:"wrapper-inner",ref_key:"componentWrapperInnerRef",ref:_,id:Me.value,style:ht(De.value)},[G("div",{class:Bt(["wrapper-inner-adaptor",{"pop-wrapper-inner":ut.value,"event-active":ke.value}]),style:ht(re.value),onMousedown:it},[(S(),se(Na(s(uo)(s(v).component)),{view:p.viewInfo,ref_key:"component",ref:be,class:"component","canvas-style-data":s(Ce),"opt-type":p.optType,"dv-info":s(R),"dv-type":s(R).type,"canvas-view-info":s(Q),style:ht(ee((ne=s(v))==null?void 0:ne.style)),"prop-value":(ue=s(v))==null?void 0:ue.propValue,element:s(v),request:(Te=s(v))==null?void 0:Te.request,linkage:(Ae=s(v))==null?void 0:Ae.linkage,"show-position":s(F),"search-count":s(L),scale:pt.value,disabled:!0,"is-edit":!1,"suffix-id":s(U),"font-family":p.fontFamily,onOnPointClick:_e},null,40,["view","canvas-style-data","opt-type","dv-info","dv-type","canvas-view-info","style","prop-value","element","request","linkage","show-position","search-count","scale","suffix-id","font-family"]))],38),mt.value?(S(),se(ho,{key:0,style:ht({color:s(v).commonBackground.innerImageColor,pointerEvents:"none"}),name:ie.value},null,8,["style","name"])):K("",!0)],12,Hc),H(s(bo),{ref_key:"openHandler",ref:ft,jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvT3BlbkhhbmRsZXI="},null,512)],34)),[[oe,w.value]])}}});const Io=St(Ac,[["__scopeId","data-v-ac2aeea0"]]),Ec=dt({__name:"DeFullscreen",props:{themes:{type:String,default:"light"},componentType:{type:String,default:"button"},showPosition:{required:!1,type:String,default:"preview"}},setup(p,{expose:u}){const _=zt(),g=p;Kt(g);const E=()=>{const m=!!document.fullscreenElement;_.setFullscreenFlag(m),g.showPosition==="edit"&&_.setEditMode(m?"preview":"edit"),g.showPosition==="dvEdit"&&tt().emitter.emit("canvasScrollRestore")},w=()=>{const m=document.querySelector("body");document.fullscreenElement?document.exitFullscreen():m==null||m.requestFullscreen()},k=m=>{m.key==="Escape"&&document.fullscreenElement&&document.exitFullscreen()};return mn(()=>{document.addEventListener("fullscreenchange",E),document.addEventListener("keydown",k)}),ya(()=>{document.removeEventListener("fullscreenchange",E),document.removeEventListener("keydown",k)}),u({toggleFullscreen:w}),(m,y)=>(S(),J("span"))}}),Lc={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function Pc(p,u){return S(),J("svg",Lc,u[0]||(u[0]=[G("path",{d:"M2.85738 4.85729L9.98911 11.989L2.85738 19.1207C2.66212 19.316 2.66212 19.6326 2.85738 19.8279L3.56449 20.535C3.75975 20.7302 4.07634 20.7302 4.2716 20.535L12.1104 12.6961C12.501 12.3056 12.501 11.6724 12.1104 11.2819L4.2716 3.44308C4.07634 3.24782 3.75975 3.24782 3.56449 3.44308L2.85738 4.15018C2.66212 4.34545 2.66212 4.66203 2.85738 4.85729Z"},null,-1),G("path",{d:"M11.7431 4.85729L18.8749 11.989L11.7431 19.1207C11.5479 19.316 11.5479 19.6326 11.7431 19.8279L12.4502 20.535C12.6455 20.7302 12.9621 20.7302 13.1573 20.535L20.9962 12.6961C21.3867 12.3056 21.3867 11.6724 20.9962 11.2819L13.1573 3.44308C12.9621 3.24782 12.6455 3.24782 12.4502 3.44308L11.7431 4.15018C11.5479 4.34545 11.5479 4.66203 11.7431 4.85729Z"},null,-1)]))}const Oc={render:Pc},Fc={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function Bc(p,u){return S(),J("svg",Fc,u[0]||(u[0]=[G("path",{d:"M12.2496 19.1355L5.11783 12.0038L12.2496 4.87206C12.4448 4.6768 12.4448 4.36022 12.2496 4.16495L11.5424 3.45785C11.3472 3.26259 11.0306 3.26259 10.8353 3.45785L2.99651 11.2967C2.60598 11.6872 2.60598 12.3204 2.99651 12.7109L10.8353 20.5497C11.0306 20.745 11.3472 20.745 11.5424 20.5497L12.2496 19.8426C12.4448 19.6474 12.4448 19.3308 12.2496 19.1355Z"},null,-1),G("path",{d:"M21.1497 19.1355L14.018 12.0038L21.1497 4.87206C21.345 4.6768 21.345 4.36022 21.1497 4.16495L20.4426 3.45785C20.2473 3.26259 19.9307 3.26259 19.7355 3.45785L11.8967 11.2967C11.5061 11.6872 11.5061 12.3204 11.8967 12.7109L19.7355 20.5497C19.9307 20.745 20.2473 20.745 20.4426 20.5497L21.1497 19.8426C21.345 19.6474 21.345 19.3308 21.1497 19.1355Z"},null,-1)]))}const zc={render:Bc},qc={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function Nc(p,u){return S(),J("svg",qc,u[0]||(u[0]=[G("path",{d:"M9.00839 13.9974C9.28453 13.9974 9.53453 14.1093 9.71549 14.2903C9.89646 14.4712 10.0084 14.7212 10.0084 14.9974V20.1572C10.0084 20.4333 9.78453 20.6572 9.50839 20.6572H8.50839C8.23224 20.6572 8.00839 20.4333 8.00839 20.1572V17.4974L4.09289 21.4116C3.89762 21.6069 3.58104 21.6069 3.38578 21.4116L2.67867 20.7045C2.48341 20.5092 2.48341 20.1927 2.67867 19.9974L6.68001 15.9974H3.83559C3.55945 15.9974 3.33559 15.7735 3.33559 15.4974V14.4974C3.33559 14.2212 3.55945 13.9974 3.83559 13.9974H9.00839ZM19.919 2.58865C20.1142 2.39338 20.4308 2.39338 20.6261 2.58865L21.3332 3.29575C21.5284 3.49102 21.5284 3.8076 21.3332 4.00286L17.3318 8.00286H20.1763C20.4524 8.00286 20.6763 8.22672 20.6763 8.50286V9.50286C20.6763 9.779 20.4524 10.0029 20.1763 10.0029H15.0035C14.7273 10.0029 14.4773 9.89093 14.2964 9.70997C14.1154 9.529 14.0035 9.279 14.0035 9.00286V3.84309C14.0035 3.56695 14.2273 3.34309 14.5035 3.34309H15.5035C15.7796 3.34309 16.0035 3.56695 16.0035 3.84309V6.50281L19.919 2.58865Z"},null,-1)]))}const $c={render:Nc},jc={width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"};function Rc(p,u){return S(),J("svg",jc,u[0]||(u[0]=[G("path",{d:"M7.1518 11.5968C7.31452 11.4341 7.57834 11.4341 7.74106 11.5968L8.33031 12.186C8.49303 12.3487 8.49303 12.6126 8.33031 12.7753L4.99587 16.1086H7.36621C7.59633 16.1086 7.78288 16.2952 7.78288 16.5253V17.3586C7.78288 17.5887 7.59633 17.7753 7.36621 17.7753H3.05555C2.82544 17.7753 2.6171 17.682 2.4663 17.5312C2.3155 17.3804 2.22222 17.1721 2.22222 16.9419V12.6421C2.22222 12.412 2.40877 12.2255 2.63889 12.2255H3.47222C3.70234 12.2255 3.88889 12.412 3.88889 12.6421V14.8586L7.1518 11.5968ZM16.9367 2.22217C17.1668 2.22217 17.3751 2.31544 17.5259 2.46625C17.6767 2.61705 17.77 2.82538 17.77 3.0555V7.35531C17.77 7.58543 17.5835 7.77198 17.3533 7.77198H16.52C16.2899 7.77198 16.1033 7.58543 16.1033 7.35531V5.13888L12.8404 8.40068C12.6777 8.5634 12.4139 8.5634 12.2512 8.40068L11.6619 7.81142C11.4992 7.6487 11.4992 7.38489 11.6619 7.22217L14.9964 3.88883H12.626C12.3959 3.88883 12.2094 3.70229 12.2094 3.47217V2.63883C12.2094 2.40872 12.3959 2.22217 12.626 2.22217H16.9367Z"},null,-1)]))}const Wc={render:Rc},Gc={class:"bar-first"},Zc={class:"bar-content"},Uc={class:"link-icon-active"},Xc={class:"link-icon-active"},Yc={id:"fullscreenElement",class:"link-icon-active",style:{"padding-right":"4px"}},Jc=dt({__name:"LinkOptBar",props:{canvasStyleData:{type:Object,required:!0}},setup(p){var Q;const u=zt(),_=p,{canvasStyleData:g}=Kt(_),{fullscreenFlag:E}=Lt(u),{t:w}=En(),k=Qn({fullscreenElement:null,barActive:!1,fullWidth:((Q=Uo.currentRoute.value.query)==null?void 0:Q.fromLink)==="true"?126:94}),m=j(()=>{var L,z;let R="link-bar-main-light";return((z=(L=g.value)==null?void 0:L.dashboard)==null?void 0:z.themeColor)==="dark"&&(R="link-bar-main-dark"),R}),y=j(()=>{var R;return((R=Uo.currentRoute.value.query)==null?void 0:R.fromLink)==="true"}),v=()=>{k.barActive=!k.barActive},F=()=>{document.fullscreenElement?document.exitFullscreen().catch(R=>{console.error("Exit fullscreen failed:",R)}):tt().emitter.emit("canvasFullscreen")},x=()=>{const R=localStorage.getItem("beforeJumpUrl");localStorage.removeItem("beforeJumpUrl"),window.location.href=R,window.location.reload()},Ce=()=>{tt().emitter.emit("canvasDownload","pdf")};return(R,L)=>{const z=la;return S(),J("div",{id:"fullscreenElement",ref:"widget-div",class:Bt(["link-bar-main bar-light",[{"link-bar-main-active":k.barActive},m.value]]),style:ht({"--fullWidth":k.fullWidth+"px","--fullContent":28-k.fullWidth+"px","--firstHoveMove":32-k.fullWidth+"px"})},[G("div",Gc,[H(z,{content:k.barActive?s(w)("visualization.fold"):s(w)("visualization.expand")},{default:B(()=>[H(s(Hn),{style:{width:"16px",height:"16px"},onClick:v},{default:B(()=>[k.barActive?(S(),se(vn,{key:0,name:"icon_down_right_outlined"},{default:B(()=>[H(s(Oc))]),_:1})):(S(),se(vn,{key:1,name:"icon_up_left_outlined"},{default:B(()=>[H(s(zc))]),_:1}))]),_:1})]),_:1},8,["content"])]),G("div",Zc,[L[0]||(L[0]=G("div",{class:"bar-diver"},null,-1)),Et(G("div",Uc,[H(z,{content:s(w)("visualization.back_parent")},{default:B(()=>[H(s(Hn),{style:{width:"16px",height:"16px"},onClick:x},{default:B(()=>[H(vn,{name:"icon_left_outlined"},{default:B(()=>[H(s(Fl),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["content"])],512),[[Jt,y.value]]),G("div",Xc,[H(z,{content:s(w)("visualization.export_pdf")},{default:B(()=>[H(s(Hn),{style:{width:"16px",height:"16px"},onClick:Ce},{default:B(()=>[H(vn,{name:"icon_download_outlined"},{default:B(()=>[H(s(Da),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["content"])]),G("div",Yc,[H(z,{content:s(E)?s(w)("visualization.ext_fullscreen"):s(w)("visualization.fullscreen")},{default:B(()=>[H(s(Hn),{style:{width:"16px",height:"16px"},onClick:F},{default:B(()=>[s(E)?(S(),se(vn,{key:0,name:"icon_minify_outlined"},{default:B(()=>[H(s($c),{class:"svg-icon"})]),_:1})):(S(),se(vn,{key:1,name:"icon_magnify_outlined"},{default:B(()=>[H(s(Wc),{class:"svg-icon"})]),_:1}))]),_:1})]),_:1},8,["content"])])])],6)}}});const Qc=St(Jc,[["__scopeId","data-v-d23024e1"]]),Kc=dt({__name:"DePreview",props:{canvasStyleData:{type:Object,required:!0},componentData:{type:Object,required:!0},canvasViewInfo:{type:Object,required:!0},dvInfo:{type:Object,required:!0},canvasId:{type:String,required:!1,default:"canvas-main"},showPosition:{required:!1,type:String,default:"preview"},previewActive:{type:Boolean,default:!0},downloadStatus:{type:Boolean,default:!1},userId:{type:String,require:!1},outerScale:{type:Number,required:!1,default:1},outerSearchCount:{type:Number,required:!1,default:0},isSelector:{type:Boolean,default:!1},showPopBar:{type:Boolean,default:!1},fontFamily:{type:String,required:!1,default:"inherit"}},emits:["onResetLayout"],setup(p,{expose:u,emit:_}){const g=zt(),{pcMatrixCount:E,curComponent:w,mobileInPc:k,canvasState:m,inMobile:y}=Lt(g),v=Z(null),F=Z(null),x=_,Ce=Z(null),Q=Z(!1),R=Bl(),L=p,{canvasStyleData:z,componentData:U,dvInfo:be,canvasId:pe,canvasViewInfo:Ie,showPosition:Me,previewActive:Se,downloadStatus:a,outerScale:Fe,outerSearchCount:ee,showPopBar:Ge,fontFamily:De}=Kt(L),mt="preview-"+pe.value,ie=Z(100),re=Z(100),_e=Z(100),ke=Z(null),it=Z(10),ft=Z(10),gt=Z(null),pt=Z(0),ut=Z(null),P=Z(!1),ge=j(()=>be.value.type==="dashboard"),oe=Qn({initState:!0}),ye=j(()=>ee.value+pt.value),ne=j(()=>{var M;return((M=z.value)==null?void 0:M.screenAdaptor)!=="full"}),ue=j(()=>{var M;return Qt()&&((M=z.value)==null?void 0:M.dashboardAdaptor)==="withWidth"}),Te=j(()=>{var M;return!!((M=Uo.currentRoute.value.query)!=null&&M.report)}),Ae=j(()=>U.value.filter(M=>M.category&&M.category==="hidden"&&(!(M!=null&&M.dashboardHidden)||(M==null?void 0:M.dashboardHidden)&&Ha()))),Le=j(()=>U.value.filter(M=>(M==null?void 0:M.category)!=="hidden"&&M.component!=="GroupArea"&&(!(M!=null&&M.dashboardHidden)||(M==null?void 0:M.dashboardHidden)&&Ha()))),yt=j(()=>{var Ve,Be,It,Ot,bt,Ln,sn,Nt;let M={};return ot(pe.value)&&!Qt()&&(M.overflowY="hidden !important"),z.value&&z.value.width&&ot(pe.value)&&(M=_o(z.value),((Ve=z.value)==null?void 0:Ve.screenAdaptor)==="keep"?(M.height=((Be=z.value)==null?void 0:Be.height)+"px",M.width=((It=z.value)==null?void 0:It.width)+"px",M.margin="auto"):(M.height=ge.value?a.value?je():"100%":!((Ot=z.value)!=null&&Ot.screenAdaptor)||((bt=z.value)==null?void 0:bt.screenAdaptor)==="widthFirst"?vo((Ln=z.value)==null?void 0:Ln.height,_e.value)+"px":"100%",M.width=!ge.value&&((sn=z.value)==null?void 0:sn.screenAdaptor)==="heightFirst"?vo((Nt=z.value)==null?void 0:Nt.width,re.value)+"px":"100%")),M}),je=()=>{var Be;if(!((Be=ke.value)!=null&&Be.childNodes))return Mt(()=>{yt.value.height=je()}),"100%";const M=ke.value.childNodes;let Ve=0;return M.forEach(It=>{const Ot=(It.offsetHeight||0)+(It.offsetTop||0);Ot>Ve&&(Ve=Ot)}),`${Ve}px!important`};An(()=>Se.value,()=>{Se.value&&Gt()}),tt({name:"tabCanvasChange-"+pe.value,callback:function(){Gt()}}),tt({name:"componentRefresh",callback:function(){ot(pe.value)&&_t()}}),tt({name:"canvasFullscreen",callback:function(){ot(pe.value)&&Ce.value.toggleFullscreen()}});const Tt=()=>{a.value||Mt(()=>{var M,Ve,Be;if(ke.value){let It=ke.value.clientWidth,Ot=ke.value.clientHeight;if(ie.value=It*100/z.value.width,ue.value?re.value=ie.value*.7:re.value=Ot*100/z.value.height,_e.value=Qt()&&!ue.value?Math.floor(Math.min(ie.value,re.value)):ie.value,ge.value)it.value=It/E.value.x,ue.value?ft.value=it.value*1.6:ft.value=Ot/E.value.y,_e.value=ot(pe.value)?_e.value*1.2:Fe.value*100;else{const bt=ne.value?_e.value:re.value;zl(Le.value,z.value,_e.value||Fe.value*100,bt||Fe.value*100,Fe.value*100),_e.value=ot(pe.value)?_e.value:Fe.value*100}P.value=!0,x("onResetLayout"),Q.value=!1,((M=ke.value)==null?void 0:M.clientHeight)-((Be=(Ve=ke.value)==null?void 0:Ve.parentNode)==null?void 0:Be.clientHeight)>0&&(Q.value=!0)}})},Gt=()=>{Te.value||Tt()},Zt=M=>xi(M,{dvModel:be.value.type,cellWidth:it.value,cellHeight:ft.value,curGap:qt.value}),qt=j(()=>{var M,Ve,Be;return ge.value&&((M=g.canvasStyleData.dashboard)==null?void 0:M.gap)==="yes"?(Be=(Ve=g.canvasStyleData)==null?void 0:Ve.dashboard)==null?void 0:Be.gapSize:0}),Ht=()=>{if(z.value.refreshViewEnable&&Me.value==="preview"){pt.value=0,ut.value&&clearInterval(ut.value);let M=3e5;z.value.refreshTime&&z.value.refreshTime>0&&(z.value.refreshUnit==="second"?M=z.value.refreshTime*1e3:M=z.value.refreshTime*6e4),ut.value=setInterval(()=>{_t()},M)}},_t=()=>{pt.value++,ot(pe.value)&&Rr(be.value.id,be.value.type)},yn=(M="preview-canvas-main")=>{be.value.watermarkInfo&&ot(pe.value)&&!a.value&&Wa(M,pe.value,_e.value/100)},le=M=>{const Ve=M.data;console.info("Received Message: "+JSON.stringify(Ve)),(Ve==null?void 0:Ve.targetSourceId)===be.value.id+""&&ot(pe.value)&&(Ve.type==="attachParams"?Re(Ve):Ve.type==="webParams"&&de(Ve))},de=M=>{const Ve=M.params;g.addWebParamsFilter(Ve,Le.value)},Re=M=>{const Ve=M.params;oe.initState=!1,g.addOuterParamsFilter(Ve,Le.value,"outer"),oe.initState=!0};mn(()=>{Ht(),Tt(),window.addEventListener("resize",Gt),Bi().listenTo(document.getElementById(mt),()=>{Gt(),yn()}),window.addEventListener("message",le)}),ya(()=>{g.canvasStateChange({key:"curPointArea",value:"base"}),clearInterval(ut.value),window.removeEventListener("message",le)});const Xe=(M,Ve)=>{gt.value.dialogInit(z.value,Ie.value[Ve.id],Ve,M,{scale:_e.value/100})},Ue=()=>{Me.value!=="viewDialog"&&(g.setCurComponent({component:null,index:null}),(!w.value||w.value&&w.value.category!=="hidden")&&g.canvasStateChange({key:"curPointArea",value:"base"}))},q=M=>{try{if(console.info("de_inner_params send"),window["dataease-embedded-host"]&&(v!=null&&v.value)){const Ve={methodName:"embeddedInteractive",args:{eventName:"de_inner_params",args:M}};v.value.invokeMethod(Ve)}else{console.info("de_inner_params send to host");const Ve={type:"dataease-embedded-interactive",eventName:"de_inner_params",args:M};window.parent.postMessage(Ve,"*")}}catch{console.warn("de_inner_params send error")}},fe=j(()=>{var M;return((M=z.value)==null?void 0:M.popupAvailable)&&ot(pe.value)}),Pt=j(()=>fe.value&&Ae.value&&Ae.value.length>0&&!y.value&&z.value.popupButtonAvailable),kt=M=>{var Ve;(Ve=F.value)==null||Ve.optInit(M)},rt=j(()=>be.value.type==="dataV"&&pe.value==="canvas-main"),Ye=j(()=>!!(z.value.suspensionButtonAvailable&&!y.value&&!k.value&&Ge.value&&!R)),Pe=()=>{};return u({restore:Gt}),(M,Ve)=>(S(),J(Ft,null,[oe.initState?(S(),J("div",{key:0,id:mt,class:Bt(["canvas-container",{"de-download-custom":s(a),"datav-preview":rt.value}]),style:ht(yt.value),ref_key:"previewCanvas",ref:ke,onMousedown:Ue},[Pt.value?(S(),se(Ol,{key:0,"is-fixed":Q.value},null,8,["is-fixed"])):K("",!0),fe.value?(S(),se(ko,{key:1,"dv-info":s(be),"canvas-id":s(pe),"canvas-style-data":s(z),canvasViewInfo:s(Ie),"pop-component-data":Ae.value,scale:_e.value,"canvas-state":s(m),"show-position":"preview"},null,8,["dv-info","canvas-id","canvas-style-data","canvasViewInfo","pop-component-data","scale","canvas-state"])):K("",!0),H(oi,{"canvas-id":s(pe),"canvas-style-data":s(z),"component-data":Le.value},null,8,["canvas-id","canvas-style-data","component-data"]),P.value?(S(!0),J(Ft,{key:2},Mn(Le.value,(Be,It)=>Et((S(),se(Io,{active:Be.id===(s(w)||{}).id,"canvas-id":s(pe),"canvas-style-data":s(z),"dv-info":s(be),"canvas-view-info":s(Ie),"view-info":s(Ie)[Be.id],key:It,config:Be,style:ht(Zt(Be)),"show-position":s(Me),"search-count":ye.value,scale:s(k)&&s(Qt)()?100:_e.value,"is-selector":L.isSelector,"font-family":s(z).fontFamily||s(De),onUserViewEnlargeOpen:Ot=>Xe(Ot,Be),onDatasetParamsInit:Ot=>kt(Be),onOnPointClick:q},null,8,["active","canvas-id","canvas-style-data","dv-info","canvas-view-info","view-info","config","style","show-position","search-count","scale","is-selector","font-family","onUserViewEnlargeOpen","onDatasetParamsInit"])),[[Jt,Be.isShow]])),128)):K("",!0),H(ai,{ref_key:"userViewEnlargeRef",ref:gt},null,512)],38)):K("",!0),oe.initState?K("",!0):(S(),se(Oi,{key:1,description:"参数不能为空","img-type":"noneWhite"})),H(Ec,{ref_key:"fullScreeRef",ref:Ce},null,512),H(Wi,{ref_key:"customDatasetParamsRef",ref:F},null,512),H(s(bo),{ref_key:"openHandler",ref:v,jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvT3BlbkhhbmRsZXI="},null,512),Ye.value?(S(),se(Qc,{key:2,ref:"link-opt-bar",terminal:"pc","canvas-style-data":s(z),onLinkExportPdf:Pe},null,8,["canvas-style-data"])):K("",!0)],64))}});const ed=St(Kc,[["__scopeId","data-v-b776c6ab"]]);export{Ls as C,Ui as D,Ec as _,Ef as a,Ws as b,Lf as c,Zl as d,ws as e,Nl as f,Gi as g,zf as h,Fs as i,Io as j,ed as k,$i as l,ai as m,Pf as n,Of as o,Ff as p,Bf as q};

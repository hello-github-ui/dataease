import{M as E}from"./index-0.0.0-dataease.js";import{n as w,j as L}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{i as v}from"./icon_drag_outlined-0.0.0-dataease.js";import{d as S}from"./vuedraggable-es-0.0.0-dataease.js";import{c as M}from"./index-0.0.0-dataease19.js";import{d as A,r as C,Z as N,w as P,aa as B,f as l,g as h,i as m,T as j,j as x,L as I,k as d,M as V,a6 as D}from"./vue-0.0.0-dataease.js";import{_ as O}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease.js";import"./formatter-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./index-0.0.0-dataease20.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./el-col-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./el-row-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";const q=["title"],F={class:"item-span"},T=A({__name:"SortPriorityEdit",props:{chart:{type:Object,required:!0}},emits:["onPriorityChange"],setup(u,{emit:g}){const b=C(!1),o=N({sortList:[]}),_=u,k=g;P(()=>_.chart,()=>{f()},{deep:!0});const f=()=>{var c;const t=_.chart;(c=t.sortPriority)!=null&&c.length?o.sortList.splice(0,o.sortList.length,...t.sortPriority):o.sortList.splice(0,o.sortList.length);const p=M.getChartView(t.render,t.type);if(p){const s=p.axis,a=s==null?void 0:s.reduce((r,i)=>{let e;switch(i){case"xAxis":e=t.xAxis;break;case"yAxis":e=t.yAxis;break;case"xAxisExt":e=t.xAxisExt;break;case"yAxisExt":e=t.yAxisExt;break;case"extBubble":e=t.extBubble;break;case"flowMapEndName":e=t.flowMapEndName;break;case"flowMapStartName":e=t.flowMapStartName;break;case"extColor":e=t.extColor;break;case"extStack":e=t.extStack;break;case"drill":e=t.drillFields;break}return e==null||e.forEach(n=>{r[n.id]||(r[n.id]=n.chartShowName??n.name)}),r},{});o.sortList=o.sortList.reduce((r,i)=>(a[i.id]&&(i.name=a[i.id],r.push(i)),r),[]),Object.entries(a).forEach(([r,i])=>{o.sortList.find(e=>e.id===r)||o.sortList.push({id:r,name:i})})}},y=()=>{k("onPriorityChange",o.sortList)};return f(),(t,p)=>{const c=w,s=L,a=E,r=B("loading");return l(),h(a,{height:"100%","max-height":"599px"},{default:m(()=>[j((l(),h(x(S),{list:o.sortList,animation:"300",class:"drag-list","item-key":"id",onUpdate:y},{item:m(({element:i})=>[(l(),I("span",{key:i.id,class:"item-dimension",title:i.name},[d(s,{class:"item-icon"},{default:m(()=>[d(c,{name:"icon_drag_outlined"},{default:m(()=>[d(x(v),{class:"svg-icon"})]),_:1})]),_:1}),V("span",F,D(i.name),1)],8,q))]),_:1},8,["list"])),[[r,b.value]])]),_:1})}}});const ft=O(T,[["__scopeId","data-v-14fe4a3c"]]);export{ft as default};

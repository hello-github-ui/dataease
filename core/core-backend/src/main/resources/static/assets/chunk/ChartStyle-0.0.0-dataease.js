import"./index-0.0.0-dataease.js";import{E as ne}from"./el-row-0.0.0-dataease.js";import{o as ie}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import se from"./MiscSelector-0.0.0-dataease.js";import me from"./LabelSelector-0.0.0-dataease.js";import ce from"./TooltipSelector-0.0.0-dataease.js";import pe from"./XAxisSelector-0.0.0-dataease.js";import de from"./YAxisSelector-0.0.0-dataease.js";import he from"./DualYAxisSelector-0.0.0-dataease.js";import ue from"./TitleSelector-0.0.0-dataease.js";import{L as ye}from"./LegendSelector-0.0.0-dataease.js";import{d as fe}from"./dvMain-0.0.0-dataease.js";import{d as ge,ah as Ce,t as be,r as U,G as Se,w as xe,f as s,g as m,i as n,M as Ae,k as i,j as e,a0 as c,U as we,n as ve}from"./vue-0.0.0-dataease.js";import{C as b}from"./CollapseSwitchItem-0.0.0-dataease.js";import{a as Y,E as g}from"./el-collapse-item-0.0.0-dataease.js";import Ve from"./BasicStyleSelector-0.0.0-dataease.js";import Fe from"./SymbolicStyleSelector-0.0.0-dataease.js";import ke from"./DualBasicStyleSelector-0.0.0-dataease.js";import{C as Te,_ as Me}from"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{B as Oe}from"./BackgroundOverallCommon-0.0.0-dataease.js";import qe from"./TableHeaderSelector-0.0.0-dataease.js";import Be from"./TableCellSelector-0.0.0-dataease.js";import Re from"./TableTotalSelector-0.0.0-dataease.js";import Ne from"./MiscStyleSelector-0.0.0-dataease.js";import _e from"./IndicatorValueSelector-0.0.0-dataease.js";import Ie from"./IndicatorNameSelector-0.0.0-dataease.js";import Le from"./QuadrantSelector-0.0.0-dataease.js";import Ee from"./FlowMapLineSelector-0.0.0-dataease.js";import He from"./FlowMapPointSelector-0.0.0-dataease.js";import{s as Pe}from"./snapshot-0.0.0-dataease.js";import{_ as Ue}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import"./el-slider-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./index-0.0.0-dataease17.js";import"./index-0.0.0-dataease3.js";import"./el-tooltip-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-checkbox-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-select-0.0.0-dataease.js";import"./index-0.0.0-dataease16.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./el-radio-group-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import"./el-col-0.0.0-dataease.js";import"./el-form-item-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./chart-0.0.0-dataease.js";import"./formatter-0.0.0-dataease.js";import"./attr-0.0.0-dataease20.js";import"./field-list-0.0.0-dataease.js";import"./el-divider-0.0.0-dataease.js";import"./el-radio-button-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./el-space-0.0.0-dataease.js";import"./StringUtils-0.0.0-dataease.js";import"./index-0.0.0-dataease19.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./index-0.0.0-dataease20.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./el-tabs-0.0.0-dataease.js";import"./DualYAxisSelectorInner-0.0.0-dataease.js";import"./el-dialog-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./icon_letter-spacing_outlined-0.0.0-dataease.js";import"./icon_italic_outlined-0.0.0-dataease.js";import"./icon_right-alignment_outlined-0.0.0-dataease.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./icon_bottom-align_outlined-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./dataset-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";import"./index-0.0.0-dataease13.js";import"./CustomColorStyleSelect-0.0.0-dataease.js";import"./icon_admin_outlined-0.0.0-dataease.js";import"./el-popover-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./GradientColorSelector-0.0.0-dataease.js";import"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./imgUtils-0.0.0-dataease.js";import"./canvasUtils-0.0.0-dataease.js";import"./eventBus-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease.js";import"./ModelUtil-0.0.0-dataease.js";import"./board-list-0.0.0-dataease.js";import"./ImgViewDialog-0.0.0-dataease.js";import"./TableHeaderGroupConfig-0.0.0-dataease.js";import"./index.esm-0.0.0-dataease.js";import"./CustomAggrEdit-0.0.0-dataease.js";import"./icon_search-outline_outlined-0.0.0-dataease.js";import"./icon_adjustment_outlined-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./CodeMirror-0.0.0-dataease.js";const Ye={class:"attr-style"},ze=ge({__name:"ChartStyle",props:{commonBackgroundPop:{type:Object,required:!1},commonBorderPop:{type:Object,required:!1},chart:{type:Object,required:!0},themes:{type:String,default:"dark"},dimensionData:{type:Array,required:!0},quotaData:{type:Array,required:!0},properties:{type:Array,required:!1,default:()=>[]},propertyInnerAll:{type:Object,required:!1,default:()=>({})},selectorSpec:{type:Object,required:!1,default:()=>({})},allFields:{type:Array,required:!0}},emits:["onColorChange","onMiscChange","onLabelChange","onTooltipChange","onChangeXAxisForm","onChangeYAxisForm","onChangeYAxisExtForm","onTextChange","onLegendChange","onBasicStyleChange","onBackgroundChange","onStyleAttrChange","onTableHeaderChange","onTableCellChange","onTableTotalChange","onChangeMiscStyleForm","onExtTooltipChange","onIndicatorChange","onIndicatorNameChange","onChangeQuadrantForm","onChangeFlowMapLineForm","onChangeFlowMapPointForm"],setup(z,{emit:D}){const T=Pe(),j=fe(),{dvInfo:Q,batchOptStatus:M,mobileInPc:F}=Ce(j),{t:u}=ie(),y={attrActiveNames:[],styleActiveNames:[],initReady:!0},S=z,{chart:o,themes:a,properties:X,propertyInnerAll:p,commonBackgroundPop:O,commonBorderPop:A,selectorSpec:k}=be(S),d=D,q=U(),B=U(),$=Se(()=>!M.value&&Q.value.type!=="dashboard"),h=r=>{var t;return(t=X.value)==null?void 0:t.includes(r)},w=(r,t)=>{d("onMiscChange",r,t)},R=(r,t)=>{y.initReady&&d("onLabelChange",r,t)},N=(r,t)=>{y.initReady&&d("onTooltipChange",r,t)},_=(r,t)=>{y.initReady&&d("onChangeXAxisForm",r,t)},v=(r,t)=>{t==="show"&&o.value.type.includes("chart-mix")&&(o.value.customStyle.yAxisExt.show=r.show,I(o.value.customStyle.yAxisExt,"show")),y.initReady&&d("onChangeYAxisForm",r,t)},I=(r,t)=>{y.initReady&&d("onChangeYAxisExtForm",r,t)},L=(r,t)=>{y.initReady&&d("onTextChange",r,t)},W=(r,t)=>{var f;const x={indicatorValue:r,indicatorName:void 0};(t==="color"||t==="suffixColor")&&(x.indicatorName=(f=B.value)==null?void 0:f.getFormData()),y.initReady&&d("onIndicatorChange",x,t)},E=(r,t)=>{var f;const x={indicatorName:r,indicatorValue:void 0};t==="color"&&(x.indicatorValue=(f=q.value)==null?void 0:f.getFormData()),y.initReady&&d("onIndicatorNameChange",x,t)},H=(r,t)=>{y.initReady&&d("onLegendChange",r,t)},V=(r,t)=>{y.initReady&&d("onBasicStyleChange",r,t)},G=(r,t)=>{T.recordSnapshotCache("onBackgroundChange"),y.initReady&&d("onBackgroundChange",r,t)},J=r=>{T.recordSnapshotCache("onActiveChange"),y.initReady&&d("onStyleAttrChange",{custom:"style",property:"active",value:A.value.borderActive})},K=({key:r,value:t})=>{y.initReady&&d("onStyleAttrChange",{custom:"style",property:r,value:t})},P=(r,t)=>{d("onTableHeaderChange",r,t)},Z=(r,t)=>{d("onTableCellChange",r,t)},ee=(r,t)=>{d("onTableTotalChange",r,t)},te=(r,t)=>{d("onChangeMiscStyleForm",r,t)},oe=r=>{d("onExtTooltipChange",r)},re=r=>{d("onChangeQuadrantForm",r)},ae=(r,t)=>{d("onChangeFlowMapLineForm",r,t)},le=r=>{d("onChangeFlowMapPointForm",r)};return xe(()=>S.chart.id,()=>{y.initReady=!1,ve(()=>{y.initReady=!0})},{deep:!0}),(r,t)=>{const x=ne;return s(),m(x,{class:we(["view-panel","style-"+e(a)])},{default:n(()=>[Ae("div",Ye,[i(x,{class:"de-collapse-style"},{default:n(()=>[i(e(Y),{modelValue:y.attrActiveNames,"onUpdate:modelValue":t[14]||(t[14]=f=>y.attrActiveNames=f),class:"style-collapse"},{default:n(()=>{var f;return[$.value?(s(),m(e(g),{key:0,effect:e(a),name:"position",title:e(u)("visualization.position")},{default:n(()=>[i(Te,{themes:e(a)},null,8,["themes"])]),_:1},8,["effect","title"])):c("",!0),h("basic-style-selector")?(s(),m(e(g),{key:1,effect:e(a),name:"basicStyle",title:e(u)("chart.basic_style")},{default:n(()=>[i(Ve,{"property-inner":e(p)["basic-style-selector"],themes:e(a),chart:e(o),onOnBasicStyleChange:V,onOnMiscChange:w},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("dual-basic-style-selector")?(s(),m(e(g),{key:2,effect:e(a),name:"basicStyle",title:e(u)("chart.basic_style")},{default:n(()=>[i(ke,{"property-inner":e(p)["dual-basic-style-selector"],themes:e(a),chart:e(o),onOnBasicStyleChange:V,onOnMiscChange:w},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("title-selector")?(s(),m(b,{key:3,themes:e(a),modelValue:e(o).customStyle.text.show,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).customStyle.text.show=l),"change-model":e(o).customStyle.text,onModelChange:t[1]||(t[1]=l=>L(l,"show")),name:"title",title:r.$t("chart.title")},{default:n(()=>[i(ue,{"property-inner":e(p)["title-selector"],themes:e(a),class:"attr-selector",chart:e(o),onOnTextChange:L},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("legend-selector")?(s(),m(b,{key:4,themes:e(a),modelValue:e(o).customStyle.legend.show,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).customStyle.legend.show=l),"change-model":e(o).customStyle.legend,onModelChange:t[3]||(t[3]=l=>H(l,"show")),name:"legend",title:r.$t("chart.legend")},{default:n(()=>[i(ye,{class:"attr-selector","property-inner":e(p)["legend-selector"],themes:e(a),chart:e(o),onOnLegendChange:H,onOnMiscChange:w},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("background-overall-component")&&e(O)?(s(),m(e(g),{key:5,effect:e(a),name:"background",title:e(u)("visualization.background")},{default:n(()=>[i(Oe,{"common-background-pop":e(O),themes:e(a),onOnBackgroundChange:G,"component-position":"component"},null,8,["common-background-pop","themes"])]),_:1},8,["effect","title"])):c("",!0),h("border-style")&&e(A)&&!e(M)?(s(),m(b,{key:6,modelValue:e(A).borderActive,"onUpdate:modelValue":t[4]||(t[4]=l=>e(A).borderActive=l),onModelChange:t[5]||(t[5]=l=>J(l)),themes:e(a),title:e(u)("visualization.board"),name:"borderSetting",class:"common-style-area"},{default:n(()=>[i(Me,{"style-info":e(A),themes:e(a),onOnStyleAttrChange:K},null,8,["style-info","themes"])]),_:1},8,["modelValue","themes","title"])):c("",!0),h("symbolic-style-selector")?(s(),m(e(g),{key:7,effect:e(a),name:"symbolicStyle",title:e(u)("chart.symbolic")},{default:n(()=>[i(Fe,{"property-inner":e(p)["symbolic-style-selector"],themes:e(a),chart:e(o),onOnBasicStyleChange:V,onOnMiscChange:w},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("indicator-value-selector")?(s(),m(e(g),{key:8,effect:e(a),name:"indicator-value",title:e(u)("chart.indicator_value")},{default:n(()=>[i(_e,{ref_key:"indicatorValueRef",ref:q,"property-inner":e(p)["indicator-value-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":S.quotaData,onOnIndicatorChange:W},null,8,["property-inner","themes","chart","quota-fields"])]),_:1},8,["effect","title"])):c("",!0),h("indicator-name-selector")?(s(),m(b,{key:9,themes:e(a),modelValue:e(o).customAttr.indicatorName.show,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).customAttr.indicatorName.show=l),"change-model":e(o).customAttr.indicatorName,onModelChange:t[7]||(t[7]=l=>E(l,"show")),title:e(u)("visualization.indicator_name"),name:"indicator-name"},{default:n(()=>[i(Ie,{ref_key:"indicatorNameRef",ref:B,"property-inner":e(p)["indicator-name-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":S.quotaData,onOnIndicatorNameChange:E},null,8,["property-inner","themes","chart","quota-fields"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("misc-selector")&&!e(o).type.includes("mix")?(s(),m(e(g),{key:10,effect:e(a),name:"size",title:e(u)("visualization.component_size")},{default:n(()=>[i(se,{"property-inner":e(p)["misc-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":S.quotaData,"mobile-in-pc":e(F),onOnMiscChange:w},null,8,["property-inner","themes","chart","quota-fields","mobile-in-pc"])]),_:1},8,["effect","title"])):c("",!0),h("misc-style-selector")?(s(),m(e(g),{key:11,effect:e(a),name:"size",title:((f=e(k)["misc-style-selector"])==null?void 0:f.title)||e(u)("chart.tooltip_axis")},{default:n(()=>[i(Ne,{"property-inner":e(p)["misc-style-selector"],themes:e(a),class:"attr-selector",chart:e(o),"quota-fields":S.quotaData,onOnChangeMiscStyleForm:te},null,8,["property-inner","themes","chart","quota-fields"])]),_:1},8,["effect","title"])):c("",!0),h("label-selector")?(s(),m(b,{key:12,themes:e(a),modelValue:e(o).customAttr.label.show,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).customAttr.label.show=l),"change-model":e(o).customAttr.label,onModelChange:t[9]||(t[9]=l=>R({data:l},"show")),title:e(u)("chart.label"),name:"label"},{default:n(()=>[i(me,{"property-inner":e(p)["label-selector"],themes:e(a),class:"attr-selector",chart:e(o),"all-fields":S.allFields,onOnLabelChange:R},null,8,["property-inner","themes","chart","all-fields"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("tooltip-selector")&&(!e(F)||e(F)&&e(o).type.indexOf("table")===-1)?(s(),m(b,{key:13,modelValue:e(o).customAttr.tooltip.show,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).customAttr.tooltip.show=l),themes:e(a),"change-model":e(o).customAttr.tooltip,title:e(u)("chart.tooltip"),"show-switch":e(p)["tooltip-selector"].includes("show"),name:"tooltip",onModelChange:t[11]||(t[11]=l=>N({data:l},"show"))},{default:n(()=>[i(ce,{class:"attr-selector","property-inner":e(p)["tooltip-selector"],themes:e(a),chart:e(o),"all-fields":S.allFields,onOnTooltipChange:N,onOnExtTooltipChange:oe},null,8,["property-inner","themes","chart","all-fields"])]),_:1},8,["modelValue","themes","change-model","title","show-switch"])):c("",!0),h("table-header-selector")?(s(),m(b,{key:14,modelValue:e(o).customAttr.tableHeader.showTableHeader,"onUpdate:modelValue":t[12]||(t[12]=l=>e(o).customAttr.tableHeader.showTableHeader=l),"change-model":e(o).customAttr.tableHeader,effect:e(a),title:e(u)("chart.table_header"),"show-switch":e(p)["table-header-selector"].includes("showTableHeader"),name:"tableHeader",onModelChange:t[13]||(t[13]=l=>P(l,"showTableHeader"))},{default:n(()=>[i(qe,{"property-inner":e(p)["table-header-selector"],themes:e(a),chart:e(o),onOnTableHeaderChange:P},null,8,["property-inner","themes","chart"])]),_:1},8,["modelValue","change-model","effect","title","show-switch"])):c("",!0),h("table-cell-selector")?(s(),m(e(g),{key:15,effect:e(a),name:"tableCell",title:e(u)("chart.table_cell")},{default:n(()=>[i(Be,{"property-inner":e(p)["table-cell-selector"],themes:e(a),chart:e(o),onOnTableCellChange:Z},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("table-total-selector")?(s(),m(e(g),{key:16,effect:e(a),name:"tableTotal",title:e(u)("chart.table_total")},{default:n(()=>[i(Re,{"property-inner":e(p)["table-total-selector"],themes:e(a),chart:e(o),onOnTableTotalChange:ee},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("quadrant-selector")?(s(),m(e(g),{key:17,effect:e(a),name:"quadrant",title:e(u)("chart.quadrant")},{default:n(()=>[i(Le,{class:"attr-selector","property-inner":e(p)["quadrant-selector"],themes:e(a),chart:e(o),onOnChangeQuadrantForm:re},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("flow-map-line-selector")?(s(),m(e(g),{key:18,effect:e(a),name:"flowMapLineSelector",title:e(u)("chart.line")},{default:n(()=>[i(Ee,{class:"attr-selector","property-inner":e(p)["flow-map-line-selector"],themes:e(a),chart:e(o),onOnChangeFlowMapLineForm:ae,onOnBasicStyleChange:V},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0),h("flow-map-point-selector")?(s(),m(e(g),{key:19,effect:e(a),name:"flowMapPointSelector",title:e(u)("visualization.component_annotation")},{default:n(()=>[i(He,{class:"attr-selector","property-inner":e(p)["flow-map-point-selector"],themes:e(a),chart:e(o),onOnChangeFlowMapPointForm:le},null,8,["property-inner","themes","chart"])]),_:1},8,["effect","title"])):c("",!0)]}),_:1},8,["modelValue"]),i(e(Y),{modelValue:y.styleActiveNames,"onUpdate:modelValue":t[21]||(t[21]=f=>y.styleActiveNames=f),class:"style-collapse"},{default:n(()=>{var f,l;return[h("x-axis-selector")?(s(),m(b,{key:0,themes:e(a),modelValue:e(o).customStyle.xAxis.show,"onUpdate:modelValue":t[15]||(t[15]=C=>e(o).customStyle.xAxis.show=C),"change-model":e(o).customStyle.xAxis,onModelChange:t[16]||(t[16]=C=>_(C,"show")),name:"xAxis",title:((f=e(k)["x-axis-selector"])==null?void 0:f.title)||e(u)("chart.xAxis")},{default:n(()=>[i(pe,{class:"attr-selector","property-inner":e(p)["x-axis-selector"],themes:e(a),chart:e(o),onOnChangeXAxisForm:_},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("y-axis-selector")?(s(),m(b,{key:1,themes:e(a),modelValue:e(o).customStyle.yAxis.show,"onUpdate:modelValue":t[17]||(t[17]=C=>e(o).customStyle.yAxis.show=C),"change-model":e(o).customStyle.yAxis,onModelChange:t[18]||(t[18]=C=>v(C,"show")),name:"yAxis",title:e(u)("chart.yAxis")},{default:n(()=>[i(de,{class:"attr-selector","property-inner":e(p)["y-axis-selector"],themes:e(a),chart:e(o),onOnChangeYAxisForm:v},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0),h("dual-y-axis-selector")?(s(),m(b,{key:2,themes:e(a),modelValue:e(o).customStyle.yAxis.show,"onUpdate:modelValue":t[19]||(t[19]=C=>e(o).customStyle.yAxis.show=C),"change-model":e(o).customStyle.yAxis,onModelChange:t[20]||(t[20]=C=>v(C,"show")),name:"yAxis",title:((l=e(k)["dual-y-axis-selector"])==null?void 0:l.title)??e(u)("chart.yAxis")},{default:n(()=>[i(he,{class:"attr-selector","property-inner":e(p)["dual-y-axis-selector"],themes:e(a),chart:e(o),onOnChangeYAxisForm:v,onOnChangeYAxisExtForm:I},null,8,["property-inner","themes","chart"])]),_:1},8,["themes","modelValue","change-model","title"])):c("",!0)]}),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["class"])}}});const Ko=Ue(ze,[["__scopeId","data-v-601af61c"]]);export{Ko as default};

import{a as ut,b as pt,u as le}from"./index-0.0.0-dataease.js";import"./el-footer-0.0.0-dataease.js";import"./el-aside-0.0.0-dataease.js";import"./el-main-0.0.0-dataease.js";import{f as l,L as x,M as a,d as ee,t as $e,k as e,j as t,ah as Ce,r as T,Z as ue,G as W,o as be,a as Et,Y as Q,a6 as L,g as H,i as o,a0 as z,T as ce,ai as $t,z as Lt,af as Mt,n as de,U,a5 as O,e as Ke,ab as Bt,w as Tt,aa as ot,W as Pe,a9 as he,V as rt,aj as Ht,m as jt}from"./vue-0.0.0-dataease.js";import{d as pe}from"./dvMain-0.0.0-dataease.js";import{_ as At,i as mt,j as zt,D as Ot,h as Ut}from"./DePreview-0.0.0-dataease.js";import{D as Ft,_ as Se,b as Pt,c as Zt,i as Rt,d as Nt,U as Wt,e as Gt,Q as qt,f as Jt,T as Qt,g as Xt,M as Yt,h as Kt,j as eo,k as to,l as Ee,O as oo,C as no,a as ao,S as io,m as lo,n as Fe}from"./CanvasCacheDialog.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{a as so,D as K,F as et,P as ge,j as oe,y as Ze,o as me,n as J,v as tt,G as ro,C as co,u as uo,r as _e}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import po from"./MobileConfigPanel-0.0.0-dataease.js";import{useAppStoreWithOut as ft}from"./app-0.0.0-dataease.js";import{E as mo,a as fo,b as vo}from"./el-dropdown-menu-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-dropdown-item-0.0.0-dataease.js";import{E as nt}from"./el-col-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{d as _o,a as ho}from"./MultiplexPreviewShow-0.0.0-dataease.js";import{i as go}from"./chart-list-0.0.0-dataease.js";import{i as Co}from"./icon_copy_filled-0.0.0-dataease.js";import{i as bo}from"./icon_left_outlined-0.0.0-dataease.js";import{i as yo}from"./PreviewHead.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{e as q}from"./eventBus-0.0.0-dataease.js";import{s as Ie}from"./snapshot-0.0.0-dataease.js";import wo from"./MultiplexingCanvas-0.0.0-dataease.js";import{c as So,a as ko,b as xo,j as Io,k as Do,q as Vo,d as Xe,i as vt,f as Eo,o as $o}from"./canvasUtils-0.0.0-dataease.js";import{d as Lo}from"./DeShortcutKey-0.0.0-dataease.js";import Mo from"./DeResourceGroupOpt-0.0.0-dataease.js";import{_ as ne}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import Bo from"./DeAppApply-0.0.0-dataease.js";import{E as xe}from"./index-0.0.0-dataease3.js";import To from"./index-0.0.0-dataease24.js";import{g as Ho}from"./dataset-0.0.0-dataease.js";import{E as Re}from"./el-row-0.0.0-dataease.js";import{E as _t,a as jo}from"./el-collapse-item-0.0.0-dataease.js";import{a as ht,D as Ao}from"./chart-0.0.0-dataease.js";import{i as gt,b as zo,u as ct}from"./imgUtils-0.0.0-dataease.js";import{c as Ct,d as Oo}from"./canvasStyle-0.0.0-dataease.js";import{a as Uo,d as Fo,s as Po}from"./dataVisualization-0.0.0-dataease.js";import{g as Zo}from"./util-0.0.0-dataease.js";import{E as Ro}from"./el-dialog-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{a as at,E as bt}from"./el-form-item-0.0.0-dataease.js";import{E as No}from"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import Wo from"./ImgViewDialog-0.0.0-dataease.js";import{E as Go}from"./el-space-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as qo,a as Jo}from"./el-select-0.0.0-dataease.js";import{E as yt}from"./el-radio-button-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./el-radio-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{i as Qo,a as Xo}from"./icon_italic_outlined-0.0.0-dataease.js";import{i as Yo,a as Ko,b as en}from"./icon_right-alignment_outlined-0.0.0-dataease.js";import{E as tn}from"./el-divider-0.0.0-dataease.js";import{i as on,a as nn,b as an}from"./LegendSelector-0.0.0-dataease.js";import{d as wt,m as ln}from"./lodash-0.0.0-dataease.js";import{B as sn}from"./BackgroundOverallCommon-0.0.0-dataease.js";import rn from"./ChartStyleBatchSet-0.0.0-dataease.js";import{c as cn,a as dt}from"./CrossPermission-0.0.0-dataease.js";import{i as dn}from"./interactive-0.0.0-dataease.js";import{w as un}from"./watermark-0.0.0-dataease.js";import{g as pn}from"./base64-0.0.0-dataease.js";import{E as mn}from"./EmptyBackground-0.0.0-dataease.js";import{c as fn}from"./index-0.0.0-dataease14.js";import"./dataVisualization-0.0.0-dataease2.js";import"./index-0.0.0-dataease19.js";import"./library-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease2.js";import"./formatter-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./index-0.0.0-dataease20.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./Component-0.0.0-dataease16.js";import"./Component-0.0.0-dataease15.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./el-popover-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./el-tree-0.0.0-dataease.js";import"./index-0.0.0-dataease13.js";import"./el-checkbox-0.0.0-dataease.js";import"./el-tree-select-0.0.0-dataease.js";import"./el-checkbox-group-0.0.0-dataease.js";import"./el-tabs-0.0.0-dataease.js";import"./strings-0.0.0-dataease.js";import"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./icon_more_outlined-0.0.0-dataease.js";import"./more_v-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./icon_drag_outlined-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_warning_filled-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./vuedraggable-es-0.0.0-dataease.js";import"./time-format-0.0.0-dataease.js";import"./dayjs.min-0.0.0-dataease.js";import"./time-format-dayjs-0.0.0-dataease.js";import"./attr-0.0.0-dataease20.js";import"./el-time-picker-0.0.0-dataease.js";import"./el-date-picker-0.0.0-dataease.js";import"./arrays-0.0.0-dataease.js";import"./index-0.0.0-dataease17.js";import"./index-0.0.0-dataease4.js";import"./icon_admin_outlined-0.0.0-dataease.js";import"./index-0.0.0-dataease25.js";import"./index-0.0.0-dataease26.js";import"./use-route-0.0.0-dataease.js";import"./index-0.0.0-dataease27.js";import"./index-0.0.0-dataease28.js";import"./index-0.0.0-dataease29.js";import"./index-0.0.0-dataease30.js";import"./el-virtual-list-0.0.0-dataease.js";import"./el-select-v2-0.0.0-dataease.js";import"./index-0.0.0-dataease16.js";import"./fixed-size-list-0.0.0-dataease.js";import"./browser-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./Attr-0.0.0-dataease19.js";import"./CommonAttr-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CollapseSwitchItem-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";import"./icon_replace_outlined-0.0.0-dataease.js";import"./icon_download_outlined-0.0.0-dataease.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./watermark-0.0.0-dataease2.js";import"./user-0.0.0-dataease.js";import"./ChartComponentS2-0.0.0-dataease.js";import"./ViewTrackBar-0.0.0-dataease.js";import"./el-pagination-0.0.0-dataease.js";import"./ChartError-0.0.0-dataease.js";import"./LinkageSet-0.0.0-dataease.js";import"./dv-link-target-0.0.0-dataease.js";import"./dv-dashboard-spine-0.0.0-dataease.js";import"./dv-screen-spine-0.0.0-dataease.js";import"./CodeMirror-0.0.0-dataease.js";import"./dv-empty-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease14.js";import"./index-0.0.0-dataease31.js";import"./ChartComponentG2Plot-0.0.0-dataease.js";import"./PluginComponent.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./DrillPath-0.0.0-dataease.js";import"./DeRichTextView-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./Component-0.0.0-dataease10.js";import"./ChartEmptyInfo-0.0.0-dataease.js";import"./chart-dark-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease11.js";import"./Attr-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease.js";import"./Component-0.0.0-dataease3.js";import"./board-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease7.js";import"./Component-0.0.0-dataease5.js";import"./Attr-0.0.0-dataease5.js";import"./Component-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Component-0.0.0-dataease12.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease3.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease8.js";import"./Component-0.0.0-dataease9.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease5.js";import"./Component-0.0.0-dataease8.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease6.js";import"./Component-0.0.0-dataease6.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease7.js";import"./Component-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease16.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease8.js";import"./Attr-0.0.0-dataease12.js";import"./DatasetSelect-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./Threshold-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./LineThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";import"./Component-0.0.0-dataease2.js";import"./ModelUtil-0.0.0-dataease.js";import"./el-slider-0.0.0-dataease.js";import"./CustomColorStyleSelect-0.0.0-dataease.js";import"./GradientColorSelector-0.0.0-dataease.js";import"./icon_rename_outlined-0.0.0-dataease.js";import"./icon_more-vertical_outlined-0.0.0-dataease.js";import"./outerParams-0.0.0-dataease.js";import"./dv-info-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./icon_pc_outlined-0.0.0-dataease.js";import"./MobileBackgroundSelector-0.0.0-dataease.js";import"./ComponentStyleEditor-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./visual-star-0.0.0-dataease.js";import"./DvDetailInfo-0.0.0-dataease.js";import"./ShareVisualHead-0.0.0-dataease.js";import"./share-0.0.0-dataease.js";import"./icon_close_outlined-0.0.0-dataease.js";import"./de-copy-0.0.0-dataease.js";import"./icon_refresh_outlined-0.0.0-dataease.js";import"./ShareTicket-0.0.0-dataease.js";import"./el-table-column-0.0.0-dataease.js";import"./index-0.0.0-dataease18.js";import"./GridTable-0.0.0-dataease.js";import"./TicketEdit-0.0.0-dataease.js";import"./el-drawer-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./CustomLinkPwd-0.0.0-dataease.js";import"./TicketDialog-0.0.0-dataease.js";import"./DashboardPreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./DeResourceTree-0.0.0-dataease.js";import"./dv-dashboard-spine-mobile-0.0.0-dataease.js";import"./dv-rename-0.0.0-dataease.js";import"./icon_file-add_outlined-0.0.0-dataease.js";import"./icon_search-outline_outlined-0.0.0-dataease.js";import"./dv-sort-desc-0.0.0-dataease.js";import"./icon_operation-analysis_outlined-0.0.0-dataease.js";import"./ShareHandler-0.0.0-dataease.js";import"./DeResourceCreateOptV2.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./index-0.0.0-dataease21.js";import"./templateMarket-0.0.0-dataease.js";import"./MarketPreviewV2-0.0.0-dataease.js";import"./icon-filter-0.0.0-dataease.js";import"./TemplateMarketPreviewItem-0.0.0-dataease.js";import"./CategoryTemplateV2-0.0.0-dataease.js";import"./TemplateMarketV2Item-0.0.0-dataease.js";import"./TemplateSkeleton-0.0.0-dataease.js";import"./DeResourceArrow-0.0.0-dataease.js";import"./icon_right_outlined-0.0.0-dataease.js";import"./useMoveLine-0.0.0-dataease.js";import"./AppExportForm-0.0.0-dataease.js";import"./PreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./DvPreview.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./nothing-tree-0.0.0-dataease.js";import"./icon_down_outlined-1-0.0.0-dataease.js";import"./icon_copy_outlined-0.0.0-dataease.js";import"./DimensionItem-0.0.0-dataease.js";import"./icon_sort_outlined-0.0.0-dataease.js";import"./icon_invisible_outlined-0.0.0-dataease.js";import"./utils-0.0.0-dataease.js";import"./QuotaItem-0.0.0-dataease.js";import"./DragPlaceholder-0.0.0-dataease.js";import"./FilterTree.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./RowAuth-0.0.0-dataease.js";import"./AuthTree-0.0.0-dataease.js";import"./FilterFiled-0.0.0-dataease.js";import"./TimeDialog-0.0.0-dataease.js";import"./options-0.0.0-dataease.js";import"./icon_down_outlined-0.0.0-dataease.js";import"./ChartStyle-0.0.0-dataease.js";import"./MiscSelector-0.0.0-dataease.js";import"./LabelSelector-0.0.0-dataease.js";import"./StringUtils-0.0.0-dataease.js";import"./TooltipSelector-0.0.0-dataease.js";import"./XAxisSelector-0.0.0-dataease.js";import"./YAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelectorInner-0.0.0-dataease.js";import"./TitleSelector-0.0.0-dataease.js";import"./icon_letter-spacing_outlined-0.0.0-dataease.js";import"./BasicStyleSelector-0.0.0-dataease.js";import"./SymbolicStyleSelector-0.0.0-dataease.js";import"./DualBasicStyleSelector-0.0.0-dataease.js";import"./TableHeaderSelector-0.0.0-dataease.js";import"./TableHeaderGroupConfig-0.0.0-dataease.js";import"./index.esm-0.0.0-dataease.js";import"./TableCellSelector-0.0.0-dataease.js";import"./TableTotalSelector-0.0.0-dataease.js";import"./CustomAggrEdit-0.0.0-dataease.js";import"./icon_adjustment_outlined-0.0.0-dataease.js";import"./MiscStyleSelector-0.0.0-dataease.js";import"./IndicatorValueSelector-0.0.0-dataease.js";import"./icon_bottom-align_outlined-0.0.0-dataease.js";import"./IndicatorNameSelector-0.0.0-dataease.js";import"./QuadrantSelector-0.0.0-dataease.js";import"./FlowMapLineSelector-0.0.0-dataease.js";import"./FlowMapPointSelector-0.0.0-dataease.js";import"./VQueryChartStyle-0.0.0-dataease.js";import"./Senior-0.0.0-dataease.js";import"./FunctionCfg-0.0.0-dataease.js";import"./ScrollCfg-0.0.0-dataease.js";import"./AssistLine-0.0.0-dataease.js";import"./AssistLineEdit-0.0.0-dataease.js";import"./MapMapping-0.0.0-dataease.js";import"./BubbleAnimateCfg-0.0.0-dataease.js";import"./QuotaFilterEditor-0.0.0-dataease.js";import"./ResultFilterEditor-0.0.0-dataease.js";import"./DrillItem-0.0.0-dataease.js";import"./ChartType-0.0.0-dataease.js";import"./CompareEdit-0.0.0-dataease.js";import"./ValueFormatterEdit-0.0.0-dataease.js";import"./CustomSortEdit-0.0.0-dataease.js";import"./SortPriorityEdit-0.0.0-dataease.js";import"./CalcFieldEdit-0.0.0-dataease.js";import"./ChartTemplateInfo-0.0.0-dataease.js";import"./field-calculated-list-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./datasource-0.0.0-dataease.js";import"./el-empty-0.0.0-dataease.js";import"./none-0.0.0-dataease.js";const vn={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function _n(j,i){return l(),x("svg",vn,i[0]||(i[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.6667 2.08398H17.0834C17.5436 2.08398 17.9167 2.45708 17.9167 2.91732V8.33398C17.9167 8.79422 17.5436 9.16732 17.0834 9.16732H11.6667C11.2065 9.16732 10.8334 8.79422 10.8334 8.33398V2.91732C10.8334 2.45708 11.2065 2.08398 11.6667 2.08398ZM12.5001 7.50065H16.2501V3.75065H12.5001V7.50065ZM2.91674 10.834H8.33341C8.79364 10.834 9.16674 11.2071 9.16674 11.6673V17.084C9.16674 17.5442 8.79364 17.9173 8.33341 17.9173H2.91674C2.4565 17.9173 2.08341 17.5442 2.08341 17.084V11.6673C2.08341 11.2071 2.4565 10.834 2.91674 10.834ZM3.75007 16.2507H7.50007V12.5007H3.75007V16.2507ZM17.0834 10.834H11.6667C11.2065 10.834 10.8334 11.2071 10.8334 11.6673V17.084C10.8334 17.5442 11.2065 17.9173 11.6667 17.9173H17.0834C17.5436 17.9173 17.9167 17.5442 17.9167 17.084V11.6673C17.9167 11.2071 17.5436 10.834 17.0834 10.834ZM12.5001 16.2507V12.5007H16.2501V16.2507H12.5001ZM2.09567 5.8636C1.93295 5.70088 1.93295 5.43706 2.09567 5.27434L2.68493 4.68508C2.84765 4.52237 3.11146 4.52237 3.27418 4.68508L4.74732 6.15822L7.98823 2.91732C8.15095 2.7546 8.41477 2.7546 8.57748 2.91732L9.16674 3.50657C9.32946 3.66929 9.32946 3.93311 9.16674 4.09583L5.10088 8.16169C4.90561 8.35696 4.58903 8.35696 4.39377 8.16169L2.09567 5.8636Z",fill:"white","fill-opacity":"0.6"},null,-1)]))}const hn={render:_n},gn={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Cn(j,i){return l(),x("svg",gn,i[0]||(i[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.17657 10.4785L9.174 10.4816L8.62618 11.1344C8.32264 11.4962 8.30723 11.9378 8.30784 12.1448C8.3082 12.2683 8.31704 12.3875 8.32329 12.4716C8.33061 12.5701 8.33378 12.6159 8.33378 12.6484C8.33383 13.4649 9.10394 14.0621 9.89478 13.859L10.5216 13.698C10.8369 13.617 11.0443 13.4284 11.1599 13.3046C11.219 13.2415 11.2683 13.1794 11.3013 13.1374L11.332 13.0981C11.3503 13.0746 11.3606 13.0614 11.373 13.0467L17.7441 5.45382C17.8648 5.59853 17.9804 5.74754 18.0907 5.90069C18.3024 6.161 18.4971 6.43158 18.6744 6.71176C19.1869 7.51954 19.5332 8.38333 19.7047 9.27787L19.7608 9.61472L19.8024 9.97542L19.8068 10.1754L19.8019 10.3577C19.7208 11.863 18.6414 13.0679 17.2958 13.1619L17.1262 13.1678H15.6529C15.1454 13.1703 14.6687 13.4406 14.3711 13.8943C14.1398 14.2487 14.0366 14.6805 14.0742 15.1056L14.0989 15.2872L14.1737 15.5781C14.3443 16.1879 14.2649 16.8533 13.9574 17.3931C13.7122 17.8236 13.3411 18.1404 12.9127 18.2951L12.7495 18.3454L12.1476 18.4686C11.7129 18.5493 11.2768 18.6057 10.8397 18.638L10.4022 18.6622L9.94788 18.6703C8.6298 18.6703 7.34847 18.4612 6.14512 18.0493C4.97677 17.6491 3.92507 17.0752 3.01631 16.3426C2.1002 15.6023 1.3785 14.7373 0.872027 13.7729C0.340156 12.7578 0.0703125 11.679 0.0703125 10.5664C0.0703125 9.45171 0.338847 8.36362 0.869922 7.32918C1.37691 6.34067 2.09677 5.45017 3.01015 4.68246C3.91985 3.91859 4.97114 3.31868 6.13895 2.89698C7.08916 2.558 8.0712 2.3483 9.06314 2.27184L9.4888 2.24724L9.93729 2.2384L9.95757 2.23438C10.7604 2.23506 11.5548 2.32059 12.3246 2.48573C13.3328 2.63875 14.2782 2.94404 15.1326 3.3804L9.17657 10.4785ZM9.99722 5.18537C10.6309 5.18537 11.1422 5.69878 11.1422 6.33034C11.1422 6.9619 10.6288 7.47531 9.99722 7.47531C9.36352 7.47531 8.85225 6.9619 8.85225 6.33034C8.85225 5.69878 9.36566 5.18537 9.99722 5.18537ZM5.62548 6.74669C6.25704 6.74669 6.77045 7.2601 6.77045 7.89166C6.77045 8.52322 6.25704 9.03663 5.62548 9.03663C4.99177 9.03663 4.48051 8.52322 4.48051 7.89166C4.48051 7.2601 4.99392 6.74669 5.62548 6.74669ZM5.72959 12.0552C5.72745 11.4236 5.21618 10.9102 4.58463 10.9102C3.95307 10.9102 3.43966 11.4236 3.43966 12.0552C3.43966 12.6867 3.95092 13.2001 4.58463 13.2001C5.21618 13.2001 5.72959 12.6867 5.72959 12.0552Z",fill:"white","fill-opacity":"0.6"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7341 12.5111C10.6156 12.6523 10.5034 12.8422 10.3137 12.8909L9.68691 13.0519C9.4233 13.1196 9.1666 12.9206 9.16658 12.6484C9.16656 12.3663 9.06493 11.9074 9.26402 11.6701L9.80935 11.0202L9.81191 11.0172L18.2318 0.982833C18.3797 0.806552 18.6425 0.783558 18.8188 0.931475L19.4571 1.46713C19.6334 1.61505 19.6564 1.87786 19.5085 2.05415L10.7341 12.5111Z",fill:"white","fill-opacity":"0.6"},null,-1)]))}const bn={render:Cn},yn={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function wn(j,i){return l(),x("svg",yn,i[0]||(i[0]=[a("path",{d:"M6.66666 3.66667H9.33332V5H6.66666V3.66667Z"},null,-1),a("path",{d:"M8.99999 11H6.99999V12.3333H8.99999V11Z"},null,-1),a("path",{d:"M3.33332 1C2.96513 1 2.66666 1.29848 2.66666 1.66667V14.3333C2.66666 14.7015 2.96513 15 3.33332 15H12.6667C13.0348 15 13.3333 14.7015 13.3333 14.3333V1.66667C13.3333 1.29848 13.0348 1 12.6667 1H3.33332ZM3.99999 2.33333H12V13.6667H3.99999V2.33333Z"},null,-1)]))}const Sn={render:wn},kn={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function xn(j,i){return l(),x("svg",kn,i[0]||(i[0]=[a("path",{d:"M14.3333 1.33398H1.66667C1.29848 1.33398 1 1.63246 1 2.00065V11.334C1 11.7022 1.29848 12.0007 1.66667 12.0007H14.3333C14.7015 12.0007 15 11.7022 15 11.334V2.00065C15 1.63246 14.7015 1.33398 14.3333 1.33398ZM2.33333 8.66732V2.66732H13.6667V8.66732H2.33333ZM2.33333 10.0007H13.6667V10.6673H2.33333V10.0007ZM4.66667 13.334H11.3333V14.6673H4.66667V13.334Z",fill:"#646A73"},null,-1)]))}const In={render:xn},Dn=ee({__name:"DbMoreComGroup",props:{dvModel:{type:String,default:"dv"},themes:{type:String,default:"dark"}},setup(j){const i=j,{dvModel:d}=$e(i),C=()=>{q.emit("handleNew",{componentName:"DeFrame",innerType:"DeFrame"})},k=b=>{So(b,d.value)},v=b=>{ko(b,d.value)};return(b,_)=>(l(),x("div",{class:"group",onDragstart:k,onDragend:v,onClick:C},[e(Ft,{themes:j.themes,icon:t(_o),label:b.$t("visualization.web"),"drag-info":"DeFrame&DeFrame"},null,8,["themes","icon","label"])],32))}});const Vn=ne(Dn,[["__scopeId","data-v-d0736e59"]]),En={class:"toolbar-main"},$n={class:"toolbar"},Ln={class:"left-area"},Mn={id:"canvas-name",class:"name-area",style:{height:"100%",padding:"10px"}},Bn={key:1,class:"left-area"},Tn={class:"opt-area"},Hn={key:2,class:"left-area"},jn={key:3,class:"middle-area"},An={key:2,class:"right-area"},zn={key:3,class:"right-area full-area"},On={key:4,class:"right-area full-area"},ke="dashboard",Un=ee({__name:"DbToolbar",props:{createType:{type:String,default:"create"}},setup(j){const{t:i}=me(),d=pe(),C=Ie(),k=Lo(),{styleChangeTimes:v,snapshotIndex:b}=Ce(C),_=T(null),{linkageSettingStatus:g,curLinkageView:y,componentData:n,dvInfo:m,canvasViewInfo:B,editMode:u,batchOptStatus:r,targetLinkageInfo:V,curBatchOptComponents:I,appData:w,hiddenListStatus:A}=Ce(d),$=T(null),f=T(null);let s=T(!1),c=T(""),D=T(null);const M=ue({preBatchComponentData:[],preBatchCanvasViewInfo:{}}),R=T(null),Z=T(null),{wsCache:N}=ut("localStorage"),ae=so(),Le=W(()=>Qe.getIsIframe),Ne=N.get("app.desktop");$e(j);const Me=()=>{s.value=!0,c.value=m.value.name,de(()=>{D.value.focus()})},Ve=()=>{if(s.value=!1,!(!c.value||!c.value.trim())&&c.value.trim()!==m.value.name){if(c.value.trim().length>64||c.value.trim().length<1){K.warning(i("components.length_1_64_characters")),Me();return}m.value.name=c.value,c.value=""}},Be=()=>{b.value>0&&(C.undo(),q.emit("matrix-canvasInit",!1))},Te=()=>{b.value!==C.snapshotData.length-1&&(C.redo(),q.emit("matrix-canvasInit",!1))},ye=()=>{f.value.toggleFullscreen()},We=()=>{if(!m.value.id){K.warning(i("components.current_page_first"));return}Xe(()=>{let h="#/preview?dvId="+m.value.id+"&ignoreParams=true";F.baseUrl&&(h=`${F.baseUrl}${h}`.replaceAll("//#","/#"));const p=window.open(h,"_blank");It(p)})},He=()=>{d.setEditMode("edit")},je=W(()=>{let h=[];return n.value.forEach(p=>{p.innerType==="VQuery"&&h.push(p),p.innerType==="DeTabs"&&p.propValue.forEach(G=>{h=[...G.componentData.filter(P=>P.innerType==="VQuery"),...h]})}),h}),Ge=h=>{h&&h.opt==="newLeaf"&&(m.value.dataState="ready",m.value.pid=h.pid,m.value.name=h.name,fe())},fe=()=>{if(ae.getOid&&N.get("user.oid")&&ae.getOid!==N.get("user.oid")){et.confirm(i("components.from_other_organizations"),{confirmButtonType:"primary",type:"warning",confirmButtonText:i("components.close_the_page"),cancelButtonText:i("common.cancel"),autofocus:!1,showClose:!1}).then(()=>{window.close()});return}if(m.value.dataState==="prepare")if(w.value){const h={base:{pid:"",name:m.value.name,datasetFolderPid:null,datasetFolderName:m.value.name},appData:w.value};de(()=>{_.value.init(h)})}else{const h={name:m.value.name,leaf:!0,id:m.value.pid||"0"};R.value.optInit("leaf",h,"newLeaf",!0);return}xo(()=>{qe()})},qe=()=>{if(N.delete("DE-DV-CATCH-"+m.value.id),v.value>0){d.matrixSizeAdaptor(),je.value.forEach(h=>{le().emitter.emit(`updateQueryCriteria${h.id}`)});try{Xe(()=>{C.resetStyleChangeTimes(),K.success(i("common.save_success"));let h=window.location.href;h=h.replace(/\?opt=create/,`?resourceId=${m.value.id}`),F.baseUrl||window.history.replaceState({path:h},"",h),w.value&&vt(m.value.id,"dashboard",()=>{le().emitter.emit("refresh-dataset-selector"),le().emitter.emit("calcData-all"),_.value.close(),d.setAppDataInfo(null),C.resetSnapshot()})})}catch(h){console.error(h)}}},S=()=>{d.setCurComponent({component:null,index:null}),d.setComponentData([]),C.recordSnapshotCache("renderChart")},E=()=>{let h="#/panel/index";m.value.id&&(h=h+"?dvId="+m.value.id),v.value>0?et.confirm(i("components.sure_to_exit"),{confirmButtonType:"primary",type:"warning",autofocus:!1,showClose:!1}).then(()=>{se(h)}):se(h)},F=pt(),se=h=>{if(xt.value){F.clearState(),le().emitter.emit("changeCurrentComponent","DashboardPanel");return}if(window["dataease-embedded-host"]&&(ie!=null&&ie.value)){const p={methodName:"embeddedInteractive",args:{eventName:"de-dashboard-editor-back",args:"Just a demo that descript dataease embedded interactive"}};ie.value.invokeMethod(p);return}N.delete("DE-DV-CATCH-"+m.value.id),N.set("db-info-id",m.value.id),history.state.back?history.back():window.open(h,"_self")},Ae=()=>{$.value.dialogInit()};be(()=>{q.on("preview",ye),q.on("save",fe),q.on("clearCanvas",S)}),Et(()=>{q.off("preview",ye),q.off("save",fe),q.off("clearCanvas",S),d.setAppDataInfo(null)});const it=()=>{d.setCurComponent({component:null,index:null}),d.setHiddenListStatus(!1)},ze=()=>{d.setHiddenListStatus()},X=()=>{if(!m.value.id||m.value.dataState==="prepare"){K.warning(i("components.current_page_first"));return}le().emitter.emit("mobileConfig")},re=()=>{ge(n.value).forEach(p=>{I.value.includes(p.id)&&q.emit("removeMatrixItemById-"+p.canvasId,p.id),p.component==="DeTabs"&&p.propValue.forEach(G=>{G.componentData.forEach(P=>{I.value.includes(P.id)&&q.emit("removeMatrixItemById-"+P.canvasId,P.id)})})}),de(()=>{we()})},Oe=()=>{const h={};n.value.forEach(p=>{I.value.includes(p.id)&&(h[p.id]=p),p.component==="DeTabs"&&p.propValue.forEach(G=>{G.componentData.forEach(P=>{I.value.includes(P.id)&&(h[P.id]=P)})})}),k.copyMultiplexingComponents(B.value,h,!0,"batchOpt"),we()},ve=h=>{h?(M.preBatchComponentData=ge(n.value),M.preBatchCanvasViewInfo=ge(B.value)):(M.preBatchComponentData=[],M.preBatchCanvasViewInfo={}),d.setHiddenListStatus(!1),d.setBatchOptStatus(h)},Je=()=>{if(n.value.length===0){K.warning(i("components.add_components_first"));return}if(!m.value.id){K.warning(i("components.current_page_first"));return}Xe(()=>{Z.value.optInit()})},we=()=>{ve(!1)},lt=()=>{d.clearLinkageSettingInfo()},St=()=>{for(const p in V.value){let G=0;const P=V.value[p],Ue=P.linkageFields;if(Ue&&Ue.forEach(function(Y){Y.sourceField&&Y.targetField||G++}),G>0){K.error(i("visualization.datalist")+"【"+P.targetViewName+"】"+i("visualization.exit_un_march_linkage_field"));return}}const h={dvId:m.value.id,sourceViewId:y.value.id,linkageInfo:V.value};Io(h).then(()=>{K.success(i("save_success.common")),Do(m.value.id).then(p=>{d.setNowPanelTrackInfo(p.data)}),lt(),Vo(m.value.id).then(p=>{d.setNowPanelJumpInfo(p.data)})})},kt=()=>{C.recordSnapshotCache("onDvNameChange")},Qe=ft(),xt=W(()=>Qe.getIsDataEaseBi||Qe.getIsIframe),ie=T(null),It=h=>{if(ie!=null&&ie.value){const p={methodName:"initOpenHandler",args:h};ie.value.invokeMethod(p)}};return(h,p)=>{const G=oe,P=xe,Ue=nt,Y=Ze,st=fo,Dt=vo,Vt=mo;return l(),x(Q,null,[a("div",En,[a("div",$n,[t(u)==="preview"?(l(),x(Q,{key:0},[a("div",Ln,[a("span",Mn,L(t(m).name),1)]),p[9]||(p[9]=a("div",{class:"middle-area"},null,-1))],64)):(l(),x(Q,{key:1},[t(r)?z("",!0):(l(),H(G,{key:0,class:"custom-el-icon back-icon",onClick:p[0]||(p[0]=te=>E())},{default:o(()=>[e(J,{name:"icon_left_outlined"},{default:o(()=>[e(t(bo),{class:"svg-icon toolbar-icon"})]),_:1})]),_:1})),t(u)==="edit"&&!t(r)?(l(),x("div",Bn,[a("span",{id:"canvas-name",class:"name-area",onDblclick:Me},L(t(m).name),33),a("div",Tn,[e(P,{effect:"dark",content:h.$t("visualization.undo"),placement:"bottom"},{default:o(()=>[e(G,{class:U(["toolbar-hover-icon",{"toolbar-icon-disabled":t(b)<1}]),disabled:t(b)<1,onClick:p[1]||(p[1]=te=>Be())},{default:o(()=>[e(J,{name:"icon_undo_outlined"},{default:o(()=>[e(t(Rt),{class:"svg-icon"})]),_:1})]),_:1},8,["class","disabled"])]),_:1},8,["content"]),e(P,{effect:"dark",content:h.$t("commons.reduction"),placement:"bottom"},{default:o(()=>[e(G,{class:U(["toolbar-hover-icon opt-icon-redo",{"toolbar-icon-disabled":t(b)===t(C).snapshotData.length-1}]),onClick:p[2]||(p[2]=te=>Te())},{default:o(()=>[e(J,{name:"icon_redo_outlined"},{default:o(()=>[e(t(Nt),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["content"])])])):z("",!0),t(r)?(l(),x("div",Hn,[e(Ue,{class:"adapt-count"},{default:o(()=>[a("span",null,L(t(i)("user.selection_info",[t(I).length])),1)]),_:1})])):z("",!0),!t(r)&&!t(g)?(l(),x("div",jn,[e(Se,{"base-width":410,"show-split-line":!0,"is-label":"","icon-name":t(Gt),themes:"light",title:t(i)("chart.datalist")},{default:o(()=>[e(Wt,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{"base-width":115,"show-split-line":!0,"is-label":"",themes:"light","icon-name":t(Jt),title:t(i)("visualization.filter_component")},{default:o(()=>[e(qt,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{"is-label":"",themes:"light","base-width":115,"icon-name":t(Xt),title:t(i)("components.rich_text")},{default:o(()=>[e(Qt,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{"is-label":"",themes:"light",placement:"bottom","base-width":328,"icon-name":t(Kt),title:t(i)("components.media")},{default:o(()=>[e(Yt,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{themes:"light","is-label":"","base-width":115,"icon-name":t(ho),title:"Tab"},{default:o(()=>[e(eo,{themes:"light","dv-model":ke})]),_:1},8,["icon-name"]),e(Se,{themes:"light","show-split-line":"","is-label":"","base-width":115,"icon-name":t(to),title:t(i)("visualization.more")},{default:o(()=>[e(Vn,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Pt,{"icon-name":t(Co),title:t(i)("visualization.multiplexing"),"is-label":"",onCustomClick:Ae},null,8,["icon-name","title"])])):z("",!0)],64)),!t(r)&&!t(g)?(l(),x("div",An,[t(u)!=="preview"?(l(),x(Q,{key:0},[e(P,{effect:"dark",content:t(i)("visualization.outer_param_set"),placement:"bottom"},{default:o(()=>[e(Ee,{tips:t(i)("visualization.outer_param_set"),onCustomClick:Je,"icon-name":t(go)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(P,{effect:"dark",content:t(i)("visualization.batch_opt"),placement:"bottom"},{default:o(()=>[e(Ee,{tips:t(i)("visualization.batch_opt"),onCustomClick:p[3]||(p[3]=te=>ve(!0)),"icon-name":t(hn)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(P,{effect:"dark",content:t(i)("components.dashboard_configuration"),placement:"bottom"},{default:o(()=>[e(Ee,{tips:t(i)("components.dashboard_configuration"),onCustomClick:it,"icon-name":t(bn)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(P,{effect:"dark",content:t(i)("visualization.hidden_components"),placement:"bottom"},{default:o(()=>[e(Ee,{tips:t(i)("visualization.hidden_components"),onCustomClick:ze,"icon-name":t(mt)},null,8,["tips","icon-name"])]),_:1},8,["content"]),p[10]||(p[10]=a("div",{class:"divider"},null,-1)),t(Ne)?z("",!0):(l(),H(P,{key:0,offset:14,effect:"dark",content:t(i)("components.to_mobile_layout"),placement:"bottom"},{default:o(()=>[e(Ee,{tips:t(i)("components.to_mobile_layout"),onCustomClick:X,"icon-name":t(Sn)},null,8,["tips","icon-name"])]),_:1},8,["content"]))],64)):z("",!0),t(u)==="edit"?(l(),H(Vt,{key:1,trigger:"hover"},{dropdown:o(()=>[e(Dt,{class:"drop-style"},{default:o(()=>[Le.value?z("",!0):(l(),H(st,{key:0,onClick:ye},{default:o(()=>[e(G,{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[e(J,{name:"icon_pc_fullscreen"},{default:o(()=>[e(t(yo),{class:"svg-icon"})]),_:1})]),_:1}),O(" "+L(t(i)("visualization.fullscreen_preview")),1)]),_:1})),e(st,{onClick:p[4]||(p[4]=te=>We())},{default:o(()=>[e(G,{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[e(J,null,{default:o(()=>[e(t(In),{class:"svg-icon"})]),_:1})]),_:1}),O(" "+L(t(i)("work_branch.new_page_preview")),1)]),_:1})]),_:1})]),default:o(()=>[e(Y,{class:"preview-button",style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(L(t(i)("visualization.preview")),1)]),_:1})]),_:1})):z("",!0),t(u)==="preview"?(l(),H(Y,{key:2,class:"custom-normal-button",icon:"EditPen",onClick:p[5]||(p[5]=te=>He()),type:"primary"},{default:o(()=>[O(L(t(i)("data_set.edit")),1)]),_:1})):z("",!0),t(u)==="edit"||t(u)==="preview"?(l(),H(Y,{key:3,disabled:t(v)<1,onClick:p[6]||(p[6]=te=>fe()),style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O(L(t(i)("data_set.save")),1)]),_:1},8,["disabled"])):z("",!0)])):z("",!0),t(r)?(l(),x("div",zn,[e(Y,{text:"",icon:"CopyDocument",class:"custom-normal-button",onClick:Oe,disabled:t(I).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(L(t(i)("data_set.copy")),1)]),_:1},8,["disabled"]),e(Y,{text:"",icon:"Delete",class:"custom-normal-button",onClick:re,disabled:t(I).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(L(t(i)("data_set.delete")),1)]),_:1},8,["disabled"]),e(Y,{onClick:we,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O(L(t(i)("components.complete")),1)]),_:1})])):z("",!0),t(g)?(l(),x("div",On,[e(Y,{class:"custom-normal-button",onClick:p[7]||(p[7]=te=>lt()),style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(L(t(i)("userimport.cancel")),1)]),_:1}),e(Y,{onClick:St,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O(L(t(i)("userimport.sure")),1)]),_:1})])):z("",!0)]),t(s)?(l(),H(Mt,{key:0,to:"#canvas-name"},[ce(a("input",{onChange:kt,ref_key:"nameInput",ref:D,"onUpdate:modelValue":p[8]||(p[8]=te=>Lt(c)?c.value=te:c=te),onBlur:Ve},null,544),[[$t,t(c)]])])):z("",!0),e(wo,{ref_key:"multiplexingRef",ref:$},null,512),e(Mo,{onFinish:Ge,"cur-canvas-type":"dashboard",ref_key:"resourceGroupOpt",ref:R},null,512),e(Zt,{ref_key:"outerParamsSetRef",ref:Z},null,512)]),e(At,{"show-position":"edit",ref_key:"fullScreeRef",ref:f},null,512),e(t(tt),{ref_key:"openHandler",ref:ie,jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvT3BlbkhhbmRsZXI="},null,512),e(Bo,{ref_key:"resourceAppOpt",ref:_,"component-data":t(n),"dv-info":t(m),"canvas-view-info":t(B),"cur-canvas-type":"dashboard",onSaveAppCanvas:fe},null,8,["component-data","dv-info","canvas-view-info"])],64)}}});const Fn=ne(Un,[["__scopeId","data-v-6685d845"]]),Pn={t:"1690342810342",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2380","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function Zn(j,i){return l(),x("svg",Pn,i[0]||(i[0]=[a("path",{d:"M87 160h850c13.255 0 24 10.745 24 24v656c0 13.255-10.745 24-24 24H87c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24z",fill:"#C5C5C5","fill-opacity":".45","p-id":"2381","data-spm-anchor-id":"a313x.7781069.0.i1",class:"selected"},null,-1),a("path",{d:"M111 864l128.17-128.361c22.092-22.125 57.936-22.151 80.06-0.06 22.124 22.091 57.968 22.065 80.06-0.06l120.576-120.756c39.023-39.081 102.34-39.128 141.42-0.105L911 864H111z",fill:"#ABABAB","fill-opacity":".574","p-id":"2382","data-spm-anchor-id":"a313x.7781069.0.i0",class:"selected"},null,-1),a("path",{d:"M321 487m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#ABABAB","fill-opacity":".574","p-id":"2383"},null,-1),a("path",{d:"M71 160h882a8 8 0 0 1 8 8v104H63V168a8 8 0 0 1 8-8z",fill:"#ABABAB","fill-opacity":".5","p-id":"2384"},null,-1),a("path",{d:"M287 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2385"},null,-1),a("path",{d:"M207 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2386"},null,-1),a("path",{d:"M127 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2387"},null,-1)]))}const Rn={render:Zn},Nn=["src"],Wn={class:"title-main"},Gn={class:"title-area"},qn=["title"],Jn={key:0,class:"edit-area"},Qn=ee({__name:"SubjectTemplateItem",props:{subjectItem:{type:Object,required:!0}},emits:["subjectDelete","onSubjectChange","subjectEdit"],setup(j,{emit:i}){const d=pe(),C=Ie(),{canvasStyleData:k}=Ce(d),v=ue({defaultSubject:{},subjectItemDetails:null,canEdit:!1}),{t:b}=me(),_=j,{subjectItem:g}=$e(_),y=W(()=>v.subjectItemDetails&&v.subjectItemDetails.themeId===k.value.themeId),n=i,m=()=>{et.confirm(b("components.to_delete_",[g.value.name]),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{n("subjectDelete",g.value.id)})},B=()=>{n("subjectEdit")},u=()=>{y.value||(d.setCanvasStyle(JSON.parse(g.value.details)),C.recordSnapshotCache("renderChart"),Ct(),le().emitter.emit("onSubjectChange"))};return be(()=>{try{v.subjectItemDetails=JSON.parse(g.value.details)}catch{}}),(r,V)=>{const I=Ke("Delete"),w=oe,A=Ze,$=Ke("EditPen");return l(),x("div",{class:U([{"background-selected":y.value},"subject-template"])},[a("div",null,[a("div",{class:"vertical-layout",onClick:Bt(u,["stop"])},[t(g).coverUrl?(l(),x("img",{key:0,src:t(gt)(t(g).coverUrl),alt:"",width:"172",height:"79"},null,8,Nn)):(l(),H(J,{key:1,name:"dv-no-img"},{default:o(()=>[e(t(Rn),{class:"svg-icon",style:{width:"172px",height:"79px"}})]),_:1}))]),a("div",Wn,[a("div",Gn,[a("span",{style:{"margin-top":"8px","margin-left":"8px"},title:t(b)(t(g).name)},L(t(b)(t(g).name)),9,qn)]),t(g).type==="self"?(l(),x("div",Jn,[e(t(xe),{effect:"dark",placement:"top",content:r.$t("common.delete")},{default:o(()=>[e(A,{text:"",class:"m-custom-icon",onClick:V[0]||(V[0]=f=>m())},{default:o(()=>[e(w,{size:"14px"},{default:o(()=>[e(I)]),_:1})]),_:1})]),_:1},8,["content"]),e(t(xe),{effect:"dark",placement:"top",content:r.$t("common.edit")},{default:o(()=>[e(A,{text:"",class:"m-custom-icon",style:{"margin-left":"2px"},onClick:V[1]||(V[1]=f=>B())},{default:o(()=>[e(w,{size:"14px"},{default:o(()=>[e($)]),_:1})]),_:1})]),_:1},8,["content"])])):z("",!0)])])],2)}}});const Ye=ne(Qn,[["__scopeId","data-v-f12baaa4"]]),Xn=15e6,Yn=ee({__name:"DeUpload",props:{imgUrl:{type:String},themes:{type:String,default:"dark"}},emits:["onImgChange"],setup(j,{emit:i}){const d=Ie(),C=i,k=T(null),v=j,{themes:b,imgUrl:_}=$e(v),g=T(null),y=ue({fileList:[],dialogImageUrl:"",dialogVisible:!1,uploadDisabled:!1}),n=()=>{g.value=_.value,g.value?y.fileList.push({url:gt(g.value)}):y.fileList=[]},m=()=>{y.uploadDisabled=!1,g.value=null,y.fileList=[],C("onImgChange")},B=I=>{y.dialogImageUrl=I.url,y.dialogVisible=!0},u=I=>{ct(I.file,w=>{d.recordSnapshotCache("deUpload"),g.value=w,C("onImgChange",w)})},r=I=>{const w=I.target.files[0];if(w.size>Xn){V();return}ct(w,A=>{d.recordSnapshotCache("uploadFileResult"),g.value=A,C("onImgChange",A)})},V=()=>{K.success("图片大小不能超过15M")};return be(()=>{n()}),Tt(()=>_.value,()=>{n()}),(I,w)=>{const A=Ke("Plus"),$=oe,f=No;return l(),x("div",{class:U(["avatar-uploader-container",`img-area_${t(b)}`])},[e(f,{action:"",effect:t(b),accept:".jpeg,.jpg,.png,.gif,.svg",class:U(["avatar-uploader",{disabled:y.uploadDisabled}]),"list-type":"picture-card","on-preview":B,"on-remove":m,"http-request":u,"before-upload":t(zo),"file-list":y.fileList},{default:o(()=>[e($,null,{default:o(()=>[e(A)]),_:1})]),_:1},8,["effect","class","before-upload","file-list"]),a("input",{id:"input",ref_key:"files",ref:k,type:"file",accept:".jpeg,.jpg,.png,.gif,.svg",hidden:"",onClick:w[0]||(w[0]=s=>{s.target.value=""}),onChange:r},null,544),e(Wo,{modelValue:y.dialogVisible,"onUpdate:modelValue":w[1]||(w[1]=s=>y.dialogVisible=s),"image-url":y.dialogImageUrl},null,8,["modelValue","image-url"])],2)}}});const Kn=ne(Yn,[["__scopeId","data-v-4010b80c"]]),ea={class:"m-label"},ta={class:"m-label"},oa=ee({__name:"SubjectEditDialog",emits:["finish"],setup(j,{expose:i,emit:d}){const{t:C}=me(),k=T(!1),v={name:[{required:!0,message:C("commons.input_content"),trigger:"change"},{max:50,message:C("commons.char_can_not_more_50"),trigger:"change"}],coverUrl:[{required:!0,message:C("components.upload_a_cover"),trigger:"change"}]},b=T(),_=T(!1),g=T("new"),y=()=>{b.value.clearValidate(),_.value=!1},n=T(null),m=W(()=>g.value==="new"?C("components.a_new_theme"):C("components.edit_theme")),B=(I,w)=>{g.value=w,_.value=!0,n.value=ge(I)},u=()=>{b.value.validate(I=>{I&&r("finish",n.value)})};i({optInit:B,resetForm:y});const r=d,V=I=>{n.value.coverUrl=I};return(I,w)=>{const A=ro,$=at,f=bt,s=Ze,c=Ro,D=ot("loading");return ce((l(),H(c,{title:m.value,modelValue:_.value,"onUpdate:modelValue":w[3]||(w[3]=M=>_.value=M),width:"400px","before-close":y},{footer:o(()=>[e(s,{secondary:"",onClick:w[1]||(w[1]=M=>y())},{default:o(()=>[O(L(t(C)("common.cancel")),1)]),_:1}),e(s,{type:"primary",onClick:w[2]||(w[2]=M=>u())},{default:o(()=>[O(L(t(C)("chart.confirm")),1)]),_:1})]),default:o(()=>[e(f,{"label-position":"top","require-asterisk-position":"right",ref_key:"subject",ref:b,model:n.value,rules:v},{default:o(()=>[e($,{class:"form-item",prop:"name"},{label:o(()=>[a("label",ea,L(t(C)("common.name")),1)]),default:o(()=>[e(A,{modelValue:n.value.name,"onUpdate:modelValue":w[0]||(w[0]=M=>n.value.name=M)},null,8,["modelValue"])]),_:1}),e($,{class:"form-item",prop:"coverUrl"},{label:o(()=>[a("label",ta,L(t(C)("components.cover")),1)]),default:o(()=>[e(Kn,{themes:"light","img-url":n.value.coverUrl,onOnImgChange:V},null,8,["img-url"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])),[[D,k.value]])}}});const na=ne(oa,[["__scopeId","data-v-29c3aa47"]]),aa={class:"direction-left"},ia={class:"direction"},la={class:"item-area",style:{overflow:"hidden"}},sa={class:"item-area"},ra={class:"item-area"},ca={class:"direction-right"},da={class:"direction"},ua={style:{display:"flex","margin-top":"16px"}},pa={style:{flex:"1"},class:"dot-container"},ma={key:0,class:"dots"},fa=["onClick"],va=ee({__name:"Slider",props:{initialSpeed:{type:Number,default:30},initialInterval:{type:Number,default:3}},emits:["reload"],setup(j,{expose:i,emit:d}){const C=pe(),{canvasStyleData:k}=Ce(C),v=d,b=T(null),_=j,{initialSpeed:g}=$e(_),{t:y}=me(),n=ue({temp:null,sliders:[],slidersLoading:!1,sliderWidth:420,imgWidth:420,currentIndex:1,distance:-420,transitionEnd:!0,speed:g.value,saveSubjectVisible:!1}),m=W(()=>({transform:`translate3d(${n.distance}px, 0, 0)`})),B=W(()=>{var s;return{height:((s=n.sliders[0])==null?void 0:s.length)<3?"140px":"250px"}}),u=()=>{n.slidersLoading=!0,Uo({}).then(s=>{n.sliders=[],n.sliders=s.data,n.slidersLoading=!1,n.sliders.length<n.currentIndex&&(n.currentIndex=1,v("reload"))}).catch(()=>{n.slidersLoading=!1})},r=s=>{Fo(s).then(()=>{K.success(y("chart.delete_success")),u()})},V=s=>{n.slidersLoading=!0,Po(s).then(()=>{b.value.resetForm(),K.success(y("dataset.save_success")),u()}).catch(()=>{n.slidersLoading=!1})},I=s=>{s&&s.id?b.value.optInit(s,"edit"):b.value.optInit(s,"new")},w=()=>{const s=ge(k.value);s.themeId=Zo();const c={name:y("components.a_new_theme"),coverUrl:null,details:JSON.stringify(s)};I(c)},A=(s,c,D)=>{n.temp&&(window.clearInterval(n.temp),n.temp=null),n.temp=window.setInterval(()=>{c===-1&&s<n.distance||c===1&&s>n.distance?n.distance+=D*c:(n.transitionEnd=!0,window.clearInterval(n.temp),n.distance=s,s<-n.sliderWidth*n.sliders.length&&(n.distance=-n.sliderWidth),s>-n.sliderWidth&&(n.distance=-n.sliderWidth*n.sliders.length))},20)},$=(s,c,D)=>{if(!n.transitionEnd)return;n.transitionEnd=!1,c===-1?n.currentIndex+=s/n.sliderWidth:n.currentIndex-=s/n.sliderWidth,n.currentIndex>n.sliders.length&&(n.currentIndex=1),n.currentIndex<1&&(n.currentIndex=n.sliders.length);const M=n.distance+s*c;A(M,c,D)},f=s=>{const c=s-n.currentIndex>=0?-1:1,D=Math.abs(s-n.currentIndex)*n.sliderWidth,M=Math.abs(s-n.currentIndex)===0?n.speed:Math.abs(s-n.currentIndex)*n.speed;$(D,c,M)};return be(()=>{u()}),i({saveSelfSubject:w}),(s,c)=>{const D=Re,M=nt,R=ot("loading");return l(),H(D,{style:{"flex-direction":"column",width:"100%"}},{default:o(()=>[ce((l(),H(D,{style:{"margin-top":"-4px","margin-bottom":"-6px"}},{default:o(()=>[a("div",aa,[c[3]||(c[3]=a("span",null," ",-1)),ce(a("ul",ia,[a("li",{class:"left",onClick:c[0]||(c[0]=Z=>$(n.sliderWidth,1,n.speed))},c[2]||(c[2]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44506)"},[a("rect",{width:"24",height:"24",rx:"12",transform:"matrix(-1 0 0 1 28 4)",fill:"white"}),a("rect",{x:"-0.5",y:"0.5",width:"23",height:"23",rx:"11.5",transform:"matrix(-1 0 0 1 27 4)",stroke:"#DEE0E3"})]),a("path",{d:"M13.8609 16.0005L17.9268 11.9346C18.0244 11.837 18.0244 11.6787 17.9268 11.5811L17.5732 11.2275C17.4756 11.1299 17.3173 11.1299 17.2197 11.2275L12.8003 15.6469C12.605 15.8422 12.605 16.1588 12.8003 16.354L17.2197 20.7735C17.3173 20.8711 17.4756 20.8711 17.5732 20.7735L17.9268 20.4199C18.0244 20.3223 18.0244 20.164 17.9268 20.0664L13.8609 16.0005Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44506",x:"-4",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44506"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44506",result:"shape"})])])],-1)]))],512),[[Pe,n.currentIndex>1]])]),e(M,{span:24},{default:o(()=>[e(D,{id:"slider"},{default:o(()=>[a("div",{class:"slider-window",style:rt(B.value)},[n.slidersLoading?z("",!0):(l(),x("ul",{key:0,class:"container",style:rt(m.value)},[a("li",null,[a("div",la,[(l(!0),x(Q,null,he(n.sliders[n.sliders.length-1],Z=>(l(),H(Ye,{key:Z.id,"subject-item":Z,onSubjectDelete:r,onSubjectEdit:N=>I(Z)},null,8,["subject-item","onSubjectEdit"]))),128))])]),(l(!0),x(Q,null,he(n.sliders,(Z,N)=>(l(),x("li",{key:N},[a("div",sa,[(l(!0),x(Q,null,he(Z,ae=>(l(),H(Ye,{key:ae.id,"subject-item":ae,onSubjectDelete:r,onSubjectEdit:Le=>I(ae)},null,8,["subject-item","onSubjectEdit"]))),128))])]))),128)),a("li",null,[a("div",ra,[(l(!0),x(Q,null,he(n.sliders[0],Z=>(l(),H(Ye,{key:Z.id,"subject-item":Z,onSubjectDelete:r,onSubjectEdit:N=>I(Z)},null,8,["subject-item","onSubjectEdit"]))),128))])])],4))],4)]),_:1})]),_:1}),a("div",ca,[c[5]||(c[5]=a("span",null," ",-1)),ce(a("ul",da,[a("li",{class:"right",onClick:c[1]||(c[1]=Z=>$(n.sliderWidth,-1,n.speed))},c[4]||(c[4]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44502)"},[a("rect",{x:"8",y:"4",width:"24",height:"24",rx:"12",fill:"white"}),a("rect",{x:"8.5",y:"4.5",width:"23",height:"23",rx:"11.5",stroke:"#DEE0E3"})]),a("path",{d:"M22.1391 15.9985L18.0732 11.9327C17.9756 11.835 17.9756 11.6768 18.0732 11.5791L18.4268 11.2256C18.5244 11.1279 18.6827 11.1279 18.7803 11.2256L23.1997 15.645C23.395 15.8402 23.395 16.1568 23.1997 16.3521L18.7803 20.7715C18.6827 20.8691 18.5244 20.8691 18.4268 20.7715L18.0732 20.418C17.9756 20.3203 17.9756 20.162 18.0732 20.0644L22.1391 15.9985Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44502",x:"0",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44502"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44502",result:"shape"})])])],-1)]))],512),[[Pe,n.currentIndex<n.sliders.length]])])]),_:1})),[[R,n.slidersLoading]]),a("div",ua,[c[7]||(c[7]=a("div",{style:{flex:"1"}},null,-1)),a("div",pa,[c[6]||(c[6]=a("span",{hidden:""},"B",-1)),n.sliders.length>1?(l(),x("ul",ma,[(l(!0),x(Q,null,he(n.sliders,(Z,N)=>(l(),x("li",{key:N,class:U({dotted:N===n.currentIndex-1}),onClick:ae=>f(N+1)},null,10,fa))),128))])):z("",!0)])]),e(na,{ref_key:"subjectEditDialogRef",ref:b,onFinish:V},null,512)]),_:1})}}});const _a=ne(va,[["__scopeId","data-v-728c52f3"]]),ha={class:"custom-item-text"},ga=ee({__name:"ViewSimpleTitle",emits:["onTextChange"],setup(j,{emit:i}){const{t:d}=me(),C=pe(),k=i,v=W(()=>C.canvasStyleData.component.chartTitle),b=ue({fontSize:[],isSetting:!1,predefineColors:ht}),_=T("light"),g=W(()=>{const u=[];for(let r=10;r<=60;r=r+2)u.push({name:r+"",value:r+""});return u}),y=u=>{v.value.modifyName=u,k("onTextChange",v.value)};function n(){v.value.isBolder=!v.value.isBolder,y("isBolder")}function m(){v.value.isItalic=!v.value.isItalic,y("isItalic")}function B(u){v.value.hPosition=u,y("hPosition")}return(u,r)=>{const V=Re,I=yt,w=at,A=qo,$=Jo,f=oe,s=xe,c=Go;return l(),H(V,{class:"custom-row"},{default:o(()=>[e(V,null,{default:o(()=>[a("span",ha,L(t(d)("chart.text")),1)]),_:1}),e(V,{style:{"margin-top":"8px"}},{default:o(()=>[e(c,{wrap:""},{default:o(()=>[e(w,{class:U(["form-item no-margin-bottom","form-item-"+_.value])},{default:o(()=>[e(I,{title:t(d)("chart.text_color"),modelValue:v.value.color,"onUpdate:modelValue":r[0]||(r[0]=D=>v.value.color=D),class:"color-picker-style","is-custom":"",predefine:b.predefineColors,onChange:r[1]||(r[1]=D=>y("color"))},null,8,["title","modelValue","predefine"])]),_:1},8,["class"]),e(w,{class:U(["form-item no-margin-bottom","form-item-"+_.value])},{default:o(()=>[e($,{style:{width:"56px"},title:t(d)("chart.text_fontsize"),modelValue:v.value.fontSize,"onUpdate:modelValue":r[2]||(r[2]=D=>v.value.fontSize=D),placeholder:t(d)("chart.size"),size:"small",onChange:r[3]||(r[3]=D=>y("fontSize"))},{default:o(()=>[(l(!0),x(Q,null,he(g.value,D=>(l(),H(A,{key:D.value,label:D.name,value:D.value},null,8,["label","value"]))),128))]),_:1},8,["title","modelValue","placeholder"])]),_:1},8,["class"]),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(d)("chart.bolder")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.isBolder}]),onClick:n},[e(f,null,{default:o(()=>[e(J,{name:"icon_bold_outlined"},{default:o(()=>[e(t(Qo),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(d)("chart.italic")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.isItalic}]),onClick:m},[e(f,null,{default:o(()=>[e(J,{name:"icon_italic_outlined"},{default:o(()=>[e(t(Xo),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),r[7]||(r[7]=a("div",{class:"m-divider"},null,-1)),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(d)("chart.text_pos_left")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.hPosition==="left"}]),onClick:r[4]||(r[4]=D=>B("left"))},[e(f,null,{default:o(()=>[e(J,{name:"icon_left-alignment_outlined"},{default:o(()=>[e(t(Yo),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(d)("chart.text_pos_center")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.hPosition==="center"}]),onClick:r[5]||(r[5]=D=>B("center"))},[e(f,null,{default:o(()=>[e(J,{name:"icon_center-alignment_outlined"},{default:o(()=>[e(t(Ko),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(d)("chart.text_pos_right")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.hPosition==="right"}]),onClick:r[6]||(r[6]=D=>B("right"))},[e(f,null,{default:o(()=>[e(J,{name:"icon_right-alignment_outlined"},{default:o(()=>[e(t(en),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1})]),_:1})]),_:1})]),_:1})}}});const Ca=ne(ga,[["__scopeId","data-v-8cf6c4b9"]]),ba={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function ya(j,i){return l(),x("svg",ba,i[0]||(i[0]=[a("path",{d:"M2 5.5C2 5.22386 2.22386 5 2.5 5H17.5C17.7761 5 18 5.22386 18 5.5V8.5C18 8.77614 17.7761 9 17.5 9H2.5C2.22386 9 2 8.77614 2 8.5V5.5Z"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12V18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18V12ZM4 17V13H20V17H4Z"},null,-1)]))}const wa={render:ya},Sa={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function ka(j,i){return l(),x("svg",Sa,i[0]||(i[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 9C9 8.44772 9.44772 8 10 8H23C23.5523 8 24 8.44772 24 9V15C24 15.5523 23.5523 16 23 16H10C9.44771 16 9 15.5523 9 15V9ZM11 14V10H22V14H11Z"},null,-1),a("path",{d:"M0 10.5C0 10.2239 0.223858 10 0.5 10H6.5C6.77614 10 7 10.2239 7 10.5V13.5C7 13.7761 6.77614 14 6.5 14H0.5C0.223858 14 0 13.7761 0 13.5V10.5Z"},null,-1)]))}const xa={render:ka},Ia={style:{width:"100%"}},Da={style:{width:"100%",padding:"16px 8px 0"}},Va={style:{padding:"0 8px 8px"}},Ea=ee({__name:"FilterStyleSimpleSelector",setup(j){const{t:i}=me(),d=pe(),C=Ie(),k=W(()=>d.canvasStyleData.component.filterStyle),v=ue({fontSize:[],isSetting:!1,predefineColors:ht}),b=()=>{},_=y=>{d.canvasStyleData.component.filterStyle=wt(k.value),Oo(y),C.recordSnapshotCache("filterStyleSimpleSelector-themeChange")},g=(y,n="titleLayout")=>{k.value[n]=y,_(n)};return be(()=>{q.on("onThemeColorChange",b)}),(y,n)=>{const m=J,B=xe,u=at,r=nt,V=yt,I=Re,w=tn,A=_t,$=bt;return l(),x("div",Ia,[e($,{"label-position":"top",style:{width:"100%"}},{default:o(()=>[a("div",Da,[e(I,{gutter:8},{default:o(()=>[e(r,{span:12},{default:o(()=>[e(u,{class:"form-item",label:t(i)("components.title_horizontal_position")},{default:o(()=>[e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(i)("chart.text_pos_left")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.titleLayout==="left"?"active":"cbd","hover-icon"]),onClick:n[0]||(n[0]=f=>g("left"))},{default:o(()=>[e(m,{name:"icon_left-align_outlined"},{default:o(()=>[e(t(on),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(i)("chart.text_pos_center")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.titleLayout==="center"&&"active","hover-icon"]),onClick:n[1]||(n[1]=f=>g("center"))},{default:o(()=>[e(m,{name:"icon_horizontal-align_outlined"},{default:o(()=>[e(t(nn),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(i)("chart.text_pos_right")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.titleLayout==="right"&&"active","hover-icon"]),onClick:n[2]||(n[2]=f=>g("right"))},{default:o(()=>[e(m,{name:"icon_right-align_outlined"},{default:o(()=>[e(t(an),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(u,{class:"form-item",label:t(i)("components.title_display_position")},{default:o(()=>[e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(i)("chart.text_pos_top")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.layout==="vertical"&&"active","hover-icon"]),onClick:n[3]||(n[3]=f=>g("vertical","layout"))},{default:o(()=>[e(m,{name:"icon_title-top-align_outlined"},{default:o(()=>[e(t(wa),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(L(t(i)("chart.text_pos_center")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.layout==="horizontal"&&"active","hover-icon"]),onClick:n[4]||(n[4]=f=>g("horizontal","layout"))},{default:o(()=>[e(m,{name:"icon_title-left-align_outlined"},{default:o(()=>[e(t(xa),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(u,{class:"form-item",label:t(i)("components.title_color")},{default:o(()=>[e(V,{modelValue:k.value.titleColor,"onUpdate:modelValue":n[5]||(n[5]=f=>k.value.titleColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[6]||(n[6]=f=>_("titleColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(u,{class:"form-item",label:t(i)("components.label_color")},{default:o(()=>[e(V,{modelValue:k.value.labelColor,"onUpdate:modelValue":n[7]||(n[7]=f=>k.value.labelColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[8]||(n[8]=f=>_("labelColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1}),e(w,{class:"m-divider"})]),e(A,{title:t(i)("components.input_box_style"),name:"input_style_filter_selector",class:"inner-collapse"},{default:o(()=>[a("div",Va,[e(I,{gutter:8},{default:o(()=>[e(r,{span:12},{default:o(()=>[e(u,{class:"form-item",label:t(i)("visualization.board")},{default:o(()=>[e(V,{modelValue:k.value.borderColor,"onUpdate:modelValue":n[9]||(n[9]=f=>k.value.borderColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[10]||(n[10]=f=>_("borderColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(u,{class:"form-item",label:t(i)("visualization.text")},{default:o(()=>[e(V,{modelValue:k.value.text,"onUpdate:modelValue":n[11]||(n[11]=f=>k.value.text=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[12]||(n[12]=f=>_("text"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(u,{class:"form-item",label:t(i)("visualization.board_background")},{default:o(()=>[e(V,{modelValue:k.value.bgColor,"onUpdate:modelValue":n[13]||(n[13]=f=>k.value.bgColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[14]||(n[14]=f=>_("bgColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1})])]),_:1},8,["title"])]),_:1})])}}});const $a=ne(Ea,[["__scopeId","data-v-b6ff8d73"]]),La={class:"attr-container"},Ma=ee({__name:"DbCanvasAttr",setup(j){const i=pe(),d=Ie(),{canvasStyleData:C,componentData:k,canvasViewInfo:v}=Ce(i),{t:b}=me();let _=!1;const g=T(["style"]),y=ue({colorForm:JSON.parse(JSON.stringify(Ao)),customColor:null,colorIndex:0,sliderShow:!0,collapseShow:!0}),n=()=>{y.collapseShow=!1,de(()=>{m(),y.collapseShow=!0})},m=()=>{Ct(),d.recordSnapshotCache("renderChart")},B=$=>{r("customAttr","color",$)},u=$=>{r("customStyle","text",$)},r=($,f,s)=>{_&&(Object.keys(v.value).forEach(function(c){const D=v.value[c];try{$==="customAttr"?ln(D.customAttr,s):Object.keys(s).forEach(function(M){D[$][f][M]!==void 0&&(D[$][f][M]=s[M])}),le().emitter.emit("renderChart-"+c,D)}catch{console.warn("themeAttrChange-error")}}),d.recordSnapshotCache("renderChart"))},V=()=>{},I=$=>{C.value.component.chartCommonStyle=$,k.value.forEach(f=>{f.commonBackground=ge($)})};be(()=>{le({name:"onSubjectChange",callback:()=>{n()}}),de(()=>{_=!0})});const w=T(),A=()=>{w.value.saveSelfSubject()};return($,f)=>{const s=Ze,c=_t,D=jo,M=Re;return l(),x("div",La,[e(M,null,{default:o(()=>[e(D,{modelValue:g.value,"onUpdate:modelValue":f[0]||(f[0]=R=>g.value=R)},{default:o(()=>[e(c,{title:t(b)("components.dashboard_style"),name:"style"},{default:o(()=>[e(_a,{ref_key:"slider",ref:w},null,512),e(s,{class:"button-panel__style",text:"",size:"small",onClick:A},{default:o(()=>[O(L($.$t("commons.save")),1)]),_:1})]),_:1},8,["title"]),e(c,{title:t(b)("components.overall_configuration"),name:"overallSetting"},{default:o(()=>[e(oo,{onOnThemeColorChange:V})]),_:1},8,["title"]),e(c,{title:t(b)("components.dashboard_background"),name:"background",class:"content-no-padding-bottom"},{default:o(()=>[e(no,{themes:"light"})]),_:1},8,["title"]),e(c,{title:t(b)("visualization.view_style"),name:"componentStyle",class:"content-no-padding-bottom"},{default:o(()=>[e(sn,{"common-background-pop":t(C).component.chartCommonStyle,"component-position":"'dashboard'",themes:"light",onOnBackgroundChange:I,"background-color-picker-width":197,"background-border-select-width":197},null,8,["common-background-pop"])]),_:1},8,["title"]),e(c,{title:t(b)("components.chart_color"),name:"graphical",class:"no-padding no-border-bottom"},{default:o(()=>[y.collapseShow?(l(),H(ao,{key:0,onOnColorChange:B})):z("",!0)]),_:1},8,["title"]),e(c,{title:t(b)("visualization.chart_title"),name:"viewTitle"},{default:o(()=>[e(Ca,{onOnTextChange:u})]),_:1},8,["title"]),e(c,{title:t(b)("visualization.filter_component"),name:"filterComponent",class:"no-padding no-border-bottom"},{default:o(()=>[e($a)]),_:1},8,["title"]),e(c,{title:t(b)("components.advanced_style_settings"),name:"seniorStyleSetting",class:"no-padding no-border-bottom"},{default:o(()=>[e(io)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1})])}}});const Ba=ne(Ma,[["__scopeId","data-v-cefd5060"]]),Ta={class:"config-hidden"},Ha={class:"component-outer"},ja=["onClick"],Aa=ee({__name:"DashboardHiddenComponent",emits:["cancelHidden"],setup(j,{emit:i}){const d=pe(),{componentData:C,canvasStyleData:k,canvasViewInfo:v,dvInfo:b}=Ce(d),_=i,g=W(()=>C.value.filter(n=>n.dashboardHidden)),y=n=>{n.dashboardHidden=!1,_("cancelHidden",n)};return(n,m)=>{var r;const B=oe,u=xe;return l(),x("div",Ta,[((r=g.value)==null?void 0:r.length)>0?(l(!0),x(Q,{key:0},he(g.value,V=>(l(),x("div",{style:{height:"180px",width:"260px"},class:"wrapper-inner-adaptor",key:V.id},[a("div",Ha,[e(zt,{"canvas-id":"canvas-main","canvas-style-data":t(k),"dv-info":t(b),"canvas-view-info":t(v),"view-info":t(v)[V.id],config:V,class:"wrapper-design","show-position":"viewDialog","search-count":0,scale:t(k).scale},null,8,["canvas-style-data","dv-info","canvas-view-info","view-info","config","scale"])]),a("div",{class:"select-to-dashboard",onClick:I=>y(V)},[e(u,{effect:"dark",content:n.$t("visualization.cancel_hidden"),placement:"bottom"},{default:o(()=>[e(B,{style:{"font-size":"16px"}},{default:o(()=>[e(J,{name:"dvHidden"},{default:o(()=>[e(t(mt),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["content"])],8,ja)]))),128)):(l(),H(mn,{key:1,description:n.$t("visualization.no_hidden_components"),"img-type":"noneWhite"},null,8,["description"]))])}}});const za=ne(Aa,[["__scopeId","data-v-721e8870"]]),Oa={style:{height:"100%"}},Ad=ee({__name:"index",setup(j){const i=dn(),d=pt(),{wsCache:C}=ut(),k=T(null),v=T(null),b=S=>{if(S.key==="panel-weight"&&!cn(S.oldValue,S.newValue)){const E=d.resourceId||_e.currentRoute.value.query.resourceId,F=d.opt||_e.currentRoute.value.query.opt;F&&F==="create"||dt(C.get("panel-weight"),E,4)}},_=pe(),g=Ie(),y=co(),n=uo(),{fullscreenFlag:m,componentData:B,curComponent:u,canvasStyleData:r,canvasViewInfo:V,editMode:I,batchOptStatus:w,hiddenListStatus:A,lastHiddenComponent:$,dvInfo:f}=Ce(_),s=T(!1),c=ft(),D=W(()=>c.getIsDataEaseBi),{t:M}=me(),R=ue({datasetTree:[],sourcePid:null,canvasId:"canvas-main",opt:null,resourceId:null}),Z=()=>{Ho({}).then(S=>{R.datasetTree=S||[]})},N=W(()=>{var S,E,F;return!!(u.value&&(!["UserView","VQuery"].includes((S=u.value)==null?void 0:S.component)||((E=u.value)==null?void 0:E.component)==="UserView"&&((F=u.value)==null?void 0:F.innerType)==="picture-group")&&!w.value&&!A.value)}),ae=W(()=>{var S,E;return((S=u.value)==null?void 0:S.component)==="UserView"?M("visualization.attribute"):((E=u.value)==null?void 0:E.label)||M("visualization.attribute")}),Le=W(()=>!!(u.value&&["UserView","VQuery"].includes(u.value.component)&&u.value.innerType!=="picture-group"&&!w.value&&!A.value)),Ne=async S=>{if(!window.DataEaseBi||!S)return!0;const E={busiFlag:"dashboard"};return await i.setInteractive(E),dt(C.get("panel-weight"),S,4)},De=T(!1),Me=()=>{const S=wt(r.value);S.mobileSetting||(S.mobileSetting={backgroundColorSelect:!1,background:"",color:"#ffffff",backgroundImageEnable:!1,customSetting:!1}),_.setCanvasStyle(S),de(()=>{De.value=!0,_.setCurComponent({component:null,index:null})})},Ve=T(!1),Be=T(!1);let Te=null;const ye=()=>Te(!0),We=S=>{const E=C.get("DE-DV-CATCH-"+R.resourceId);if(S&&E){const F=ge(E);g.snapshotPublish(F),s.value=!0,setTimeout(()=>{g.recordSnapshotCache("doUseCache"),g.recordSnapshotCache("renderChart")},1500)}else He(),C.delete("DE-DV-CATCH-"+R.resourceId)},He=()=>{const{resourceId:S,opt:E,sourcePid:F}=R;vt(S,E==="copy"?"dashboard-copy":"dashboard",function(){s.value=!0,f.value&&E==="copy"&&(f.value.dataState="prepare",f.value.optType="copy",f.value.pid=F,setTimeout(()=>{g.recordSnapshotCache("initLocalCanvasData")},1500)),$o({resourceId:S})})};be(async()=>{var ze;_.setCurComponent({component:null,index:null}),_.setHiddenListStatus(!1),g.initSnapShot(),window.location.hash.includes("#/dashboard")&&(Be.value=!0),await new Promise(X=>Te=X),Ve.value=!0,le({name:"mobileConfig",callback:()=>{Me()}}),window.addEventListener("storage",b),window.addEventListener("message",je);const S=d.resourceId||_e.currentRoute.value.query.resourceId,E=d.pid||_e.currentRoute.value.query.pid,F=d.opt||_e.currentRoute.value.query.opt,se=d.createType||_e.currentRoute.value.query.createType,Ae=d.templateParams||_e.currentRoute.value.query.templateParams;if(await Ne(S))if(Z(),R.sourcePid=E,R.opt=F,R.resourceId=S,S)s.value=!1,C.get("DE-DV-CATCH-"+S)?(ze=k.value)==null||ze.dialogInit({canvasType:"dashboard",resourceId:S}):He();else if(F&&F==="create"){s.value=!1;let X;try{await un().then(ve=>{X=ve.data,X.settingContent=JSON.parse(X.settingContent)})}catch{console.error("can not find watermark info")}let re,Oe;if(se==="template"){const ve=JSON.parse(pn.decode(decodeURIComponent(Ae+"")));await Eo(ve,Je=>{var we;re=Je,Oe=(we=re.baseInfo)==null?void 0:we.preName})}de(()=>{_.createInit("dashboard",null,E,X,Oe),se==="template"&&(C.delete("de-template-data"),_.setComponentData(re.componentData),_.setCanvasStyle(re.canvasStyleData),_.setCanvasViewInfo(re.canvasViewInfo),_.setAppDataInfo(re.appData),setTimeout(()=>{g.recordSnapshotCache("template")},1500),_.getAppDataInfo()&&q.emit("save")),s.value=!0,r.value.component.chartTitle.color="#000000"})}else{let X="#/panel/index";window.open(X,"_self")}});const je=S=>{const E=S.data;(E==null?void 0:E.targetSourceId)===f.value.id+""&&E.type==="webParams"&&Ge(E)},Ge=S=>{const E=S.params;_.addWebParamsFilter(E)},fe=W(()=>B.value.filter(S=>!S.dashboardHidden)),qe=S=>{var E;v.value&&((E=$.value)!=null&&E.length&&$.value.includes(S.id)||(S.y=void 0),v.value.addItemBox(S),de(()=>{v.value.canvasInit(!1)}),g.recordSnapshotCache("cancelHidden"))};return Ht(()=>{window.removeEventListener("storage",b),window.removeEventListener("message",je)}),(S,E)=>{const F=fn,se=ot("loading");return l(),x(Q,null,[Ve.value&&!De.value?ce((l(),x("div",{key:0,class:U(["dv-common-layout dv-teleport-query",D.value&&!Be.value&&"dataease-w-h"])},[e(Fn),e(F,{class:U(["dv-layout-container",{"preview-content":t(I)==="preview"}]),"element-loading-background":"rgba(0, 0, 0, 0)"},{default:o(()=>[a("main",{class:U(["center",{"de-screen-full":t(m)}])},[s.value?(l(),H(Ot,{key:0,style:{"overflow-x":"hidden"},ref_key:"deCanvasRef",ref:v,"canvas-id":R.canvasId,"component-data":fe.value,"canvas-style-data":t(r),"canvas-view-info":t(V),"font-family":t(r).fontFamily},null,8,["canvas-id","component-data","canvas-style-data","canvas-view-info","font-family"])):z("",!0)],2),N.value?(l(),H(Fe,{key:0,"theme-info":"light",title:ae.value,width:420,"side-name":"componentProp","aside-position":"right",view:t(V)[t(u).id],element:t(u),class:"left-sidebar"},{default:o(()=>[(l(),H(jt(t(Ut)(t(u))),{themes:"light"}))]),_:1},8,["title","view","element"])):z("",!0),ce(e(Fe,{"theme-info":"light",title:t(M)("visualization.dashboard_configuration"),width:420,"aside-position":"right","side-name":"canvas",class:"left-sidebar"},{default:o(()=>[e(Ba)]),_:1},8,["title"]),[[Pe,!t(u)&&!t(w)&&!t(A)]]),ce(a("div",Oa,[e(To,{themes:"light",view:t(V)[t(u)?t(u).id:"default"],"dataset-tree":R.datasetTree},null,8,["view","dataset-tree"])],512),[[Pe,Le.value]]),t(w)?(l(),H(Fe,{key:1,"theme-info":"light",title:t(M)("visualization.batch_style_set"),width:280,"aside-position":"right",class:"left-sidebar","side-name":"batchOpt"},{default:o(()=>[e(rn)]),_:1},8,["title"])):z("",!0),t(A)?(l(),H(Fe,{key:2,"theme-info":"light",title:t(M)("visualization.hidden_components"),width:280,"aside-position":"right",class:"left-sidebar"},{default:o(()=>[e(za,{onCancelHidden:qe})]),_:1},8,["title"])):z("",!0)]),_:1},8,["class"])],2)),[[se,t(y).loadingMap[t(n).currentPath]]]):Ve.value&&De.value?(l(),H(po,{key:1,onPcMode:E[0]||(E[0]=Ae=>De.value=!1)})):z("",!0),e(t(tt),{jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvTmV3V2luZG93SGFuZGxlcg==",onLoaded:ye,onLoadFail:ye}),e(t(tt),{jsname:"L2NvbXBvbmVudC90aHJlc2hvbGQtd2FybmluZy9UaHJlc2hvbGREaWFsb2c="}),e(lo,{ref_key:"canvasCacheOutRef",ref:k,onDoUseCache:We},null,512)],64)}}});export{Ad as default};

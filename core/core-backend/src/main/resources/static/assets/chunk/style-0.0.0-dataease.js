import{t as f,b as w,s as b}from"./translate-0.0.0-dataease.js";import{i as c}from"./imgUtils-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import{d as E}from"./dvMain-0.0.0-dataease.js";import{r as v,l as T}from"./canvasUtils-0.0.0-dataease.js";const n=E();function P(t,{dvModel:e,cellWidth:o,cellHeight:i,curGap:a,showPosition:l="preview"}){let h={};return e==="dashboard"&&!t.isPlayer?h={padding:a+"px!important",width:o*t.sizeX+"px",height:i*t.sizeY+"px",left:o*(t.x-1)+"px",top:i*(t.y-1)+"px"}:e==="dataV"&&T(t.canvasId)&&l==="preview"?h={padding:a+"px!important",width:f(t.groupStyle.width),height:f(t.groupStyle.height),top:f(t.groupStyle.top),left:f(t.groupStyle.left)}:h={padding:a+"px!important",width:t.style.width+"px",height:t.style.height+"px",left:t.style.left+"px",top:t.style.top+"px"},h}function X(t,e,o){t.style.left=e*(t.x-1),t.style.top=o*(t.y-1),t.style.width=e*t.sizeX,t.style.height=o*t.sizeY}const z=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function Y(t,e=[]){const o={};return Object.keys(t).forEach(i=>{e.includes(i)||(i!="rotate"?t[i]!==""&&(o[i]=t[i],z.includes(i)&&(o[i]+="px")):o.transform=i+"("+t[i]+"deg)")}),o}function B(t){if(t={...t},t.rotate!=0){const e=t.width*w(t.rotate)+t.height*b(t.rotate),o=(t.width-e)/2;t.left+=o,t.right=t.left+e;const i=t.height*w(t.rotate)+t.width*b(t.rotate),a=(i-t.height)/2;t.top-=a,t.bottom=t.top+i,t.width=e,t.height=i}else t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function D(t,e="canvas-main"){const{backgroundColorSelect:o,background:i,backgroundColor:a,backgroundImageEnable:l,fontSize:h,mobileSetting:d,fontFamily:I}=t,r={fontSize:h+"px",color:t.color};if(v(e)){let s=n.dvInfo.type==="dashboard"?"#f5f6f7":"#1a1a1a";if(o&&a&&(s=a),l?r.background=`url(${c(i)}) no-repeat ${s}`:r["background-color"]=s,n.mobileInPc&&(d!=null&&d.customSetting)){const{backgroundColorSelect:p,color:u,backgroundImageEnable:S,background:g}=d;p&&S&&typeof g=="string"?r.background=`url(${c(g)}) no-repeat ${u}`:p?r["background-color"]=u:S&&(r.background=`url(${c(g)}) no-repeat`)}r["font-family"]=I+"!important"}return r}function U(t){const e=t.style;t.propValue.forEach(o=>{const i={...o.style};o.groupStyle.left=(i.left-e.left)/e.width,o.groupStyle.top=(i.top-e.top)/e.height,o.groupStyle.width=i.width/e.width,o.groupStyle.height=i.height/e.height,o.style.left=o.style.left-e.left,o.style.top=o.style.top-e.top})}function k(t){const e={...t.style},o=e.showTabTitle?46:0,i=n.editMode==="edit"?"component"+t.id:"enlarge-inner-content"+t.id,a=document.getElementById(i);a?(e.height=a.clientHeight-o,e.width=a.clientWidth):e.height=e.height-o,t.propValue.forEach(l=>{l.componentData.forEach(h=>{y(h,e)})})}function y(t,e){const o=t.groupStyle;t.style.left=e.width*o.left,t.style.top=e.height*o.top,t.style.width=e.width*o.width,t.style.height=e.height*o.height}function W(t){const e={width:t.style.width,height:t.style.height-(t.style.showTabTitle?46:0)};t.propValue.forEach(o=>{o.componentData.forEach(i=>{x(i,e)})})}function x(t,e){const o={...t.style};t.groupStyle.left=o.left/e.width,t.groupStyle.top=o.top/e.height,t.groupStyle.width=o.width/e.width,t.groupStyle.height=o.height/e.height}function j(t){if(t.component==="Group"){const e=t.style;t.propValue.forEach(o=>{y(o,e)})}else k(t)}function F(t,e){t.style.top=0,t.style.left=0;const o={...e.style};o.height=o.height-(e.showTabTitle?46:0),x(t,o)}export{x as a,j as b,U as c,D as d,Y as e,P as f,B as g,F as h,X as s,W as t};

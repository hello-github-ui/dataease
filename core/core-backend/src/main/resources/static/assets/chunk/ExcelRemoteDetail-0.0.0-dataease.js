import{v as me,d as je,p as _,q as pe,r as $e,w as qe,h as Pe,U as ze,S as Ae,V as Je,A as Ge,z as We,T as He,O as Xe,P as Ze,x as Ye,y as Qe,f as et,Z as tt}from"./element-plus-secondary-0.0.0-dataease.js";import{d as at,l as Q,t as lt,r as T,x as ee,n as te,b as ot,e as nt,w as fe,ak as it,o as f,c as q,a as V,z as j,u as e,a2 as v,W as N,X as O,Z as S,_ as d,a0 as u,a4 as k,a1 as st,M as rt,Y as x,$ as ut}from"./@vue-0.0.0-dataease.js";import{i as ge}from"./icon_calendar_outlined-0.0.0-dataease.js";import{j as dt,h as ct}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{i as mt}from"./field-list-0.0.0-dataease.js";import{_ as pt}from"./Cron.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import ft from"./SheetTabs-0.0.0-dataease.js";import{f as gt,b as yt,u as _t}from"./datasource-0.0.0-dataease.js";import{g as ae}from"./js-base64-0.0.0-dataease.js";import{u as vt}from"./index-0.0.0-dataease.js";import{_ as ht}from"./CustomPassword.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{e as I,d as St}from"./lodash-es-0.0.0-dataease.js";import{b as xt}from"./mathjs-0.0.0-dataease.js";import{_ as Tt}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./escape-html-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./pinia-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./vue-router-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./icon_expand-right_filled-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./icon_invisible_outlined-0.0.0-dataease.js";import"./decimal.js-0.0.0-dataease.js";import"./typed-function-0.0.0-dataease.js";import"./complex.js-0.0.0-dataease.js";const Vt={class:"editor-detail"},kt={class:"detail-inner create-dialog"},wt={class:"info-update"},Et={key:0,class:"table-select_mode"},Rt={class:"btn-select"},bt={class:"flex-align-center"},Nt={key:2,class:"execute-rate-cont"},Ot={class:"simple-cron"},Dt={style:{width:"814px",height:"450px","overflow-y":"auto"}},Ct={style:{width:"100%"}},Ft=at({__name:"ExcelRemoteDetail",props:{form:{required:!1,default(){return Q({id:"0",name:"",desc:"",type:"Excel",editType:0})},type:Object},isSupportSetKey:{type:xt,required:!0},activeStep:{required:!1,default:1,type:Number}},setup(ye,{expose:_e}){const{t:l}=dt(),w=ye,{form:a,isSupportSetKey:ve,activeStep:g}=lt(w),M={tableName:" ",sheetExcelId:"",fields:[],jsonArray:[],nameExist:!1,empty:"",overLength:!1},K=Q(I(M)),E=Q({excelData:[],defaultExpandedKeys:[],defaultCheckedKeys:[],fileList:null,sheets:[]}),$=T("preview"),B=T(),he=T(!1),R=ee([]),J=T(!0),G=T(!1),P=T(),{emitter:W}=vt(),C=ee([]),L=ee([]),b=T(!1),z=T(!0),le={name:[{required:!0,message:l("sync_datasource.input_ds_name"),trigger:"blur"},{min:1,max:64,message:l("datasource.input_limit_1_64",[1,64]),trigger:"blur"}],"configuration.url":[{required:!0,message:l("datasource.remote_excel_url_empty"),trigger:"blur"}]},oe=T(I(le)),D=T(""),Se=i=>{a.value.configuration={url:"",userName:"",passwd:""},a.value.syncSetting={updateType:"all_scope",syncRate:"SIMPLE_CRON",simpleCronValue:"1",simpleCronType:"minute",startTime:"",endTime:"",endLimit:"0",cron:"0 0/1 * * * ? *"},a.value.type=i},ne=St(()=>{J.value=!1,te(()=>{J.value=!0})},500);ot(()=>{window.addEventListener("resize",ne)}),nt(()=>{window.removeEventListener("resize",ne)}),fe(()=>a.value.type,i=>{i.startsWith("API")||(oe.value=I(le))},{immediate:!0}),fe(()=>g.value,()=>{var i;H.value=((i=a.value.syncSetting)==null?void 0:i.syncRate)==="CRON"});const xe=()=>(B.value.clearValidate(),B.value.validate),Te=()=>(X.value.clearValidate(),X.value.validate),Ve=()=>{var n;let i=[],t=[],o=(n=E.excelData[0])==null?void 0:n.sheets;if(o===void 0)return _({message:l("datasource.file_not_empty"),type:"error"}),!1;for(let r=0;r<o.length;r++)if(o[r].sheet){if(o[r].fields.filter(c=>c.checked).length==0)return _({message:o[r].excelLabel+l("datasource.api_field_not_empty"),type:"error"}),!1;for(let c=0;c<o[r].fields.length;c++)if(o[r].fields[c].checked&&o[r].fields[c].primaryKey&&!o[r].fields[c].length&&o[r].fields[c].deExtractType===0)return _({message:l("datasource.primary_key_length")+o[r].excelLabel+": "+o[r].fields[c].name,type:"error"}),!1;i.push(o[r]),t.push(o[r].fieldsMd5)}return i.length?!0:(_({message:l("dataset.ple_select_excel"),type:"error"}),!1)},ke=()=>(E.excelData=[],D.value="",L.value=[],Object.assign(K,I(M)),B.value.clearValidate()),we=()=>{B.value.resetFields()},H=T(!1),Ee=()=>{a.value.syncSetting.syncRate==="SIMPLE"&&(a.value.syncSetting.endLimit=0,a.value.syncSetting.endTime=0,a.value.syncSetting.cron=""),a.value.syncSetting.syncRate==="SIMPLE_CRON"&&(a.value.syncSetting.cron="0 0/1 * * * ? *",a.value.syncSetting.simpleCronType="minute"),a.value.syncSetting.syncRate==="CRON"&&(a.value.syncSetting.cron="00 00 * ? * * *"),te(()=>{H.value=a.value.syncSetting.syncRate==="CRON"})},ie=()=>{if(a.value.syncSetting.simpleCronType==="minute"){(a.value.syncSetting.simpleCronValue<1||a.value.syncSetting.simpleCronValue>59)&&(_.warning(l("cron.minute_limit")),a.value.syncSetting.simpleCronValue=59),a.value.syncSetting.cron="0 0/"+a.value.syncSetting.simpleCronValue+" * * * ? *";return}if(a.value.syncSetting.simpleCronType==="hour"){(a.value.syncSetting.simpleCronValue<1||a.value.syncSetting.simpleCronValue>23)&&(_.warning(l("cron.hour_limit")),a.value.syncSetting.simpleCronValue=23),a.value.syncSetting.cron="0 0 0/"+a.value.syncSetting.simpleCronValue+" * * ? *";return}if(a.value.syncSetting.simpleCronType==="day"){(a.value.syncSetting.simpleCronValue<1||a.value.syncSetting.simpleCronValue>31)&&(_.warning(l("cron.day_limit")),a.value.syncSetting.simpleCronValue=31),a.value.syncSetting.cron="0 0 0 1/"+a.value.syncSetting.simpleCronValue+" * ? *";return}},X=T(),Re={"syncSetting.updateType":[{required:!0,message:l("datasource.update_type"),trigger:"change"}],"syncSetting.syncRate":[{required:!0,message:l("datasource.sync_rate"),trigger:"change"}],"syncSetting.simpleCronValue":[{required:!0,message:l("auth.set_rules"),trigger:"change"}],"syncSetting.cron":[{required:!0,message:l("common.cron_exp"),trigger:"change"}],"syncSetting.startTime":[{required:!0,message:l("datasource.start_time"),trigger:"change"}]},se=i=>{var o;D.value=i.value;const t=(o=E.excelData[0])==null?void 0:o.sheets.find(n=>n.sheetId===i.value);be(t)},be=i=>{i.sheet&&(Object.assign(K,i),C.value=Ne(i.fields),R.value=C.value.filter(t=>t.checked),$.value="preview")},Z={TEXT:"text",DATETIME:"time",LONG:"value",DOUBLE:"value"},Ne=i=>i.map(t=>({key:t.originName,fieldType:t.fieldType,dataKey:t.originName,title:t.name,checked:t.checked,primaryKey:t.primaryKey,length:t.length,width:150})),Oe=()=>{B.value.validate(i=>{if(i){const t=JSON.parse(JSON.stringify(a.value.configuration));return t.userName=ae.encode(t.userName),t.passwd=ae.encode(t.passwd),t.datasourceId=a.value.id||0,t.editType=a.value.editType,b.value=!0,gt(t).then(o=>{b.value=!1,De(o),b.value=!1}).catch(o=>{E.excelData=[],D.value="",L.value=[],Object.assign(K,I(M)),o.code==="ECONNABORTED"&&_({type:"error",message:o.message,showClose:!0}),b.value=!1})}})},De=i=>{if(!i){E.excelData=[],D.value="",L.value=[],Object.assign(K,I(M)),_.warning(i.msg);return}if((i==null?void 0:i.code)!==0){E.excelData=[],D.value="",L.value=[],Object.assign(K,I(M)),_.warning(i.msg);return}C.value=[],Object.assign(K,I(M)),R.value=[],he.value=!1,a.value.name||(a.value.name=i.data.excelLabel),L.value=i.data.sheets.map(o=>{const{sheetId:n,tableName:r,newSheet:c}=o;return{value:n,label:r,newSheet:c}}),E.excelData=[i.data];const[t]=L.value;t&&se(t)},re=i=>{$.value=i,i==="select"&&te(()=>{var t;G.value=!0;for(let o=0;o<C.value.length;o++)C.value[o].checked&&((t=P==null?void 0:P.value)==null||t.toggleRowSelection(C.value[o],!0));G.value=!1})},Ce=i=>{var t;G.value||(R.value=i,R.value.forEach(n=>{n.checked=!0}),C.value.forEach(n=>{let r;for(let c=0;c<R.value.length;c++)n.dataKey===R.value[c].dataKey&&(r=R.value[c]);r?n.checked=r.checked:n.checked=!1}),((t=E.excelData[0])==null?void 0:t.sheets.find(n=>n.sheetId===D.value)).fields.forEach(n=>{let r;for(let c=0;c<R.value.length;c++)n.originName===R.value[c].dataKey&&(r=R.value[c]);r?n.checked=r.checked:n.checked=!1}))},Fe=i=>{var o;((o=E.excelData[0])==null?void 0:o.sheets.find(n=>n.sheetId===D.value)).fields.forEach(n=>{n.originName===i.dataKey&&(n.length=i.length)})},Ie=i=>{var o;((o=E.excelData[0])==null?void 0:o.sheets.find(n=>n.sheetId===D.value)).fields.forEach(n=>{n.originName===i.dataKey&&(n.primaryKey=i.primaryKey)})},Ke=i=>{if(!i.checked||i.fieldType!=="TEXT")return!0},Le=(i,t,o)=>{var A;let n=[],r=[],c=!1,y=!1,m=(A=E.excelData[0])==null?void 0:A.sheets;for(let p=0;p<m.length;p++)if(m[p].sheet){if(m[p].effectExtField&&(c=!0),m[p].changeFiled&&(y=!0),m[p].fields.filter(h=>h.checked).length==0){_({message:m[p].excelLabel+l("datasource.api_field_not_empty"),type:"error"}),o==null||o();return}for(let h=0;h<m[p].fields.length;h++)if(m[p].fields[h].checked&&m[p].fields[h].primaryKey&&!m[p].fields[h].length&&m[p].fields[h].deExtractType===0){_({message:l("datasource.primary_key_length")+m[p].excelLabel+": "+m[p].fields[h].name,type:"error"}),o==null||o();return}n.push(m[p]),r.push(m[p].fieldsMd5)}if(!n.length){_({message:l("dataset.ple_select_excel"),type:"error"}),o==null||o();return}let F={};i&&(a.value.name=i.name),a.value.configuration.sheets=n,w.form.id?F={id:w.form.id,name:w.form.name,type:"ExcelRemote",configuration:JSON.parse(JSON.stringify(a.value.configuration)),editType:w.form.editType?w.form.editType:0}:F={id:w.form.id,name:w.form.name,type:"ExcelRemote",configuration:JSON.parse(JSON.stringify(a.value.configuration)),editType:0},F.syncSetting=a.value.syncSetting,w.form.editType===0&&w.form.id&&(c||y)?pe.confirm(l("deDataset.replace_the_data"),{confirmButtonText:l("dataset.confirm"),tip:l("data_source.to_replace_it"),cancelButtonText:"Cancel",confirmButtonType:"primary",type:"warning",autofocus:!1,showClose:!1,callback:p=>{p==="confirm"&&ue(r,F,i,t,o)}}):ue(r,F,i,t,o)},ue=(i,t,o,n,r)=>{for(let y=0;y<t.configuration.sheets.length;y++)t.configuration.sheets[y].data=[],t.configuration.sheets[y].jsonArray=[];t.configuration=ae.encode(JSON.stringify(t.configuration)),t.syncSetting.startTime=new Date(t.syncSetting.startTime).getTime(),t.syncSetting.endTime=new Date(t.syncSetting.endTime).getTime();let c=yt;if(!t.id||t.id==="0"?(delete t.id,t.pid=o.pid):c=_t,new Set(i).size!==i.length&&!w.form.id)pe.confirm(l("dataset.merge_title"),{confirmButtonText:l("dataset.merge"),tip:l("dataset.task.excel_replace_msg"),cancelButtonText:l("dataset.no_merge"),confirmButtonType:"primary",type:"warning",autofocus:!1,callback:y=>{y!=="close"&&(b.value=!0,t.mergeSheet=y==="confirm",y==="confirm"&&c(t).then(m=>{W.emit("showFinishPage",m),n==null||n(),_({message:l("commons.save_success"),type:"success"})}).finally(()=>{r==null||r(),b.value=!1}),y==="cancel"&&c(t).then(m=>{W.emit("showFinishPage",m),n==null||n(),_({message:l("commons.save_success"),type:"success"})}).finally(()=>{r==null||r(),b.value=!1}))}});else{if(b.value)return;b.value=!0,c(t).then(y=>{W.emit("showFinishPage",y),n==null||n(),_({message:l("commons.save_success"),type:"success"})}).finally(()=>{r==null||r(),b.value=!1})}};return _e({submitForm:xe,resetForm:we,initForm:Se,clearForm:ke,submitSyncSettingForm:Te,validateExcel:Ve,saveExcelDs:Le}),(i,t)=>{const o=$e,n=qe,r=Pe,c=ze,y=Ae,m=Je,F=Ge,A=We,p=He,h=Xe,de=Ze,Y=Ye,Ue=Qe,Me=et,ce=tt,Be=it("loading");return f(),q("div",Vt,[V("div",kt,[V("div",wt,[V("div",{class:j([e(g)===1&&"active","info-text"])},v(e(l)("data_source.source_configuration_information")),3),t[21]||(t[21]=V("div",{class:"update-info-line"},null,-1)),V("div",{class:j([e(g)===2&&"active","update-text"])},v(e(l)("data_source.data_update_settings")),3)]),N(V("div",{class:"title-form_primary base-info"},v(e(l)("datasource.basic_info")),513),[[O,e(g)!==2]]),N((f(),S(e(me),{ref_key:"remoteExcelForm",ref:B,onSubmit:t[5]||(t[5]=st(()=>{},["prevent"])),model:e(a),rules:oe.value,"label-width":"180px","label-position":"top","require-asterisk-position":"right"},{default:d(()=>[N(u(n,{label:e(l)("data_source.data_source_name"),prop:"name"},{default:d(()=>[u(o,{modelValue:e(a).name,"onUpdate:modelValue":t[0]||(t[0]=s=>e(a).name=s),autocomplete:"off",placeholder:e(l)("data_source.data_source_name_de")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[O,e(g)!==2]]),N(u(n,{label:e(l)("datasource.remote_excel_url"),prop:"configuration.url"},{default:d(()=>[u(o,{modelValue:e(a).configuration.url,"onUpdate:modelValue":t[1]||(t[1]=s=>e(a).configuration.url=s),autocomplete:"off",placeholder:e(l)("datasource.remote_excel_url_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[O,e(g)!==2]]),N(u(n,{label:e(l)("datasource.username")},{default:d(()=>[u(o,{modelValue:e(a).configuration.userName,"onUpdate:modelValue":t[2]||(t[2]=s=>e(a).configuration.userName=s),autocomplete:"off",placeholder:e(l)("datasource.please_input_user_name")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),[[O,e(g)!==2]]),N(u(n,{label:e(l)("datasource.password")},{default:d(()=>[u(e(ht),{placeholder:e(l)("common.inputText")+e(l)("common.empty")+ +e(l)("datasource.password"),"show-password":"",type:"password",modelValue:e(a).configuration.passwd,"onUpdate:modelValue":t[3]||(t[3]=s=>e(a).configuration.passwd=s)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),[[O,e(g)!==2]]),N(u(n,null,{default:d(()=>[u(r,{type:"primary",onClick:t[4]||(t[4]=s=>Oe())},{default:d(()=>[k(v(e(l)("datasource.load_data")),1)]),_:1})]),_:1},512),[[O,e(g)!==2]])]),_:1},8,["model","rules"])),[[Be,b.value],[O,e(g)!==2]]),D.value?(f(),q(rt,{key:0},[N(V("div",{class:"title-form_primary"},v(e(l)("chart.data_preview")),513),[[O,e(g)!==2]]),N(u(ft,{activeTab:D.value,onTabClick:se,"tab-list":L.value},null,8,["activeTab","tab-list"]),[[O,e(g)!==2]]),e(a).editType===0?N((f(),q("div",Et,[V("div",Rt,[u(r,{onClick:t[6]||(t[6]=s=>re("preview")),class:j([$.value==="preview"&&"is-active"]),text:""},{default:d(()=>[k(v(e(l)("chart.data_preview")),1)]),_:1},8,["class"]),u(r,{onClick:t[7]||(t[7]=s=>re("select")),class:j([$.value==="select"&&"is-active"]),text:""},{default:d(()=>[k(v(e(l)("data_set.field_selection")),1)]),_:1},8,["class"])])],512)),[[O,e(g)!==2]]):x("",!0),J.value?N((f(),q("div",{key:1,class:j(["info-table",e(a).editType===0&&"info-table_height"])},[$.value==="preview"?(f(),S(y,{key:0},{default:d(({height:s,width:U})=>[u(c,{columns:R.value,"header-class":"excel-header-cell",data:K.jsonArray,width:U,height:s,fixed:""},null,8,["columns","data","width","height"])]),_:1})):(f(),S(p,{key:1,"header-class":"header-cell",ref_key:"multipleTable",ref:P,data:C.value,style:{width:"100%"},onSelectionChange:Ce},{default:d(()=>[u(m,{type:"selection",width:"55"}),u(m,{label:e(l)("data_set.field_name")},{default:d(s=>[k(v(s.row.title),1)]),_:1},8,["label"]),u(m,{label:e(l)("data_set.field_type")},{default:d(s=>[V("div",bt,[u(e(je),null,{default:d(()=>[u(e(ct),null,{default:d(()=>[(f(),S(ut(e(mt)[Z[s.row.fieldType]]),{class:j(`svg-icon field-icon-${Z[s.row.fieldType]}`)},null,8,["class"]))]),_:2},1024)]),_:2},1024),k(" "+v(e(l)(`dataset.${Z[s.row.fieldType]}`)),1)])]),_:1},8,["label"]),e(a).editType===0?(f(),S(m,{key:0,prop:"length",label:e(l)("datasource.length")},{default:d(s=>[u(F,{disabled:Ke(s.row),modelValue:s.row.length,"onUpdate:modelValue":U=>s.row.length=U,autocomplete:"off","step-strictly":"",class:"text-left edit-all-line",min:1,max:512,placeholder:e(l)("common.inputText"),"controls-position":"right",type:"number",onChange:U=>Fe(s.row)},null,8,["disabled","modelValue","onUpdate:modelValue","placeholder","onChange"])]),_:1},8,["label"])):x("",!0),e(a).editType===0&&e(ve)?(f(),S(m,{key:1,prop:"primaryKey","class-name":"checkbox-table",label:e(l)("datasource.set_key"),width:"100"},{default:d(s=>[(f(),S(A,{key:s.row.dataKey,modelValue:s.row.primaryKey,"onUpdate:modelValue":U=>s.row.primaryKey=U,disabled:!s.row.checked,onChange:U=>Ie(s.row)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"]))]),_:1},8,["label"])):x("",!0)]),_:1},8,["data"]))],2)),[[O,e(g)!==2]]):x("",!0)],64)):x("",!0),u(e(me),{ref_key:"dsApiForm",ref:X,model:e(a),style:{"margin-top":"24px"},rules:Re,"label-width":"180px","label-position":"top","require-asterisk-position":"right"},{default:d(()=>[e(g)===2?(f(),S(n,{key:0,label:e(l)("datasource.update_type"),prop:"syncSetting.updateType"},{default:d(()=>[u(de,{modelValue:e(a).syncSetting.updateType,"onUpdate:modelValue":t[8]||(t[8]=s=>e(a).syncSetting.updateType=s)},{default:d(()=>[u(h,{label:"add_scope"},{default:d(()=>[k(v(e(l)("data_source.append_data")),1)]),_:1}),u(h,{label:"all_scope"},{default:d(()=>[k(v(e(l)("data_source.replace_data")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):x("",!0),e(g)===2?(f(),S(n,{key:1,label:e(l)("datasource.sync_rate"),prop:"syncSetting.syncRate"},{default:d(()=>[u(de,{modelValue:e(a).syncSetting.syncRate,"onUpdate:modelValue":t[9]||(t[9]=s=>e(a).syncSetting.syncRate=s),onChange:Ee},{default:d(()=>[u(h,{label:"RIGHTNOW"},{default:d(()=>[k(v(e(l)("data_source.update_now")),1)]),_:1}),u(h,{label:"CRON"},{default:d(()=>[k(v(e(l)("datasource.cron_config")),1)]),_:1}),u(h,{label:"SIMPLE_CRON"},{default:d(()=>[k(v(e(l)("datasource.simple_cron")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])):x("",!0),e(g)===2&&e(a).syncSetting.syncRate!=="RIGHTNOW"?(f(),q("div",Nt,[e(a).syncSetting.syncRate==="SIMPLE_CRON"?(f(),S(n,{key:0,label:e(l)("auth.set_rules"),prop:"syncSetting.simpleCronValue"},{default:d(()=>[V("div",Ot,[k(v(e(l)("common.every"))+" ",1),u(F,{modelValue:e(a).syncSetting.simpleCronValue,"onUpdate:modelValue":t[10]||(t[10]=s=>e(a).syncSetting.simpleCronValue=s),"controls-position":"right",min:1,onChange:t[11]||(t[11]=s=>ie())},null,8,["modelValue"]),u(Ue,{modelValue:e(a).syncSetting.simpleCronType,"onUpdate:modelValue":t[12]||(t[12]=s=>e(a).syncSetting.simpleCronType=s),filterable:"",onChange:t[13]||(t[13]=s=>ie())},{default:d(()=>[u(Y,{label:e(l)("common.minute"),value:"minute"},null,8,["label"]),u(Y,{label:e(l)("common.hour"),value:"hour"},null,8,["label"]),u(Y,{label:e(l)("common.day"),value:"day"},null,8,["label"])]),_:1},8,["modelValue"]),k(" "+v(e(l)("data_source.update_once")),1)])]),_:1},8,["label"])):x("",!0),e(a).syncSetting.syncRate==="CRON"?(f(),S(n,{key:1,prop:"syncSetting.cron"},{default:d(()=>[u(Me,{width:834,modelValue:z.value,"onUpdate:modelValue":t[18]||(t[18]=s=>z.value=s),trigger:"click"},{default:d(()=>[V("div",Dt,[H.value?(f(),S(pt,{key:0,modelValue:e(a).syncSetting.cron,"onUpdate:modelValue":t[14]||(t[14]=s=>e(a).syncSetting.cron=s),"is-rate":e(a).syncRate==="CRON",onClose:t[15]||(t[15]=s=>z.value=!1)},null,8,["modelValue","is-rate"])):x("",!0)])]),reference:d(()=>[u(o,{modelValue:e(a).syncSetting.cron,"onUpdate:modelValue":t[16]||(t[16]=s=>e(a).syncSetting.cron=s),onClick:t[17]||(t[17]=s=>z.value=!0)},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})):x("",!0),e(a).syncSetting.syncRate!=="RIGHTNOW"?(f(),S(n,{key:2,label:e(l)("datasource.start_time"),prop:"syncSetting.startTime"},{default:d(()=>[u(ce,{modelValue:e(a).syncSetting.startTime,"onUpdate:modelValue":t[19]||(t[19]=s=>e(a).syncSetting.startTime=s),class:"de-date-picker","prefix-icon":e(ge),type:"datetime",placeholder:e(l)("datasource.start_time")},null,8,["modelValue","prefix-icon","placeholder"])]),_:1},8,["label"])):x("",!0),e(a).syncSetting.syncRate!=="RIGHTNOW"?(f(),S(n,{key:3,label:e(l)("datasource.end_time"),prop:"syncSetting.endLimit"},{default:d(()=>[V("div",Ct,[u(ce,{modelValue:e(a).syncSetting.endTime,"onUpdate:modelValue":t[20]||(t[20]=s=>e(a).syncSetting.endTime=s),class:"de-date-picker","prefix-icon":e(ge),type:"datetime",placeholder:e(l)("datasource.end_time")},null,8,["modelValue","prefix-icon","placeholder"])])]),_:1},8,["label"])):x("",!0)])):x("",!0)]),_:1},8,["model"])])])}}});const Wa=Tt(Ft,[["__scopeId","data-v-7cd20f5d"]]);export{Wa as default};

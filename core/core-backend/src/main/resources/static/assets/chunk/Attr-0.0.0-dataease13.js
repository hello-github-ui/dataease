import"./index-0.0.0-dataease.js";import{E as $}from"./el-collapse-item-0.0.0-dataease.js";import{a as Z}from"./el-form-item-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{E as H,a as J}from"./el-radio-0.0.0-dataease.js";import{o as K,j as Q,D as X,y as Y}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{E as ee}from"./el-row-0.0.0-dataease.js";import{E as te}from"./el-col-0.0.0-dataease.js";import{E as oe}from"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import{d as ae,ah as le,r as p,Z as ie,G as re,w as se,o as me,a as pe,e as ne,f as d,L as S,M as ue,k as t,i as o,T as ce,W as de,j as e,U as f,a6 as n,a0 as V,g as w,a5 as _}from"./vue-0.0.0-dataease.js";import{C as fe}from"./CommonAttr-0.0.0-dataease.js";import{d as _e}from"./dvMain-0.0.0-dataease.js";import{s as ve}from"./snapshot-0.0.0-dataease.js";import{b as ge,u as x,i as I}from"./imgUtils-0.0.0-dataease.js";import{e as U}from"./eventBus-0.0.0-dataease.js";import he from"./ImgViewDialog-0.0.0-dataease.js";import{_ as ye}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./index-0.0.0-dataease13.js";import"./index-0.0.0-dataease3.js";import"./library-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import"./el-checkbox-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./index-0.0.0-dataease17.js";import"./attr-0.0.0-dataease20.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease.js";import"./formatter-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./canvasUtils-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./ModelUtil-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-select-0.0.0-dataease.js";import"./index-0.0.0-dataease16.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./el-popper-0.0.0-dataease.js";import"./el-radio-button-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./BackgroundOverallCommon-0.0.0-dataease.js";import"./board-list-0.0.0-dataease.js";import"./el-space-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./icon_italic_outlined-0.0.0-dataease.js";import"./icon_right-alignment_outlined-0.0.0-dataease.js";import"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./CollapseSwitchItem-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";import"./el-tabs-0.0.0-dataease.js";import"./index-0.0.0-dataease19.js";import"./index-0.0.0-dataease20.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./dataset-0.0.0-dataease.js";import"./el-dialog-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";const Ce={class:"attr-list de-collapse-style"},Ve=15e6,ke=ae({__name:"Attr",props:{themes:{type:String,default:"dark"}},setup(i){const{t:r}=K(),R=i,B=_e(),u=ve(),{curComponent:a,mobileInPc:M}=le(B),c=p([]),k=p(""),v=p(!1),b=p(!1),E=p(null);ie({});const j=s=>{k.value=s.url,v.value=!0},P=(s,l)=>{b.value=!1,a.value.propValue.url=null,l.value=[],u.recordSnapshotCache("handleRemove")};async function D(s){x(s.file,l=>{u.recordSnapshotCache("pic-upload"),a.value.propValue.url=l})}const A=()=>{u.recordSnapshotCache("pic-onStyleChange")},g=()=>{E.value.click()},F=s=>{const l=s.target.files[0];if(l.size>Ve){N();return}x(l,h=>{u.recordSnapshotCache("uploadFileResult"),a.value.propValue.url=h,c.value=[{url:I(a.value.propValue.url)}]})},N=()=>{X.success("图片大小不能超过15M")},z=()=>{a.value.propValue.url?c.value=[{url:I(a.value.propValue.url)}]:c.value=[]};return re(()=>R.themes==="dark"?"ndark":"dark"),se(()=>a.value.propValue.url,()=>{z()}),me(()=>{z(),U.on("uploadImg",g)}),pe(()=>{U.off("uploadImg",g)}),(s,l)=>{const h=ne("Plus"),T=oe,q=te,y=ee,W=Y,C=H,G=J,L=Z,O=$;return d(),S("div",Ce,[ue("input",{id:"input",ref_key:"files",ref:E,type:"file",accept:".jpeg,.jpg,.png,.gif,.svg",hidden:"",onClick:l[0]||(l[0]=m=>{m.target.value=""}),onChange:F},null,544),t(fe,{themes:i.themes,element:e(a),"background-color-picker-width":197,"background-border-select-width":197},{default:o(()=>[ce(t(O,{effect:i.themes,title:e(r)("visualization.picture"),name:"picture"},{default:o(()=>[t(y,{class:f(["img-area",`img-area_${i.themes}`])},{default:o(()=>[t(q,{style:{width:"130px !important"}},{default:o(()=>[t(T,{themes:i.themes,action:"",accept:".jpeg,.jpg,.png,.gif,.svg",class:f(["avatar-uploader",{disabled:b.value}]),"list-type":"picture-card","on-preview":j,"on-remove":P,"before-upload":e(ge),"http-request":D,"file-list":c.value},{default:o(()=>[t(e(Q),null,{default:o(()=>[t(h)]),_:1})]),_:1},8,["themes","class","before-upload","file-list"]),t(he,{modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=m=>v.value=m),"image-url":k.value},null,8,["modelValue","image-url"])]),_:1})]),_:1},8,["class"]),t(y,null,{default:o(()=>[e(a).propValue.url?V("",!0):(d(),S("span",{key:0,style:{"margin-top":"2px"},class:f(["image-hint",`image-hint_${i.themes}`])},n(e(r)("visualization.pic_upload_tips2")),3)),e(a).propValue.url?(d(),w(W,{key:1,size:"small",style:{margin:"8px 0 0 -4px"},text:"",onClick:g},{default:o(()=>[_(n(e(r)("visualization.re_upload")),1)]),_:1})):V("",!0)]),_:1}),t(y,{class:"pic-adaptor"},{default:o(()=>[e(a).style.adaptation?(d(),w(L,{key:0,class:f(["form-item","form-item-"+i.themes]),label:e(r)("visualization.pic_adaptor_type"),size:"small",effect:i.themes},{default:o(()=>[t(G,{size:"small",modelValue:e(a).style.adaptation,"onUpdate:modelValue":l[2]||(l[2]=m=>e(a).style.adaptation=m),onChange:A,effect:i.themes},{default:o(()=>[t(C,{label:"adaptation",effect:i.themes},{default:o(()=>[_(n(e(r)("visualization.pic_adaptation")),1)]),_:1},8,["effect"]),t(C,{label:"original",effect:i.themes},{default:o(()=>[_(n(e(r)("visualization.pic_original")),1)]),_:1},8,["effect"]),t(C,{label:"equiratio",effect:i.themes},{default:o(()=>[_(n(e(r)("visualization.pic_equiratio")),1)]),_:1},8,["effect"])]),_:1},8,["modelValue","effect"])]),_:1},8,["label","effect","class"])):V("",!0)]),_:1})]),_:1},8,["effect","title"]),[[de,!e(M)]])]),_:1},8,["themes","element"])])}}});const $t=ye(ke,[["__scopeId","data-v-ea06fd7d"]]);export{$t as default};

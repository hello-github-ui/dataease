import"./index-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import{o as P,G as q}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import{E as M,a as j}from"./el-select-0.0.0-dataease.js";import"./el-popper-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{E as K,a as Z}from"./el-radio-0.0.0-dataease.js";import{E as Y}from"./el-radio-button-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import{E as H}from"./el-slider-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import{a as Q,E as W}from"./el-form-item-0.0.0-dataease.js";import{E as X}from"./el-checkbox-0.0.0-dataease.js";import{d as $,w as ee,Z as te,G as F,r as oe,o as le,f as m,L as C,k as r,i as a,U as p,a5 as y,a6 as g,j as s,M as ae,a0 as d,g as h,Y as D,a9 as re,ab as E}from"./vue-0.0.0-dataease.js";import{O as ne,a as ie}from"./chart-0.0.0-dataease.js";import{e as _,i as se}from"./StringUtils-0.0.0-dataease.js";import{p as me}from"./util-0.0.0-dataease2.js";import{_ as fe}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./index-0.0.0-dataease3.js";import"./index-0.0.0-dataease16.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./position-0.0.0-dataease.js";import"./index-0.0.0-dataease17.js";import"./formatter-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";const ce={key:0},ue={style:{"padding-left":"22px"}},de=$({__name:"FunctionCfg",props:{chart:{type:Object,required:!0},themes:{type:String,default:"dark"},propertyInner:{type:Array}},emits:["onFunctionCfgChange"],setup(o,{emit:N}){const{t:n}=P(),i=o,O=N;ee(()=>i.chart.senior.functionCfg,()=>{S()},{deep:!0});const t=te({functionForm:JSON.parse(JSON.stringify(ne)),predefineColors:ie,showEmptyStrategy:!1}),c=()=>{O("onFunctionCfgChange",t.functionForm)},V=f=>{var e;return(e=i.propertyInner)==null?void 0:e.includes(f)},S=()=>{const f=JSON.parse(JSON.stringify(i.chart));if(f.senior){let e=me(f.senior);e.functionCfg&&(t.functionForm=e.functionCfg),B()}},U=F(()=>!(_(i.chart.type,"table-pivot","table-info","indicator")||i.chart.type.includes("chart-mix"))),k=F(()=>_(i.chart.type,"rich-text")),w=F(()=>V("emptyDataStrategy")&&se(i.chart.type,"table")&&t.functionForm.emptyDataStrategy!=="breakLine"),v=oe([]),B=()=>{if(w.value){v.value=[];let f;_(i.chart.type,"table-normal","table-pivot")&&(f=i.chart.yAxis),i.chart.type==="table-info"&&(f=i.chart.xAxis),f.forEach(e=>{e.groupType==="q"&&v.value.push({label:e.name,value:e.dataeaseName})})}},I=F(()=>_(i.chart.type,"circle-packing"));return le(()=>{S()}),(f,e)=>{const A=X,u=Q,L=H,x=Y,b=K,T=Z,z=q,R=M,J=j,G=W;return m(),C("div",{onKeydown:e[9]||(e[9]=E(()=>{},["stop"])),onKeyup:e[10]||(e[10]=E(()=>{},["stop"])),style:{width:"100%"}},[r(G,{ref:"functionForm",model:t.functionForm,"label-position":"top",onSubmit:e[8]||(e[8]=E(()=>{},["prevent"]))},{default:a(()=>[V("slider")?(m(),C("div",ce,[r(u,{class:p(["form-item form-item-checkbox","form-item-"+o.themes])},{default:a(()=>[r(A,{effect:o.themes,size:"small",modelValue:t.functionForm.sliderShow,"onUpdate:modelValue":e[0]||(e[0]=l=>t.functionForm.sliderShow=l),onChange:c},{default:a(()=>[y(g(s(n)("chart.slider")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),ae("div",ue,[r(u,{label:s(n)("chart.slider_range")+"(%)",class:p(["form-item range-slider form-item-checkbox","form-item-"+o.themes])},{default:a(()=>[r(L,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderRange,"onUpdate:modelValue":e[1]||(e[1]=l=>t.functionForm.sliderRange=l),style:{width:"90%","margin-top":"-8px"},min:0,max:100,"input-size":"small",range:"",onChange:c},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"]),r(u,{label:s(n)("chart.slider_bg"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderBg,"onUpdate:modelValue":e[2]||(e[2]=l=>t.functionForm.sliderBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),r(u,{label:s(n)("chart.slider_fill_bg"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderFillBg,"onUpdate:modelValue":e[3]||(e[3]=l=>t.functionForm.sliderFillBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),r(u,{label:s(n)("chart.slider_text_color"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderTextColor,"onUpdate:modelValue":e[4]||(e[4]=l=>t.functionForm.sliderTextColor=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"])])])):d("",!0),V("emptyDataStrategy")?(m(),h(u,{key:1,label:s(n)("chart.empty_data_strategy"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(T,{effect:o.themes,modelValue:t.functionForm.emptyDataStrategy,"onUpdate:modelValue":e[5]||(e[5]=l=>t.functionForm.emptyDataStrategy=l),onChange:c},{default:a(()=>[r(b,{effect:o.themes,label:"breakLine"},{default:a(()=>[y(g(k.value?s(n)("visualization.set_as_tips")+'"-"':s(n)("chart.break_line")),1)]),_:1},8,["effect"]),k.value?(m(),h(b,{key:0,effect:o.themes,label:"custom"},{default:a(()=>[y(g(s(n)("visualization.custom")),1)]),_:1},8,["effect"])):d("",!0),k.value?d("",!0):(m(),C(D,{key:1},[I.value?d("",!0):(m(),h(b,{key:0,effect:o.themes,label:"setZero"},{default:a(()=>[y(g(s(n)("chart.set_zero")),1)]),_:1},8,["effect"])),U.value?(m(),h(b,{key:1,effect:o.themes,label:"ignoreData"},{default:a(()=>[y(g(s(n)("chart.ignore_data")),1)]),_:1},8,["effect"])):d("",!0)],64))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):d("",!0),r(u,null,{default:a(()=>[t.functionForm.emptyDataStrategy==="custom"?(m(),h(z,{key:0,effect:o.themes,modelValue:t.functionForm.emptyDataCustomValue,"onUpdate:modelValue":e[6]||(e[6]=l=>t.functionForm.emptyDataCustomValue=l),class:"value-item",onChange:c,placeholder:"请输入自定义值",clearable:""},null,8,["effect","modelValue"])):d("",!0)]),_:1}),w.value?(m(),h(u,{key:2,label:s(n)("chart.empty_data_field_ctrl"),class:p(["form-item","form-item-"+o.themes])},{default:a(()=>[r(J,{effect:o.themes,modelValue:t.functionForm.emptyDataFieldCtrl,"onUpdate:modelValue":e[7]||(e[7]=l=>t.functionForm.emptyDataFieldCtrl=l),multiple:"",onChange:c},{default:a(()=>[(m(!0),C(D,null,re(v.value,l=>(m(),h(R,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):d("",!0)]),_:1},8,["model"])],32)}}});const Ze=fe(de,[["__scopeId","data-v-09003677"]]);export{Ze as default};

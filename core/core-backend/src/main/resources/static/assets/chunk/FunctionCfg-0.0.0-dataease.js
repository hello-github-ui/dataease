import{z as M,w as q,F as j,M as G,O as K,P as Z,r as Y,x as H,y as Q,v as W}from"./element-plus-secondary-0.0.0-dataease.js";import{d as X,w as $,l as ee,k as F,r as te,b as oe,o as s,c as C,a0 as a,_ as r,z as p,a4 as y,a2 as g,u as m,a as le,Y as d,Z as h,M as D,ab as re,a1 as S}from"./@vue-0.0.0-dataease.js";import{j as ae}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{O as ie,a as ne}from"./chart-0.0.0-dataease.js";import{e as _,i as me}from"./StringUtils-0.0.0-dataease.js";import{p as se}from"./util-0.0.0-dataease2.js";import{_ as fe}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./lodash-es-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./escape-html-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./pinia-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./index-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./vue-router-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./formatter-0.0.0-dataease.js";import"./chart-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";const ce={key:0},ue={style:{"padding-left":"22px"}},de=X({__name:"FunctionCfg",props:{chart:{type:Object,required:!0},themes:{type:String,default:"dark"},propertyInner:{type:Array}},emits:["onFunctionCfgChange"],setup(o,{emit:O}){const{t:i}=ae(),n=o,N=O;$(()=>n.chart.senior.functionCfg,()=>{w()},{deep:!0});const t=ee({functionForm:JSON.parse(JSON.stringify(ie)),predefineColors:ne,showEmptyStrategy:!1}),c=()=>{N("onFunctionCfgChange",t.functionForm)},V=f=>{var e;return(e=n.propertyInner)==null?void 0:e.includes(f)},w=()=>{const f=JSON.parse(JSON.stringify(n.chart));if(f.senior){let e=se(f.senior);e.functionCfg&&(t.functionForm=e.functionCfg),z()}},U=F(()=>!(_(n.chart.type,"table-pivot","table-info","indicator")||n.chart.type.includes("chart-mix"))),v=F(()=>_(n.chart.type,"rich-text")),E=F(()=>V("emptyDataStrategy")&&me(n.chart.type,"table")&&t.functionForm.emptyDataStrategy!=="breakLine"),k=te([]),z=()=>{if(E.value){k.value=[];let f;_(n.chart.type,"table-normal","table-pivot")&&(f=n.chart.yAxis),n.chart.type==="table-info"&&(f=n.chart.xAxis),f.forEach(e=>{e.groupType==="q"&&k.value.push({label:e.name,value:e.dataeaseName})})}},B=F(()=>_(n.chart.type,"circle-packing"));return oe(()=>{w()}),(f,e)=>{const I=M,u=q,A=j,x=G,b=K,T=Z,L=Y,R=H,J=Q,P=W;return s(),C("div",{onKeydown:e[9]||(e[9]=S(()=>{},["stop"])),onKeyup:e[10]||(e[10]=S(()=>{},["stop"])),style:{width:"100%"}},[a(P,{ref:"functionForm",model:t.functionForm,"label-position":"top",onSubmit:e[8]||(e[8]=S(()=>{},["prevent"]))},{default:r(()=>[V("slider")?(s(),C("div",ce,[a(u,{class:p(["form-item form-item-checkbox","form-item-"+o.themes])},{default:r(()=>[a(I,{effect:o.themes,size:"small",modelValue:t.functionForm.sliderShow,"onUpdate:modelValue":e[0]||(e[0]=l=>t.functionForm.sliderShow=l),onChange:c},{default:r(()=>[y(g(m(i)("chart.slider")),1)]),_:1},8,["effect","modelValue"])]),_:1},8,["class"]),le("div",ue,[a(u,{label:m(i)("chart.slider_range")+"(%)",class:p(["form-item range-slider form-item-checkbox","form-item-"+o.themes])},{default:r(()=>[a(A,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderRange,"onUpdate:modelValue":e[1]||(e[1]=l=>t.functionForm.sliderRange=l),style:{width:"90%","margin-top":"-8px"},min:0,max:100,"input-size":"small",range:"",onChange:c},null,8,["effect","disabled","modelValue"])]),_:1},8,["label","class"]),a(u,{label:m(i)("chart.slider_bg"),class:p(["form-item","form-item-"+o.themes])},{default:r(()=>[a(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderBg,"onUpdate:modelValue":e[2]||(e[2]=l=>t.functionForm.sliderBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),a(u,{label:m(i)("chart.slider_fill_bg"),class:p(["form-item","form-item-"+o.themes])},{default:r(()=>[a(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderFillBg,"onUpdate:modelValue":e[3]||(e[3]=l=>t.functionForm.sliderFillBg=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"]),a(u,{label:m(i)("chart.slider_text_color"),class:p(["form-item","form-item-"+o.themes])},{default:r(()=>[a(x,{effect:o.themes,disabled:!t.functionForm.sliderShow,modelValue:t.functionForm.sliderTextColor,"onUpdate:modelValue":e[4]||(e[4]=l=>t.functionForm.sliderTextColor=l),class:"color-picker-style",predefine:t.predefineColors,onChange:c,"is-custom":"","trigger-width":108},null,8,["effect","disabled","modelValue","predefine"])]),_:1},8,["label","class"])])])):d("",!0),V("emptyDataStrategy")?(s(),h(u,{key:1,label:m(i)("chart.empty_data_strategy"),class:p(["form-item","form-item-"+o.themes])},{default:r(()=>[a(T,{effect:o.themes,modelValue:t.functionForm.emptyDataStrategy,"onUpdate:modelValue":e[5]||(e[5]=l=>t.functionForm.emptyDataStrategy=l),onChange:c},{default:r(()=>[a(b,{effect:o.themes,label:"breakLine"},{default:r(()=>[y(g(v.value?m(i)("visualization.set_as_tips")+'"-"':m(i)("chart.break_line")),1)]),_:1},8,["effect"]),v.value?(s(),h(b,{key:0,effect:o.themes,label:"custom"},{default:r(()=>[y(g(m(i)("visualization.custom")),1)]),_:1},8,["effect"])):d("",!0),v.value?d("",!0):(s(),C(D,{key:1},[B.value?d("",!0):(s(),h(b,{key:0,effect:o.themes,label:"setZero"},{default:r(()=>[y(g(m(i)("chart.set_zero")),1)]),_:1},8,["effect"])),U.value?(s(),h(b,{key:1,effect:o.themes,label:"ignoreData"},{default:r(()=>[y(g(m(i)("chart.ignore_data")),1)]),_:1},8,["effect"])):d("",!0)],64))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):d("",!0),a(u,null,{default:r(()=>[t.functionForm.emptyDataStrategy==="custom"?(s(),h(L,{key:0,effect:o.themes,modelValue:t.functionForm.emptyDataCustomValue,"onUpdate:modelValue":e[6]||(e[6]=l=>t.functionForm.emptyDataCustomValue=l),class:"value-item",onChange:c,placeholder:"请输入自定义值",clearable:""},null,8,["effect","modelValue"])):d("",!0)]),_:1}),E.value?(s(),h(u,{key:2,label:m(i)("chart.empty_data_field_ctrl"),class:p(["form-item","form-item-"+o.themes])},{default:r(()=>[a(J,{effect:o.themes,modelValue:t.functionForm.emptyDataFieldCtrl,"onUpdate:modelValue":e[7]||(e[7]=l=>t.functionForm.emptyDataFieldCtrl=l),multiple:"",onChange:c},{default:r(()=>[(s(!0),C(D,null,re(k.value,l=>(s(),h(R,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["effect","modelValue"])]),_:1},8,["label","class"])):d("",!0)]),_:1},8,["model"])],32)}}});const Ct=fe(de,[["__scopeId","data-v-09003677"]]);export{Ct as default};

import{p as Y,q as Ye,d as oe,e as xe,B as ot,h as Ze,G as $t,I as Lt,J as Et,K as Mt,r as Bt,w as nt,v as pt,L as Tt,o as Re,M as mt,x as Ht,y as jt,N as At,g as zt,C as ut,D as Ot,n as Ut}from"./element-plus-secondary-0.0.0-dataease.js";import{o as l,c as x,a,d as ee,t as Le,a0 as e,u as t,r as T,l as pe,k as W,b as be,e as Ft,M as Q,a2 as E,Z as H,_ as o,Y as z,W as ce,al as Pt,m as Zt,aa as Rt,n as de,z as U,a4 as O,ah as et,a1 as Nt,w as Wt,ak as at,X as Pe,ab as he,a3 as rt,j as Gt,$ as qt}from"./@vue-0.0.0-dataease.js";import{d as me}from"./dvMain-0.0.0-dataease.js";import{s as Ce}from"./pinia-0.0.0-dataease.js";import{_ as Jt,i as ft,j as Qt,D as Xt,h as Kt}from"./DePreview-0.0.0-dataease.js";import{D as Yt,_ as Se,b as eo,c as to,i as oo,d as no,U as ao,e as io,Q as lo,f as so,T as ro,g as co,M as po,h as mo,j as uo,k as fo,l as $e,O as vo,C as _o,a as ho,S as go,m as Co,n as Fe}from"./CanvasCacheDialog.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{a as bo,A as ge,j as ue,h as J,l as tt,t as yo,u as wo,r as _e}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import So from"./MobileConfigPanel-0.0.0-dataease.js";import{useAppStoreWithOut as vt}from"./app-0.0.0-dataease.js";import{a as _t,b as ht,u as le}from"./index-0.0.0-dataease.js";import{d as ko,a as xo}from"./MultiplexPreviewShow-0.0.0-dataease.js";import{i as Io}from"./chart-list-0.0.0-dataease.js";import{i as Do}from"./icon_copy_filled-0.0.0-dataease.js";import{i as Vo}from"./icon_left_outlined-0.0.0-dataease.js";import{i as $o}from"./PreviewHead.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import{e as q}from"./eventBus-0.0.0-dataease.js";import{s as Ie}from"./snapshot-0.0.0-dataease.js";import Lo from"./MultiplexingCanvas-0.0.0-dataease.js";import{c as Eo,a as Mo,b as Bo,j as To,k as Ho,q as jo,d as Xe,i as gt,f as Ao,o as zo}from"./canvasUtils-0.0.0-dataease.js";import{d as Oo}from"./DeShortcutKey-0.0.0-dataease.js";import Uo from"./DeResourceGroupOpt-0.0.0-dataease.js";import{_ as ne}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import Fo from"./DeAppApply-0.0.0-dataease.js";import Po from"./index-0.0.0-dataease16.js";import{g as Zo}from"./dataset-0.0.0-dataease.js";import{a as Ct,D as Ro}from"./chart-0.0.0-dataease.js";import{i as bt,b as No,u as ct}from"./imgUtils-0.0.0-dataease.js";import{c as yt,d as Wo}from"./canvasStyle-0.0.0-dataease.js";import{a as Go,d as qo,s as Jo}from"./dataVisualization-0.0.0-dataease.js";import{g as Qo}from"./util-0.0.0-dataease.js";import Xo from"./ImgViewDialog-0.0.0-dataease.js";import{i as Ko,a as Yo}from"./icon_italic_outlined-0.0.0-dataease.js";import{i as en,a as tn,b as on}from"./icon_right-alignment_outlined-0.0.0-dataease.js";import{i as nn,a as an,b as ln}from"./LegendSelector-0.0.0-dataease.js";import{e as wt,n as sn}from"./lodash-es-0.0.0-dataease.js";import{B as rn}from"./BackgroundOverallCommon-0.0.0-dataease.js";import cn from"./ChartStyleBatchSet-0.0.0-dataease.js";import{c as dn,a as dt}from"./CrossPermission-0.0.0-dataease.js";import{i as pn}from"./interactive-0.0.0-dataease.js";import{w as mn}from"./watermark-0.0.0-dataease.js";import{g as un}from"./js-base64-0.0.0-dataease.js";import{E as fn}from"./EmptyBackground-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./escape-html-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./index-0.0.0-dataease12.js";import"./jspdf-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./chart-0.0.0-dataease2.js";import"./formatter-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./@antv-0.0.0-dataease.js";import"./eventemitter3-0.0.0-dataease.js";import"./@mapbox-0.0.0-dataease.js";import"./pbf-0.0.0-dataease.js";import"./ieee754-0.0.0-dataease.js";import"./supercluster-0.0.0-dataease.js";import"./gl-matrix-0.0.0-dataease.js";import"./tslib-0.0.0-dataease.js";import"./topojson-client-0.0.0-dataease.js";import"./viewport-mercator-project-0.0.0-dataease.js";import"./@turf-0.0.0-dataease.js";import"./polygon-clipping-0.0.0-dataease.js";import"./splaytree-0.0.0-dataease.js";import"./robust-predicates-0.0.0-dataease.js";import"./d3-scale-0.0.0-dataease.js";import"./d3-collection-0.0.0-dataease.js";import"./d3-format-0.0.0-dataease.js";import"./d3-time-format-0.0.0-dataease.js";import"./d3-time-0.0.0-dataease.js";import"./d3-color-0.0.0-dataease.js";import"./d3-array-0.0.0-dataease.js";import"./earcut-0.0.0-dataease.js";import"./regl-0.0.0-dataease.js";import"./mapbox-gl-0.0.0-dataease.js";import"./d3-dsv-0.0.0-dataease.js";import"./geojson-vt-0.0.0-dataease.js";import"./hammerjs-0.0.0-dataease.js";import"./element-resize-detector-0.0.0-dataease.js";import"./batch-processor-0.0.0-dataease.js";import"./d3-hexbin-0.0.0-dataease.js";import"./detect-browser-0.0.0-dataease.js";import"./d3-ease-0.0.0-dataease.js";import"./d3-interpolate-0.0.0-dataease.js";import"./d3-timer-0.0.0-dataease.js";import"./fecha-0.0.0-dataease.js";import"./size-sensor-0.0.0-dataease.js";import"./d3-regression-0.0.0-dataease.js";import"./d3-hierarchy-0.0.0-dataease.js";import"./fmin-0.0.0-dataease.js";import"./pdfast-0.0.0-dataease.js";import"./mathjs-0.0.0-dataease.js";import"./decimal.js-0.0.0-dataease.js";import"./typed-function-0.0.0-dataease.js";import"./complex.js-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./exceljs-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./file-saver-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./less-0.0.0-dataease.js";import"./copy-anything-0.0.0-dataease.js";import"./is-what-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./Component-0.0.0-dataease16.js";import"./Component-0.0.0-dataease15.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./HandleMore.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./icon_more_outlined-0.0.0-dataease.js";import"./more_v-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./icon_drag_outlined-0.0.0-dataease.js";import"./icon_visible_outlined-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_warning_filled-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./vuedraggable-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./time-format-0.0.0-dataease.js";import"./time-format-dayjs-0.0.0-dataease.js";import"./attr-0.0.0-dataease20.js";import"./icon_admin_outlined-0.0.0-dataease.js";import"./vant-0.0.0-dataease.js";import"./@vant-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./Attr-0.0.0-dataease19.js";import"./CommonAttr-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./CollapseSwitchItem-0.0.0-dataease.js";import"./icon_replace_outlined-0.0.0-dataease.js";import"./icon_download_outlined-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./watermark-0.0.0-dataease2.js";import"./user-0.0.0-dataease.js";import"./jquery-0.0.0-dataease.js";import"./html-to-image-0.0.0-dataease.js";import"./ChartComponentS2-0.0.0-dataease.js";import"./ViewTrackBar-0.0.0-dataease.js";import"./ChartError-0.0.0-dataease.js";import"./LinkageSet-0.0.0-dataease.js";import"./dv-link-target-0.0.0-dataease.js";import"./dv-dashboard-spine-0.0.0-dataease.js";import"./dv-screen-spine-0.0.0-dataease.js";import"./CodeMirror-0.0.0-dataease2.js";import"./@codemirror-0.0.0-dataease.js";import"./@lezer-0.0.0-dataease.js";import"./style-mod-0.0.0-dataease.js";import"./crelt-0.0.0-dataease.js";import"./@marijn-0.0.0-dataease.js";import"./w3c-keyname-0.0.0-dataease.js";import"./codemirror-0.0.0-dataease.js";import"./dv-empty-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease14.js";import"./index-0.0.0-dataease17.js";import"./ChartComponentG2Plot-0.0.0-dataease.js";import"./PluginComponent.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./DrillPath-0.0.0-dataease.js";import"./DeRichTextView-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./@tinymce-0.0.0-dataease.js";import"./@npkg-0.0.0-dataease.js";import"./Component-0.0.0-dataease10.js";import"./ChartEmptyInfo-0.0.0-dataease.js";import"./chart-dark-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./Component-0.0.0-dataease11.js";import"./Attr-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease.js";import"./Component-0.0.0-dataease3.js";import"./board-list-0.0.0-dataease.js";import"./Attr.vue_vue_type_style_index_0_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease7.js";import"./Component-0.0.0-dataease5.js";import"./Attr-0.0.0-dataease5.js";import"./Component-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Component-0.0.0-dataease12.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease3.js";import"./Component.vue_vue_type_script_setup_true_lang-0.0.0-dataease2.js";import"./Attr-0.0.0-dataease8.js";import"./Component-0.0.0-dataease9.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease4.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease5.js";import"./Component-0.0.0-dataease8.js";import"./@videojs-player-0.0.0-dataease.js";import"./video.js-0.0.0-dataease.js";import"./global-0.0.0-dataease.js";import"./keycode-0.0.0-dataease.js";import"./safe-json-parse-0.0.0-dataease.js";import"./@videojs-0.0.0-dataease.js";import"./is-function-0.0.0-dataease.js";import"./url-toolkit-0.0.0-dataease.js";import"./videojs-vtt.js-0.0.0-dataease.js";import"./m3u8-parser-0.0.0-dataease.js";import"./mpd-parser-0.0.0-dataease.js";import"./@xmldom-0.0.0-dataease.js";import"./mux.js-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease6.js";import"./Component-0.0.0-dataease6.js";import"./flv.js-0.0.0-dataease.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease7.js";import"./Component-0.0.0-dataease13.js";import"./Attr-0.0.0-dataease16.js";import"./Attr.vue_vue_type_script_setup_true_lang-0.0.0-dataease8.js";import"./Attr-0.0.0-dataease12.js";import"./DatasetSelect-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./Threshold-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./LineThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";import"./Component-0.0.0-dataease2.js";import"./ModelUtil-0.0.0-dataease.js";import"./CustomColorStyleSelect-0.0.0-dataease.js";import"./GradientColorSelector-0.0.0-dataease.js";import"./icon_rename_outlined-0.0.0-dataease.js";import"./icon_more-vertical_outlined-0.0.0-dataease.js";import"./outerParams-0.0.0-dataease.js";import"./dv-info-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./vue-router-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./icon_pc_outlined-0.0.0-dataease.js";import"./MobileBackgroundSelector-0.0.0-dataease.js";import"./ComponentStyleEditor-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./visual-star-0.0.0-dataease.js";import"./DvDetailInfo-0.0.0-dataease.js";import"./ShareVisualHead-0.0.0-dataease.js";import"./share-0.0.0-dataease.js";import"./icon_close_outlined-0.0.0-dataease.js";import"./de-copy-0.0.0-dataease.js";import"./icon_refresh_outlined-0.0.0-dataease.js";import"./ShareTicket-0.0.0-dataease.js";import"./vue-clipboard3-0.0.0-dataease.js";import"./clipboard-0.0.0-dataease.js";import"./GridTable-0.0.0-dataease.js";import"./TicketEdit-0.0.0-dataease.js";import"./CustomLinkPwd-0.0.0-dataease.js";import"./TicketDialog-0.0.0-dataease.js";import"./DashboardPreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./DeResourceTree-0.0.0-dataease.js";import"./dv-dashboard-spine-mobile-0.0.0-dataease.js";import"./dv-rename-0.0.0-dataease.js";import"./icon_file-add_outlined-0.0.0-dataease.js";import"./icon_search-outline_outlined-0.0.0-dataease.js";import"./dv-sort-desc-0.0.0-dataease.js";import"./icon_operation-analysis_outlined-0.0.0-dataease.js";import"./ShareHandler-0.0.0-dataease.js";import"./DeResourceCreateOptV2.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./index-0.0.0-dataease13.js";import"./templateMarket-0.0.0-dataease.js";import"./MarketPreviewV2-0.0.0-dataease.js";import"./icon-filter-0.0.0-dataease.js";import"./TemplateMarketPreviewItem-0.0.0-dataease.js";import"./CategoryTemplateV2-0.0.0-dataease.js";import"./TemplateMarketV2Item-0.0.0-dataease.js";import"./TemplateSkeleton-0.0.0-dataease.js";import"./DeResourceArrow-0.0.0-dataease.js";import"./icon_right_outlined-0.0.0-dataease.js";import"./useMoveLine-0.0.0-dataease.js";import"./AppExportForm-0.0.0-dataease.js";import"./PreviewShow.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./DvPreview.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./nothing-tree-0.0.0-dataease.js";import"./icon_down_outlined-1-0.0.0-dataease.js";import"./icon_copy_outlined-0.0.0-dataease.js";import"./DimensionItem-0.0.0-dataease.js";import"./icon_sort_outlined-0.0.0-dataease.js";import"./icon_invisible_outlined-0.0.0-dataease.js";import"./utils-0.0.0-dataease.js";import"./QuotaItem-0.0.0-dataease.js";import"./DragPlaceholder-0.0.0-dataease.js";import"./FilterTree.vue_vue_type_style_index_0_lang-0.0.0-dataease.js";import"./RowAuth-0.0.0-dataease.js";import"./AuthTree-0.0.0-dataease.js";import"./FilterFiled-0.0.0-dataease.js";import"./TimeDialog-0.0.0-dataease.js";import"./options-0.0.0-dataease.js";import"./icon_down_outlined-0.0.0-dataease.js";import"./ChartStyle-0.0.0-dataease.js";import"./MiscSelector-0.0.0-dataease.js";import"./LabelSelector-0.0.0-dataease.js";import"./StringUtils-0.0.0-dataease.js";import"./TooltipSelector-0.0.0-dataease.js";import"./XAxisSelector-0.0.0-dataease.js";import"./YAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelector-0.0.0-dataease.js";import"./DualYAxisSelectorInner-0.0.0-dataease.js";import"./TitleSelector-0.0.0-dataease.js";import"./icon_letter-spacing_outlined-0.0.0-dataease.js";import"./BasicStyleSelector-0.0.0-dataease.js";import"./SymbolicStyleSelector-0.0.0-dataease.js";import"./DualBasicStyleSelector-0.0.0-dataease.js";import"./TableHeaderSelector-0.0.0-dataease.js";import"./TableHeaderGroupConfig-0.0.0-dataease.js";import"./vue-uuid-0.0.0-dataease.js";import"./uuid-0.0.0-dataease.js";import"./TableCellSelector-0.0.0-dataease.js";import"./TableTotalSelector-0.0.0-dataease.js";import"./CustomAggrEdit-0.0.0-dataease.js";import"./icon_adjustment_outlined-0.0.0-dataease.js";import"./MiscStyleSelector-0.0.0-dataease.js";import"./IndicatorValueSelector-0.0.0-dataease.js";import"./icon_bottom-align_outlined-0.0.0-dataease.js";import"./IndicatorNameSelector-0.0.0-dataease.js";import"./QuadrantSelector-0.0.0-dataease.js";import"./FlowMapLineSelector-0.0.0-dataease.js";import"./FlowMapPointSelector-0.0.0-dataease.js";import"./VQueryChartStyle-0.0.0-dataease.js";import"./Senior-0.0.0-dataease.js";import"./FunctionCfg-0.0.0-dataease.js";import"./ScrollCfg-0.0.0-dataease.js";import"./AssistLine-0.0.0-dataease.js";import"./AssistLineEdit-0.0.0-dataease.js";import"./MapMapping-0.0.0-dataease.js";import"./BubbleAnimateCfg-0.0.0-dataease.js";import"./QuotaFilterEditor-0.0.0-dataease.js";import"./ResultFilterEditor-0.0.0-dataease.js";import"./DrillItem-0.0.0-dataease.js";import"./ChartType-0.0.0-dataease.js";import"./CompareEdit-0.0.0-dataease.js";import"./ValueFormatterEdit-0.0.0-dataease.js";import"./CustomSortEdit-0.0.0-dataease.js";import"./SortPriorityEdit-0.0.0-dataease.js";import"./CalcFieldEdit-0.0.0-dataease.js";import"./ChartTemplateInfo-0.0.0-dataease.js";import"./field-calculated-list-0.0.0-dataease.js";import"./html2canvas-0.0.0-dataease.js";import"./snowflake-id-0.0.0-dataease.js";import"./datasource-0.0.0-dataease.js";import"./none-0.0.0-dataease.js";const vn={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function _n(j,i){return l(),x("svg",vn,i[0]||(i[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.6667 2.08398H17.0834C17.5436 2.08398 17.9167 2.45708 17.9167 2.91732V8.33398C17.9167 8.79422 17.5436 9.16732 17.0834 9.16732H11.6667C11.2065 9.16732 10.8334 8.79422 10.8334 8.33398V2.91732C10.8334 2.45708 11.2065 2.08398 11.6667 2.08398ZM12.5001 7.50065H16.2501V3.75065H12.5001V7.50065ZM2.91674 10.834H8.33341C8.79364 10.834 9.16674 11.2071 9.16674 11.6673V17.084C9.16674 17.5442 8.79364 17.9173 8.33341 17.9173H2.91674C2.4565 17.9173 2.08341 17.5442 2.08341 17.084V11.6673C2.08341 11.2071 2.4565 10.834 2.91674 10.834ZM3.75007 16.2507H7.50007V12.5007H3.75007V16.2507ZM17.0834 10.834H11.6667C11.2065 10.834 10.8334 11.2071 10.8334 11.6673V17.084C10.8334 17.5442 11.2065 17.9173 11.6667 17.9173H17.0834C17.5436 17.9173 17.9167 17.5442 17.9167 17.084V11.6673C17.9167 11.2071 17.5436 10.834 17.0834 10.834ZM12.5001 16.2507V12.5007H16.2501V16.2507H12.5001ZM2.09567 5.8636C1.93295 5.70088 1.93295 5.43706 2.09567 5.27434L2.68493 4.68508C2.84765 4.52237 3.11146 4.52237 3.27418 4.68508L4.74732 6.15822L7.98823 2.91732C8.15095 2.7546 8.41477 2.7546 8.57748 2.91732L9.16674 3.50657C9.32946 3.66929 9.32946 3.93311 9.16674 4.09583L5.10088 8.16169C4.90561 8.35696 4.58903 8.35696 4.39377 8.16169L2.09567 5.8636Z",fill:"white","fill-opacity":"0.6"},null,-1)]))}const hn={render:_n},gn={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Cn(j,i){return l(),x("svg",gn,i[0]||(i[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.17657 10.4785L9.174 10.4816L8.62618 11.1344C8.32264 11.4962 8.30723 11.9378 8.30784 12.1448C8.3082 12.2683 8.31704 12.3875 8.32329 12.4716C8.33061 12.5701 8.33378 12.6159 8.33378 12.6484C8.33383 13.4649 9.10394 14.0621 9.89478 13.859L10.5216 13.698C10.8369 13.617 11.0443 13.4284 11.1599 13.3046C11.219 13.2415 11.2683 13.1794 11.3013 13.1374L11.332 13.0981C11.3503 13.0746 11.3606 13.0614 11.373 13.0467L17.7441 5.45382C17.8648 5.59853 17.9804 5.74754 18.0907 5.90069C18.3024 6.161 18.4971 6.43158 18.6744 6.71176C19.1869 7.51954 19.5332 8.38333 19.7047 9.27787L19.7608 9.61472L19.8024 9.97542L19.8068 10.1754L19.8019 10.3577C19.7208 11.863 18.6414 13.0679 17.2958 13.1619L17.1262 13.1678H15.6529C15.1454 13.1703 14.6687 13.4406 14.3711 13.8943C14.1398 14.2487 14.0366 14.6805 14.0742 15.1056L14.0989 15.2872L14.1737 15.5781C14.3443 16.1879 14.2649 16.8533 13.9574 17.3931C13.7122 17.8236 13.3411 18.1404 12.9127 18.2951L12.7495 18.3454L12.1476 18.4686C11.7129 18.5493 11.2768 18.6057 10.8397 18.638L10.4022 18.6622L9.94788 18.6703C8.6298 18.6703 7.34847 18.4612 6.14512 18.0493C4.97677 17.6491 3.92507 17.0752 3.01631 16.3426C2.1002 15.6023 1.3785 14.7373 0.872027 13.7729C0.340156 12.7578 0.0703125 11.679 0.0703125 10.5664C0.0703125 9.45171 0.338847 8.36362 0.869922 7.32918C1.37691 6.34067 2.09677 5.45017 3.01015 4.68246C3.91985 3.91859 4.97114 3.31868 6.13895 2.89698C7.08916 2.558 8.0712 2.3483 9.06314 2.27184L9.4888 2.24724L9.93729 2.2384L9.95757 2.23438C10.7604 2.23506 11.5548 2.32059 12.3246 2.48573C13.3328 2.63875 14.2782 2.94404 15.1326 3.3804L9.17657 10.4785ZM9.99722 5.18537C10.6309 5.18537 11.1422 5.69878 11.1422 6.33034C11.1422 6.9619 10.6288 7.47531 9.99722 7.47531C9.36352 7.47531 8.85225 6.9619 8.85225 6.33034C8.85225 5.69878 9.36566 5.18537 9.99722 5.18537ZM5.62548 6.74669C6.25704 6.74669 6.77045 7.2601 6.77045 7.89166C6.77045 8.52322 6.25704 9.03663 5.62548 9.03663C4.99177 9.03663 4.48051 8.52322 4.48051 7.89166C4.48051 7.2601 4.99392 6.74669 5.62548 6.74669ZM5.72959 12.0552C5.72745 11.4236 5.21618 10.9102 4.58463 10.9102C3.95307 10.9102 3.43966 11.4236 3.43966 12.0552C3.43966 12.6867 3.95092 13.2001 4.58463 13.2001C5.21618 13.2001 5.72959 12.6867 5.72959 12.0552Z",fill:"white","fill-opacity":"0.6"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7341 12.5111C10.6156 12.6523 10.5034 12.8422 10.3137 12.8909L9.68691 13.0519C9.4233 13.1196 9.1666 12.9206 9.16658 12.6484C9.16656 12.3663 9.06493 11.9074 9.26402 11.6701L9.80935 11.0202L9.81191 11.0172L18.2318 0.982833C18.3797 0.806552 18.6425 0.783558 18.8188 0.931475L19.4571 1.46713C19.6334 1.61505 19.6564 1.87786 19.5085 2.05415L10.7341 12.5111Z",fill:"white","fill-opacity":"0.6"},null,-1)]))}const bn={render:Cn},yn={width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};function wn(j,i){return l(),x("svg",yn,i[0]||(i[0]=[a("path",{d:"M6.66666 3.66667H9.33332V5H6.66666V3.66667Z"},null,-1),a("path",{d:"M8.99999 11H6.99999V12.3333H8.99999V11Z"},null,-1),a("path",{d:"M3.33332 1C2.96513 1 2.66666 1.29848 2.66666 1.66667V14.3333C2.66666 14.7015 2.96513 15 3.33332 15H12.6667C13.0348 15 13.3333 14.7015 13.3333 14.3333V1.66667C13.3333 1.29848 13.0348 1 12.6667 1H3.33332ZM3.99999 2.33333H12V13.6667H3.99999V2.33333Z"},null,-1)]))}const Sn={render:wn},kn={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function xn(j,i){return l(),x("svg",kn,i[0]||(i[0]=[a("path",{d:"M14.3333 1.33398H1.66667C1.29848 1.33398 1 1.63246 1 2.00065V11.334C1 11.7022 1.29848 12.0007 1.66667 12.0007H14.3333C14.7015 12.0007 15 11.7022 15 11.334V2.00065C15 1.63246 14.7015 1.33398 14.3333 1.33398ZM2.33333 8.66732V2.66732H13.6667V8.66732H2.33333ZM2.33333 10.0007H13.6667V10.6673H2.33333V10.0007ZM4.66667 13.334H11.3333V14.6673H4.66667V13.334Z",fill:"#646A73"},null,-1)]))}const In={render:xn},Dn=ee({__name:"DbMoreComGroup",props:{dvModel:{type:String,default:"dv"},themes:{type:String,default:"dark"}},setup(j){const i=j,{dvModel:d}=Le(i),C=()=>{q.emit("handleNew",{componentName:"DeFrame",innerType:"DeFrame"})},k=b=>{Eo(b,d.value)},v=b=>{Mo(b,d.value)};return(b,_)=>(l(),x("div",{class:"group",onDragstart:k,onDragend:v,onClick:C},[e(Yt,{themes:j.themes,icon:t(ko),label:b.$t("visualization.web"),"drag-info":"DeFrame&DeFrame"},null,8,["themes","icon","label"])],32))}});const Vn=ne(Dn,[["__scopeId","data-v-d0736e59"]]),$n={class:"toolbar-main"},Ln={class:"toolbar"},En={class:"left-area"},Mn={id:"canvas-name",class:"name-area",style:{height:"100%",padding:"10px"}},Bn={key:1,class:"left-area"},Tn={class:"opt-area"},Hn={key:2,class:"left-area"},jn={key:3,class:"middle-area"},An={key:2,class:"right-area"},zn={key:3,class:"right-area full-area"},On={key:4,class:"right-area full-area"},ke="dashboard",Un=ee({__name:"DbToolbar",props:{createType:{type:String,default:"create"}},setup(j){const{t:i}=ue(),d=me(),C=Ie(),k=Oo(),{styleChangeTimes:v,snapshotIndex:b}=Ce(C),_=T(null),{linkageSettingStatus:g,curLinkageView:y,componentData:n,dvInfo:u,canvasViewInfo:B,editMode:p,batchOptStatus:r,targetLinkageInfo:V,curBatchOptComponents:I,appData:w,hiddenListStatus:A}=Ce(d),L=T(null),f=T(null);let s=T(!1),c=T(""),D=T(null);const M=pe({preBatchComponentData:[],preBatchCanvasViewInfo:{}}),R=T(null),Z=T(null),{wsCache:N}=_t("localStorage"),ae=bo(),Ee=W(()=>Qe.getIsIframe),Ne=N.get("app.desktop");Le(j);const Me=()=>{s.value=!0,c.value=u.value.name,de(()=>{D.value.focus()})},Ve=()=>{if(s.value=!1,!(!c.value||!c.value.trim())&&c.value.trim()!==u.value.name){if(c.value.trim().length>64||c.value.trim().length<1){Y.warning(i("components.length_1_64_characters")),Me();return}u.value.name=c.value,c.value=""}},Be=()=>{b.value>0&&(C.undo(),q.emit("matrix-canvasInit",!1))},Te=()=>{b.value!==C.snapshotData.length-1&&(C.redo(),q.emit("matrix-canvasInit",!1))},ye=()=>{f.value.toggleFullscreen()},We=()=>{if(!u.value.id){Y.warning(i("components.current_page_first"));return}Xe(()=>{let h="#/preview?dvId="+u.value.id+"&ignoreParams=true";F.baseUrl&&(h=`${F.baseUrl}${h}`.replaceAll("//#","/#"));const m=window.open(h,"_blank");It(m)})},He=()=>{d.setEditMode("edit")},je=W(()=>{let h=[];return n.value.forEach(m=>{m.innerType==="VQuery"&&h.push(m),m.innerType==="DeTabs"&&m.propValue.forEach(G=>{h=[...G.componentData.filter(P=>P.innerType==="VQuery"),...h]})}),h}),Ge=h=>{h&&h.opt==="newLeaf"&&(u.value.dataState="ready",u.value.pid=h.pid,u.value.name=h.name,fe())},fe=()=>{if(ae.getOid&&N.get("user.oid")&&ae.getOid!==N.get("user.oid")){Ye.confirm(i("components.from_other_organizations"),{confirmButtonType:"primary",type:"warning",confirmButtonText:i("components.close_the_page"),cancelButtonText:i("common.cancel"),autofocus:!1,showClose:!1}).then(()=>{window.close()});return}if(u.value.dataState==="prepare")if(w.value){const h={base:{pid:"",name:u.value.name,datasetFolderPid:null,datasetFolderName:u.value.name},appData:w.value};de(()=>{_.value.init(h)})}else{const h={name:u.value.name,leaf:!0,id:u.value.pid||"0"};R.value.optInit("leaf",h,"newLeaf",!0);return}Bo(()=>{qe()})},qe=()=>{if(N.delete("DE-DV-CATCH-"+u.value.id),v.value>0){d.matrixSizeAdaptor(),je.value.forEach(h=>{le().emitter.emit(`updateQueryCriteria${h.id}`)});try{Xe(()=>{C.resetStyleChangeTimes(),Y.success(i("common.save_success"));let h=window.location.href;h=h.replace(/\?opt=create/,`?resourceId=${u.value.id}`),F.baseUrl||window.history.replaceState({path:h},"",h),w.value&&gt(u.value.id,"dashboard",()=>{le().emitter.emit("refresh-dataset-selector"),le().emitter.emit("calcData-all"),_.value.close(),d.setAppDataInfo(null),C.resetSnapshot()})})}catch(h){console.error(h)}}},S=()=>{d.setCurComponent({component:null,index:null}),d.setComponentData([]),C.recordSnapshotCache("renderChart")},$=()=>{let h="#/panel/index";u.value.id&&(h=h+"?dvId="+u.value.id),v.value>0?Ye.confirm(i("components.sure_to_exit"),{confirmButtonType:"primary",type:"warning",autofocus:!1,showClose:!1}).then(()=>{se(h)}):se(h)},F=ht(),se=h=>{if(xt.value){F.clearState(),le().emitter.emit("changeCurrentComponent","DashboardPanel");return}if(window["dataease-embedded-host"]&&(ie!=null&&ie.value)){const m={methodName:"embeddedInteractive",args:{eventName:"de-dashboard-editor-back",args:"Just a demo that descript dataease embedded interactive"}};ie.value.invokeMethod(m);return}N.delete("DE-DV-CATCH-"+u.value.id),N.set("db-info-id",u.value.id),history.state.back?history.back():window.open(h,"_self")},Ae=()=>{L.value.dialogInit()};be(()=>{q.on("preview",ye),q.on("save",fe),q.on("clearCanvas",S)}),Ft(()=>{q.off("preview",ye),q.off("save",fe),q.off("clearCanvas",S),d.setAppDataInfo(null)});const it=()=>{d.setCurComponent({component:null,index:null}),d.setHiddenListStatus(!1)},ze=()=>{d.setHiddenListStatus()},X=()=>{if(!u.value.id||u.value.dataState==="prepare"){Y.warning(i("components.current_page_first"));return}le().emitter.emit("mobileConfig")},re=()=>{ge(n.value).forEach(m=>{I.value.includes(m.id)&&q.emit("removeMatrixItemById-"+m.canvasId,m.id),m.component==="DeTabs"&&m.propValue.forEach(G=>{G.componentData.forEach(P=>{I.value.includes(P.id)&&q.emit("removeMatrixItemById-"+P.canvasId,P.id)})})}),de(()=>{we()})},Oe=()=>{const h={};n.value.forEach(m=>{I.value.includes(m.id)&&(h[m.id]=m),m.component==="DeTabs"&&m.propValue.forEach(G=>{G.componentData.forEach(P=>{I.value.includes(P.id)&&(h[P.id]=P)})})}),k.copyMultiplexingComponents(B.value,h,!0,"batchOpt"),we()},ve=h=>{h?(M.preBatchComponentData=ge(n.value),M.preBatchCanvasViewInfo=ge(B.value)):(M.preBatchComponentData=[],M.preBatchCanvasViewInfo={}),d.setHiddenListStatus(!1),d.setBatchOptStatus(h)},Je=()=>{if(n.value.length===0){Y.warning(i("components.add_components_first"));return}if(!u.value.id){Y.warning(i("components.current_page_first"));return}Xe(()=>{Z.value.optInit()})},we=()=>{ve(!1)},lt=()=>{d.clearLinkageSettingInfo()},St=()=>{for(const m in V.value){let G=0;const P=V.value[m],Ue=P.linkageFields;if(Ue&&Ue.forEach(function(K){K.sourceField&&K.targetField||G++}),G>0){Y.error(i("visualization.datalist")+"【"+P.targetViewName+"】"+i("visualization.exit_un_march_linkage_field"));return}}const h={dvId:u.value.id,sourceViewId:y.value.id,linkageInfo:V.value};To(h).then(()=>{Y.success(i("save_success.common")),Ho(u.value.id).then(m=>{d.setNowPanelTrackInfo(m.data)}),lt(),jo(u.value.id).then(m=>{d.setNowPanelJumpInfo(m.data)})})},kt=()=>{C.recordSnapshotCache("onDvNameChange")},Qe=vt(),xt=W(()=>Qe.getIsDataEaseBi||Qe.getIsIframe),ie=T(null),It=h=>{if(ie!=null&&ie.value){const m={methodName:"initOpenHandler",args:h};ie.value.invokeMethod(m)}};return(h,m)=>{const G=oe,P=xe,Ue=ot,K=Ze,st=Lt,Dt=Et,Vt=$t;return l(),x(Q,null,[a("div",$n,[a("div",Ln,[t(p)==="preview"?(l(),x(Q,{key:0},[a("div",En,[a("span",Mn,E(t(u).name),1)]),m[9]||(m[9]=a("div",{class:"middle-area"},null,-1))],64)):(l(),x(Q,{key:1},[t(r)?z("",!0):(l(),H(G,{key:0,class:"custom-el-icon back-icon",onClick:m[0]||(m[0]=te=>$())},{default:o(()=>[e(J,{name:"icon_left_outlined"},{default:o(()=>[e(t(Vo),{class:"svg-icon toolbar-icon"})]),_:1})]),_:1})),t(p)==="edit"&&!t(r)?(l(),x("div",Bn,[a("span",{id:"canvas-name",class:"name-area",onDblclick:Me},E(t(u).name),33),a("div",Tn,[e(P,{effect:"dark",content:h.$t("visualization.undo"),placement:"bottom"},{default:o(()=>[e(G,{class:U(["toolbar-hover-icon",{"toolbar-icon-disabled":t(b)<1}]),disabled:t(b)<1,onClick:m[1]||(m[1]=te=>Be())},{default:o(()=>[e(J,{name:"icon_undo_outlined"},{default:o(()=>[e(t(oo),{class:"svg-icon"})]),_:1})]),_:1},8,["class","disabled"])]),_:1},8,["content"]),e(P,{effect:"dark",content:h.$t("commons.reduction"),placement:"bottom"},{default:o(()=>[e(G,{class:U(["toolbar-hover-icon opt-icon-redo",{"toolbar-icon-disabled":t(b)===t(C).snapshotData.length-1}]),onClick:m[2]||(m[2]=te=>Te())},{default:o(()=>[e(J,{name:"icon_redo_outlined"},{default:o(()=>[e(t(no),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1},8,["content"])])])):z("",!0),t(r)?(l(),x("div",Hn,[e(Ue,{class:"adapt-count"},{default:o(()=>[a("span",null,E(t(i)("user.selection_info",[t(I).length])),1)]),_:1})])):z("",!0),!t(r)&&!t(g)?(l(),x("div",jn,[e(Se,{"base-width":410,"show-split-line":!0,"is-label":"","icon-name":t(io),themes:"light",title:t(i)("chart.datalist")},{default:o(()=>[e(ao,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{"base-width":115,"show-split-line":!0,"is-label":"",themes:"light","icon-name":t(so),title:t(i)("visualization.filter_component")},{default:o(()=>[e(lo,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{"is-label":"",themes:"light","base-width":115,"icon-name":t(co),title:t(i)("components.rich_text")},{default:o(()=>[e(ro,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{"is-label":"",themes:"light",placement:"bottom","base-width":328,"icon-name":t(mo),title:t(i)("components.media")},{default:o(()=>[e(po,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(Se,{themes:"light","is-label":"","base-width":115,"icon-name":t(xo),title:"Tab"},{default:o(()=>[e(uo,{themes:"light","dv-model":ke})]),_:1},8,["icon-name"]),e(Se,{themes:"light","show-split-line":"","is-label":"","base-width":115,"icon-name":t(fo),title:t(i)("visualization.more")},{default:o(()=>[e(Vn,{themes:"light","dv-model":ke})]),_:1},8,["icon-name","title"]),e(eo,{"icon-name":t(Do),title:t(i)("visualization.multiplexing"),"is-label":"",onCustomClick:Ae},null,8,["icon-name","title"])])):z("",!0)],64)),!t(r)&&!t(g)?(l(),x("div",An,[t(p)!=="preview"?(l(),x(Q,{key:0},[e(P,{effect:"dark",content:t(i)("visualization.outer_param_set"),placement:"bottom"},{default:o(()=>[e($e,{tips:t(i)("visualization.outer_param_set"),onCustomClick:Je,"icon-name":t(Io)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(P,{effect:"dark",content:t(i)("visualization.batch_opt"),placement:"bottom"},{default:o(()=>[e($e,{tips:t(i)("visualization.batch_opt"),onCustomClick:m[3]||(m[3]=te=>ve(!0)),"icon-name":t(hn)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(P,{effect:"dark",content:t(i)("components.dashboard_configuration"),placement:"bottom"},{default:o(()=>[e($e,{tips:t(i)("components.dashboard_configuration"),onCustomClick:it,"icon-name":t(bn)},null,8,["tips","icon-name"])]),_:1},8,["content"]),e(P,{effect:"dark",content:t(i)("visualization.hidden_components"),placement:"bottom"},{default:o(()=>[e($e,{tips:t(i)("visualization.hidden_components"),onCustomClick:ze,"icon-name":t(ft)},null,8,["tips","icon-name"])]),_:1},8,["content"]),m[10]||(m[10]=a("div",{class:"divider"},null,-1)),t(Ne)?z("",!0):(l(),H(P,{key:0,offset:14,effect:"dark",content:t(i)("components.to_mobile_layout"),placement:"bottom"},{default:o(()=>[e($e,{tips:t(i)("components.to_mobile_layout"),onCustomClick:X,"icon-name":t(Sn)},null,8,["tips","icon-name"])]),_:1},8,["content"]))],64)):z("",!0),t(p)==="edit"?(l(),H(Vt,{key:1,trigger:"hover"},{dropdown:o(()=>[e(Dt,{class:"drop-style"},{default:o(()=>[Ee.value?z("",!0):(l(),H(st,{key:0,onClick:ye},{default:o(()=>[e(G,{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[e(J,{name:"icon_pc_fullscreen"},{default:o(()=>[e(t($o),{class:"svg-icon"})]),_:1})]),_:1}),O(" "+E(t(i)("visualization.fullscreen_preview")),1)]),_:1})),e(st,{onClick:m[4]||(m[4]=te=>We())},{default:o(()=>[e(G,{style:{"margin-right":"8px","font-size":"16px"}},{default:o(()=>[e(J,null,{default:o(()=>[e(t(In),{class:"svg-icon"})]),_:1})]),_:1}),O(" "+E(t(i)("work_branch.new_page_preview")),1)]),_:1})]),_:1})]),default:o(()=>[e(K,{class:"preview-button",style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(E(t(i)("visualization.preview")),1)]),_:1})]),_:1})):z("",!0),t(p)==="preview"?(l(),H(K,{key:2,class:"custom-normal-button",icon:"EditPen",onClick:m[5]||(m[5]=te=>He()),type:"primary"},{default:o(()=>[O(E(t(i)("data_set.edit")),1)]),_:1})):z("",!0),t(p)==="edit"||t(p)==="preview"?(l(),H(K,{key:3,disabled:t(v)<1,onClick:m[6]||(m[6]=te=>fe()),style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O(E(t(i)("data_set.save")),1)]),_:1},8,["disabled"])):z("",!0)])):z("",!0),t(r)?(l(),x("div",zn,[e(K,{text:"",icon:"CopyDocument",class:"custom-normal-button",onClick:Oe,disabled:t(I).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(E(t(i)("data_set.copy")),1)]),_:1},8,["disabled"]),e(K,{text:"",icon:"Delete",class:"custom-normal-button",onClick:re,disabled:t(I).length===0,style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(E(t(i)("data_set.delete")),1)]),_:1},8,["disabled"]),e(K,{onClick:we,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O(E(t(i)("components.complete")),1)]),_:1})])):z("",!0),t(g)?(l(),x("div",On,[e(K,{class:"custom-normal-button",onClick:m[7]||(m[7]=te=>lt()),style:{float:"right","margin-right":"12px"}},{default:o(()=>[O(E(t(i)("userimport.cancel")),1)]),_:1}),e(K,{onClick:St,style:{float:"right","margin-right":"12px"},type:"primary"},{default:o(()=>[O(E(t(i)("userimport.sure")),1)]),_:1})])):z("",!0)]),t(s)?(l(),H(Rt,{key:0,to:"#canvas-name"},[ce(a("input",{onChange:kt,ref_key:"nameInput",ref:D,"onUpdate:modelValue":m[8]||(m[8]=te=>Zt(c)?c.value=te:c=te),onBlur:Ve},null,544),[[Pt,t(c)]])])):z("",!0),e(Lo,{ref_key:"multiplexingRef",ref:L},null,512),e(Uo,{onFinish:Ge,"cur-canvas-type":"dashboard",ref_key:"resourceGroupOpt",ref:R},null,512),e(to,{ref_key:"outerParamsSetRef",ref:Z},null,512)]),e(Jt,{"show-position":"edit",ref_key:"fullScreeRef",ref:f},null,512),e(t(tt),{ref_key:"openHandler",ref:ie,jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvT3BlbkhhbmRsZXI="},null,512),e(Fo,{ref_key:"resourceAppOpt",ref:_,"component-data":t(n),"dv-info":t(u),"canvas-view-info":t(B),"cur-canvas-type":"dashboard",onSaveAppCanvas:fe},null,8,["component-data","dv-info","canvas-view-info"])],64)}}});const Fn=ne(Un,[["__scopeId","data-v-6685d845"]]),Pn={t:"1690342810342",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2380","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"};function Zn(j,i){return l(),x("svg",Pn,i[0]||(i[0]=[a("path",{d:"M87 160h850c13.255 0 24 10.745 24 24v656c0 13.255-10.745 24-24 24H87c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24z",fill:"#C5C5C5","fill-opacity":".45","p-id":"2381","data-spm-anchor-id":"a313x.7781069.0.i1",class:"selected"},null,-1),a("path",{d:"M111 864l128.17-128.361c22.092-22.125 57.936-22.151 80.06-0.06 22.124 22.091 57.968 22.065 80.06-0.06l120.576-120.756c39.023-39.081 102.34-39.128 141.42-0.105L911 864H111z",fill:"#ABABAB","fill-opacity":".574","p-id":"2382","data-spm-anchor-id":"a313x.7781069.0.i0",class:"selected"},null,-1),a("path",{d:"M321 487m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#ABABAB","fill-opacity":".574","p-id":"2383"},null,-1),a("path",{d:"M71 160h882a8 8 0 0 1 8 8v104H63V168a8 8 0 0 1 8-8z",fill:"#ABABAB","fill-opacity":".5","p-id":"2384"},null,-1),a("path",{d:"M287 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2385"},null,-1),a("path",{d:"M207 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2386"},null,-1),a("path",{d:"M127 216m-16 0a16 16 0 1 0 32 0 16 16 0 1 0-32 0Z",fill:"#000000","fill-opacity":".302","p-id":"2387"},null,-1)]))}const Rn={render:Zn},Nn=["src"],Wn={class:"title-main"},Gn={class:"title-area"},qn=["title"],Jn={key:0,class:"edit-area"},Qn=ee({__name:"SubjectTemplateItem",props:{subjectItem:{type:Object,required:!0}},emits:["subjectDelete","onSubjectChange","subjectEdit"],setup(j,{emit:i}){const d=me(),C=Ie(),{canvasStyleData:k}=Ce(d),v=pe({defaultSubject:{},subjectItemDetails:null,canEdit:!1}),{t:b}=ue(),_=j,{subjectItem:g}=Le(_),y=W(()=>v.subjectItemDetails&&v.subjectItemDetails.themeId===k.value.themeId),n=i,u=()=>{Ye.confirm(b("components.to_delete_",[g.value.name]),{confirmButtonType:"danger",type:"warning",autofocus:!1,showClose:!1}).then(()=>{n("subjectDelete",g.value.id)})},B=()=>{n("subjectEdit")},p=()=>{y.value||(d.setCanvasStyle(JSON.parse(g.value.details)),C.recordSnapshotCache("renderChart"),yt(),le().emitter.emit("onSubjectChange"))};return be(()=>{try{v.subjectItemDetails=JSON.parse(g.value.details)}catch{}}),(r,V)=>{const I=et("Delete"),w=oe,A=Ze,L=et("EditPen");return l(),x("div",{class:U([{"background-selected":y.value},"subject-template"])},[a("div",null,[a("div",{class:"vertical-layout",onClick:Nt(p,["stop"])},[t(g).coverUrl?(l(),x("img",{key:0,src:t(bt)(t(g).coverUrl),alt:"",width:"172",height:"79"},null,8,Nn)):(l(),H(J,{key:1,name:"dv-no-img"},{default:o(()=>[e(t(Rn),{class:"svg-icon",style:{width:"172px",height:"79px"}})]),_:1}))]),a("div",Wn,[a("div",Gn,[a("span",{style:{"margin-top":"8px","margin-left":"8px"},title:t(b)(t(g).name)},E(t(b)(t(g).name)),9,qn)]),t(g).type==="self"?(l(),x("div",Jn,[e(t(xe),{effect:"dark",placement:"top",content:r.$t("common.delete")},{default:o(()=>[e(A,{text:"",class:"m-custom-icon",onClick:V[0]||(V[0]=f=>u())},{default:o(()=>[e(w,{size:"14px"},{default:o(()=>[e(I)]),_:1})]),_:1})]),_:1},8,["content"]),e(t(xe),{effect:"dark",placement:"top",content:r.$t("common.edit")},{default:o(()=>[e(A,{text:"",class:"m-custom-icon",style:{"margin-left":"2px"},onClick:V[1]||(V[1]=f=>B())},{default:o(()=>[e(w,{size:"14px"},{default:o(()=>[e(L)]),_:1})]),_:1})]),_:1},8,["content"])])):z("",!0)])])],2)}}});const Ke=ne(Qn,[["__scopeId","data-v-f12baaa4"]]),Xn=15e6,Kn=ee({__name:"DeUpload",props:{imgUrl:{type:String},themes:{type:String,default:"dark"}},emits:["onImgChange"],setup(j,{emit:i}){const d=Ie(),C=i,k=T(null),v=j,{themes:b,imgUrl:_}=Le(v),g=T(null),y=pe({fileList:[],dialogImageUrl:"",dialogVisible:!1,uploadDisabled:!1}),n=()=>{g.value=_.value,g.value?y.fileList.push({url:bt(g.value)}):y.fileList=[]},u=()=>{y.uploadDisabled=!1,g.value=null,y.fileList=[],C("onImgChange")},B=I=>{y.dialogImageUrl=I.url,y.dialogVisible=!0},p=I=>{ct(I.file,w=>{d.recordSnapshotCache("deUpload"),g.value=w,C("onImgChange",w)})},r=I=>{const w=I.target.files[0];if(w.size>Xn){V();return}ct(w,A=>{d.recordSnapshotCache("uploadFileResult"),g.value=A,C("onImgChange",A)})},V=()=>{Y.success("图片大小不能超过15M")};return be(()=>{n()}),Wt(()=>_.value,()=>{n()}),(I,w)=>{const A=et("Plus"),L=oe,f=Mt;return l(),x("div",{class:U(["avatar-uploader-container",`img-area_${t(b)}`])},[e(f,{action:"",effect:t(b),accept:".jpeg,.jpg,.png,.gif,.svg",class:U(["avatar-uploader",{disabled:y.uploadDisabled}]),"list-type":"picture-card","on-preview":B,"on-remove":u,"http-request":p,"before-upload":t(No),"file-list":y.fileList},{default:o(()=>[e(L,null,{default:o(()=>[e(A)]),_:1})]),_:1},8,["effect","class","before-upload","file-list"]),a("input",{id:"input",ref_key:"files",ref:k,type:"file",accept:".jpeg,.jpg,.png,.gif,.svg",hidden:"",onClick:w[0]||(w[0]=s=>{s.target.value=""}),onChange:r},null,544),e(Xo,{modelValue:y.dialogVisible,"onUpdate:modelValue":w[1]||(w[1]=s=>y.dialogVisible=s),"image-url":y.dialogImageUrl},null,8,["modelValue","image-url"])],2)}}});const Yn=ne(Kn,[["__scopeId","data-v-4010b80c"]]),ea={class:"m-label"},ta={class:"m-label"},oa=ee({__name:"SubjectEditDialog",emits:["finish"],setup(j,{expose:i,emit:d}){const{t:C}=ue(),k=T(!1),v={name:[{required:!0,message:C("commons.input_content"),trigger:"change"},{max:50,message:C("commons.char_can_not_more_50"),trigger:"change"}],coverUrl:[{required:!0,message:C("components.upload_a_cover"),trigger:"change"}]},b=T(),_=T(!1),g=T("new"),y=()=>{b.value.clearValidate(),_.value=!1},n=T(null),u=W(()=>g.value==="new"?C("components.a_new_theme"):C("components.edit_theme")),B=(I,w)=>{g.value=w,_.value=!0,n.value=ge(I)},p=()=>{b.value.validate(I=>{I&&r("finish",n.value)})};i({optInit:B,resetForm:y});const r=d,V=I=>{n.value.coverUrl=I};return(I,w)=>{const A=Bt,L=nt,f=pt,s=Ze,c=Tt,D=at("loading");return ce((l(),H(c,{title:u.value,modelValue:_.value,"onUpdate:modelValue":w[3]||(w[3]=M=>_.value=M),width:"400px","before-close":y},{footer:o(()=>[e(s,{secondary:"",onClick:w[1]||(w[1]=M=>y())},{default:o(()=>[O(E(t(C)("common.cancel")),1)]),_:1}),e(s,{type:"primary",onClick:w[2]||(w[2]=M=>p())},{default:o(()=>[O(E(t(C)("chart.confirm")),1)]),_:1})]),default:o(()=>[e(f,{"label-position":"top","require-asterisk-position":"right",ref_key:"subject",ref:b,model:n.value,rules:v},{default:o(()=>[e(L,{class:"form-item",prop:"name"},{label:o(()=>[a("label",ea,E(t(C)("common.name")),1)]),default:o(()=>[e(A,{modelValue:n.value.name,"onUpdate:modelValue":w[0]||(w[0]=M=>n.value.name=M)},null,8,["modelValue"])]),_:1}),e(L,{class:"form-item",prop:"coverUrl"},{label:o(()=>[a("label",ta,E(t(C)("components.cover")),1)]),default:o(()=>[e(Yn,{themes:"light","img-url":n.value.coverUrl,onOnImgChange:V},null,8,["img-url"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])),[[D,k.value]])}}});const na=ne(oa,[["__scopeId","data-v-29c3aa47"]]),aa={class:"direction-left"},ia={class:"direction"},la={class:"item-area",style:{overflow:"hidden"}},sa={class:"item-area"},ra={class:"item-area"},ca={class:"direction-right"},da={class:"direction"},pa={style:{display:"flex","margin-top":"16px"}},ma={style:{flex:"1"},class:"dot-container"},ua={key:0,class:"dots"},fa=["onClick"],va=ee({__name:"Slider",props:{initialSpeed:{type:Number,default:30},initialInterval:{type:Number,default:3}},emits:["reload"],setup(j,{expose:i,emit:d}){const C=me(),{canvasStyleData:k}=Ce(C),v=d,b=T(null),_=j,{initialSpeed:g}=Le(_),{t:y}=ue(),n=pe({temp:null,sliders:[],slidersLoading:!1,sliderWidth:420,imgWidth:420,currentIndex:1,distance:-420,transitionEnd:!0,speed:g.value,saveSubjectVisible:!1}),u=W(()=>({transform:`translate3d(${n.distance}px, 0, 0)`})),B=W(()=>{var s;return{height:((s=n.sliders[0])==null?void 0:s.length)<3?"140px":"250px"}}),p=()=>{n.slidersLoading=!0,Go({}).then(s=>{n.sliders=[],n.sliders=s.data,n.slidersLoading=!1,n.sliders.length<n.currentIndex&&(n.currentIndex=1,v("reload"))}).catch(()=>{n.slidersLoading=!1})},r=s=>{qo(s).then(()=>{Y.success(y("chart.delete_success")),p()})},V=s=>{n.slidersLoading=!0,Jo(s).then(()=>{b.value.resetForm(),Y.success(y("dataset.save_success")),p()}).catch(()=>{n.slidersLoading=!1})},I=s=>{s&&s.id?b.value.optInit(s,"edit"):b.value.optInit(s,"new")},w=()=>{const s=ge(k.value);s.themeId=Qo();const c={name:y("components.a_new_theme"),coverUrl:null,details:JSON.stringify(s)};I(c)},A=(s,c,D)=>{n.temp&&(window.clearInterval(n.temp),n.temp=null),n.temp=window.setInterval(()=>{c===-1&&s<n.distance||c===1&&s>n.distance?n.distance+=D*c:(n.transitionEnd=!0,window.clearInterval(n.temp),n.distance=s,s<-n.sliderWidth*n.sliders.length&&(n.distance=-n.sliderWidth),s>-n.sliderWidth&&(n.distance=-n.sliderWidth*n.sliders.length))},20)},L=(s,c,D)=>{if(!n.transitionEnd)return;n.transitionEnd=!1,c===-1?n.currentIndex+=s/n.sliderWidth:n.currentIndex-=s/n.sliderWidth,n.currentIndex>n.sliders.length&&(n.currentIndex=1),n.currentIndex<1&&(n.currentIndex=n.sliders.length);const M=n.distance+s*c;A(M,c,D)},f=s=>{const c=s-n.currentIndex>=0?-1:1,D=Math.abs(s-n.currentIndex)*n.sliderWidth,M=Math.abs(s-n.currentIndex)===0?n.speed:Math.abs(s-n.currentIndex)*n.speed;L(D,c,M)};return be(()=>{p()}),i({saveSelfSubject:w}),(s,c)=>{const D=Re,M=ot,R=at("loading");return l(),H(D,{style:{"flex-direction":"column",width:"100%"}},{default:o(()=>[ce((l(),H(D,{style:{"margin-top":"-4px","margin-bottom":"-6px"}},{default:o(()=>[a("div",aa,[c[3]||(c[3]=a("span",null," ",-1)),ce(a("ul",ia,[a("li",{class:"left",onClick:c[0]||(c[0]=Z=>L(n.sliderWidth,1,n.speed))},c[2]||(c[2]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44506)"},[a("rect",{width:"24",height:"24",rx:"12",transform:"matrix(-1 0 0 1 28 4)",fill:"white"}),a("rect",{x:"-0.5",y:"0.5",width:"23",height:"23",rx:"11.5",transform:"matrix(-1 0 0 1 27 4)",stroke:"#DEE0E3"})]),a("path",{d:"M13.8609 16.0005L17.9268 11.9346C18.0244 11.837 18.0244 11.6787 17.9268 11.5811L17.5732 11.2275C17.4756 11.1299 17.3173 11.1299 17.2197 11.2275L12.8003 15.6469C12.605 15.8422 12.605 16.1588 12.8003 16.354L17.2197 20.7735C17.3173 20.8711 17.4756 20.8711 17.5732 20.7735L17.9268 20.4199C18.0244 20.3223 18.0244 20.164 17.9268 20.0664L13.8609 16.0005Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44506",x:"-4",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44506"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44506",result:"shape"})])])],-1)]))],512),[[Pe,n.currentIndex>1]])]),e(M,{span:24},{default:o(()=>[e(D,{id:"slider"},{default:o(()=>[a("div",{class:"slider-window",style:rt(B.value)},[n.slidersLoading?z("",!0):(l(),x("ul",{key:0,class:"container",style:rt(u.value)},[a("li",null,[a("div",la,[(l(!0),x(Q,null,he(n.sliders[n.sliders.length-1],Z=>(l(),H(Ke,{key:Z.id,"subject-item":Z,onSubjectDelete:r,onSubjectEdit:N=>I(Z)},null,8,["subject-item","onSubjectEdit"]))),128))])]),(l(!0),x(Q,null,he(n.sliders,(Z,N)=>(l(),x("li",{key:N},[a("div",sa,[(l(!0),x(Q,null,he(Z,ae=>(l(),H(Ke,{key:ae.id,"subject-item":ae,onSubjectDelete:r,onSubjectEdit:Ee=>I(ae)},null,8,["subject-item","onSubjectEdit"]))),128))])]))),128)),a("li",null,[a("div",ra,[(l(!0),x(Q,null,he(n.sliders[0],Z=>(l(),H(Ke,{key:Z.id,"subject-item":Z,onSubjectDelete:r,onSubjectEdit:N=>I(Z)},null,8,["subject-item","onSubjectEdit"]))),128))])])],4))],4)]),_:1})]),_:1}),a("div",ca,[c[5]||(c[5]=a("span",null," ",-1)),ce(a("ul",da,[a("li",{class:"right",onClick:c[1]||(c[1]=Z=>L(n.sliderWidth,-1,n.speed))},c[4]||(c[4]=[a("svg",{width:"36",height:"40",viewBox:"0 0 36 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("g",{filter:"url(#filter0_d_1423_44502)"},[a("rect",{x:"8",y:"4",width:"24",height:"24",rx:"12",fill:"white"}),a("rect",{x:"8.5",y:"4.5",width:"23",height:"23",rx:"11.5",stroke:"#DEE0E3"})]),a("path",{d:"M22.1391 15.9985L18.0732 11.9327C17.9756 11.835 17.9756 11.6768 18.0732 11.5791L18.4268 11.2256C18.5244 11.1279 18.6827 11.1279 18.7803 11.2256L23.1997 15.645C23.395 15.8402 23.395 16.1568 23.1997 16.3521L18.7803 20.7715C18.6827 20.8691 18.5244 20.8691 18.4268 20.7715L18.0732 20.418C17.9756 20.3203 17.9756 20.162 18.0732 20.0644L22.1391 15.9985Z",fill:"#1F2329"}),a("defs",null,[a("filter",{id:"filter0_d_1423_44502",x:"0",y:"0",width:"40",height:"40",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[a("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),a("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a("feOffset",{dy:"4"}),a("feGaussianBlur",{stdDeviation:"4"}),a("feComposite",{in2:"hardAlpha",operator:"out"}),a("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),a("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1423_44502"}),a("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1423_44502",result:"shape"})])])],-1)]))],512),[[Pe,n.currentIndex<n.sliders.length]])])]),_:1})),[[R,n.slidersLoading]]),a("div",pa,[c[7]||(c[7]=a("div",{style:{flex:"1"}},null,-1)),a("div",ma,[c[6]||(c[6]=a("span",{hidden:""},"B",-1)),n.sliders.length>1?(l(),x("ul",ua,[(l(!0),x(Q,null,he(n.sliders,(Z,N)=>(l(),x("li",{key:N,class:U({dotted:N===n.currentIndex-1}),onClick:ae=>f(N+1)},null,10,fa))),128))])):z("",!0)])]),e(na,{ref_key:"subjectEditDialogRef",ref:b,onFinish:V},null,512)]),_:1})}}});const _a=ne(va,[["__scopeId","data-v-728c52f3"]]),ha={class:"custom-item-text"},ga=ee({__name:"ViewSimpleTitle",emits:["onTextChange"],setup(j,{emit:i}){const{t:d}=ue(),C=me(),k=i,v=W(()=>C.canvasStyleData.component.chartTitle),b=pe({fontSize:[],isSetting:!1,predefineColors:Ct}),_=T("light"),g=W(()=>{const p=[];for(let r=10;r<=60;r=r+2)p.push({name:r+"",value:r+""});return p}),y=p=>{v.value.modifyName=p,k("onTextChange",v.value)};function n(){v.value.isBolder=!v.value.isBolder,y("isBolder")}function u(){v.value.isItalic=!v.value.isItalic,y("isItalic")}function B(p){v.value.hPosition=p,y("hPosition")}return(p,r)=>{const V=Re,I=mt,w=nt,A=Ht,L=jt,f=oe,s=xe,c=At;return l(),H(V,{class:"custom-row"},{default:o(()=>[e(V,null,{default:o(()=>[a("span",ha,E(t(d)("chart.text")),1)]),_:1}),e(V,{style:{"margin-top":"8px"}},{default:o(()=>[e(c,{wrap:""},{default:o(()=>[e(w,{class:U(["form-item no-margin-bottom","form-item-"+_.value])},{default:o(()=>[e(I,{title:t(d)("chart.text_color"),modelValue:v.value.color,"onUpdate:modelValue":r[0]||(r[0]=D=>v.value.color=D),class:"color-picker-style","is-custom":"",predefine:b.predefineColors,onChange:r[1]||(r[1]=D=>y("color"))},null,8,["title","modelValue","predefine"])]),_:1},8,["class"]),e(w,{class:U(["form-item no-margin-bottom","form-item-"+_.value])},{default:o(()=>[e(L,{style:{width:"56px"},title:t(d)("chart.text_fontsize"),modelValue:v.value.fontSize,"onUpdate:modelValue":r[2]||(r[2]=D=>v.value.fontSize=D),placeholder:t(d)("chart.size"),size:"small",onChange:r[3]||(r[3]=D=>y("fontSize"))},{default:o(()=>[(l(!0),x(Q,null,he(g.value,D=>(l(),H(A,{key:D.value,label:D.name,value:D.value},null,8,["label","value"]))),128))]),_:1},8,["title","modelValue","placeholder"])]),_:1},8,["class"]),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(d)("chart.bolder")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.isBolder}]),onClick:n},[e(f,null,{default:o(()=>[e(J,{name:"icon_bold_outlined"},{default:o(()=>[e(t(Ko),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(d)("chart.italic")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.isItalic}]),onClick:u},[e(f,null,{default:o(()=>[e(J,{name:"icon_italic_outlined"},{default:o(()=>[e(t(Yo),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),r[7]||(r[7]=a("div",{class:"m-divider"},null,-1)),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(d)("chart.text_pos_left")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.hPosition==="left"}]),onClick:r[4]||(r[4]=D=>B("left"))},[e(f,null,{default:o(()=>[e(J,{name:"icon_left-alignment_outlined"},{default:o(()=>[e(t(en),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(d)("chart.text_pos_center")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.hPosition==="center"}]),onClick:r[5]||(r[5]=D=>B("center"))},[e(f,null,{default:o(()=>[e(J,{name:"icon_center-alignment_outlined"},{default:o(()=>[e(t(tn),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1}),e(s,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(d)("chart.text_pos_right")),1)]),default:o(()=>[a("div",{class:U(["icon-btn",{dark:_.value==="dark",active:v.value.hPosition==="right"}]),onClick:r[6]||(r[6]=D=>B("right"))},[e(f,null,{default:o(()=>[e(J,{name:"icon_right-alignment_outlined"},{default:o(()=>[e(t(on),{class:"svg-icon"})]),_:1})]),_:1})],2)]),_:1})]),_:1})]),_:1})]),_:1})}}});const Ca=ne(ga,[["__scopeId","data-v-8cf6c4b9"]]),ba={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function ya(j,i){return l(),x("svg",ba,i[0]||(i[0]=[a("path",{d:"M2 5.5C2 5.22386 2.22386 5 2.5 5H17.5C17.7761 5 18 5.22386 18 5.5V8.5C18 8.77614 17.7761 9 17.5 9H2.5C2.22386 9 2 8.77614 2 8.5V5.5Z"},null,-1),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12V18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18V12ZM4 17V13H20V17H4Z"},null,-1)]))}const wa={render:ya},Sa={width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"};function ka(j,i){return l(),x("svg",Sa,i[0]||(i[0]=[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 9C9 8.44772 9.44772 8 10 8H23C23.5523 8 24 8.44772 24 9V15C24 15.5523 23.5523 16 23 16H10C9.44771 16 9 15.5523 9 15V9ZM11 14V10H22V14H11Z"},null,-1),a("path",{d:"M0 10.5C0 10.2239 0.223858 10 0.5 10H6.5C6.77614 10 7 10.2239 7 10.5V13.5C7 13.7761 6.77614 14 6.5 14H0.5C0.223858 14 0 13.7761 0 13.5V10.5Z"},null,-1)]))}const xa={render:ka},Ia={style:{width:"100%"}},Da={style:{width:"100%",padding:"16px 8px 0"}},Va={style:{padding:"0 8px 8px"}},$a=ee({__name:"FilterStyleSimpleSelector",setup(j){const{t:i}=ue(),d=me(),C=Ie(),k=W(()=>d.canvasStyleData.component.filterStyle),v=pe({fontSize:[],isSetting:!1,predefineColors:Ct}),b=()=>{},_=y=>{d.canvasStyleData.component.filterStyle=wt(k.value),Wo(y),C.recordSnapshotCache("filterStyleSimpleSelector-themeChange")},g=(y,n="titleLayout")=>{k.value[n]=y,_(n)};return be(()=>{q.on("onThemeColorChange",b)}),(y,n)=>{const u=J,B=xe,p=nt,r=ot,V=mt,I=Re,w=zt,A=ut,L=pt;return l(),x("div",Ia,[e(L,{"label-position":"top",style:{width:"100%"}},{default:o(()=>[a("div",Da,[e(I,{gutter:8},{default:o(()=>[e(r,{span:12},{default:o(()=>[e(p,{class:"form-item",label:t(i)("components.title_horizontal_position")},{default:o(()=>[e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(i)("chart.text_pos_left")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.titleLayout==="left"?"active":"cbd","hover-icon"]),onClick:n[0]||(n[0]=f=>g("left"))},{default:o(()=>[e(u,{name:"icon_left-align_outlined"},{default:o(()=>[e(t(nn),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(i)("chart.text_pos_center")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.titleLayout==="center"&&"active","hover-icon"]),onClick:n[1]||(n[1]=f=>g("center"))},{default:o(()=>[e(u,{name:"icon_horizontal-align_outlined"},{default:o(()=>[e(t(an),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(i)("chart.text_pos_right")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.titleLayout==="right"&&"active","hover-icon"]),onClick:n[2]||(n[2]=f=>g("right"))},{default:o(()=>[e(u,{name:"icon_right-align_outlined"},{default:o(()=>[e(t(ln),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(p,{class:"form-item",label:t(i)("components.title_display_position")},{default:o(()=>[e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(i)("chart.text_pos_top")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.layout==="vertical"&&"active","hover-icon"]),onClick:n[3]||(n[3]=f=>g("vertical","layout"))},{default:o(()=>[e(u,{name:"icon_title-top-align_outlined"},{default:o(()=>[e(t(wa),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1}),e(B,{effect:"dark",placement:"top"},{content:o(()=>[O(E(t(i)("chart.text_pos_center")),1)]),default:o(()=>[e(t(oe),{class:U([k.value.layout==="horizontal"&&"active","hover-icon"]),onClick:n[4]||(n[4]=f=>g("horizontal","layout"))},{default:o(()=>[e(u,{name:"icon_title-left-align_outlined"},{default:o(()=>[e(t(xa),{class:"svg-icon"})]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(p,{class:"form-item",label:t(i)("components.title_color")},{default:o(()=>[e(V,{modelValue:k.value.titleColor,"onUpdate:modelValue":n[5]||(n[5]=f=>k.value.titleColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[6]||(n[6]=f=>_("titleColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(p,{class:"form-item",label:t(i)("components.label_color")},{default:o(()=>[e(V,{modelValue:k.value.labelColor,"onUpdate:modelValue":n[7]||(n[7]=f=>k.value.labelColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[8]||(n[8]=f=>_("labelColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1}),e(w,{class:"m-divider"})]),e(A,{title:t(i)("components.input_box_style"),name:"input_style_filter_selector",class:"inner-collapse"},{default:o(()=>[a("div",Va,[e(I,{gutter:8},{default:o(()=>[e(r,{span:12},{default:o(()=>[e(p,{class:"form-item",label:t(i)("visualization.board")},{default:o(()=>[e(V,{modelValue:k.value.borderColor,"onUpdate:modelValue":n[9]||(n[9]=f=>k.value.borderColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[10]||(n[10]=f=>_("borderColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(p,{class:"form-item",label:t(i)("visualization.text")},{default:o(()=>[e(V,{modelValue:k.value.text,"onUpdate:modelValue":n[11]||(n[11]=f=>k.value.text=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[12]||(n[12]=f=>_("text"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1}),e(r,{span:12},{default:o(()=>[e(p,{class:"form-item",label:t(i)("visualization.board_background")},{default:o(()=>[e(V,{modelValue:k.value.bgColor,"onUpdate:modelValue":n[13]||(n[13]=f=>k.value.bgColor=f),"trigger-width":197,"is-custom":"",predefine:v.predefineColors,onChange:n[14]||(n[14]=f=>_("bgColor"))},null,8,["modelValue","predefine"])]),_:1},8,["label"])]),_:1})]),_:1})])]),_:1},8,["title"])]),_:1})])}}});const La=ne($a,[["__scopeId","data-v-b6ff8d73"]]),Ea={class:"attr-container"},Ma=ee({__name:"DbCanvasAttr",setup(j){const i=me(),d=Ie(),{canvasStyleData:C,componentData:k,canvasViewInfo:v}=Ce(i),{t:b}=ue();let _=!1;const g=T(["style"]),y=pe({colorForm:JSON.parse(JSON.stringify(Ro)),customColor:null,colorIndex:0,sliderShow:!0,collapseShow:!0}),n=()=>{y.collapseShow=!1,de(()=>{u(),y.collapseShow=!0})},u=()=>{yt(),d.recordSnapshotCache("renderChart")},B=L=>{r("customAttr","color",L)},p=L=>{r("customStyle","text",L)},r=(L,f,s)=>{_&&(Object.keys(v.value).forEach(function(c){const D=v.value[c];try{L==="customAttr"?sn(D.customAttr,s):Object.keys(s).forEach(function(M){D[L][f][M]!==void 0&&(D[L][f][M]=s[M])}),le().emitter.emit("renderChart-"+c,D)}catch{console.warn("themeAttrChange-error")}}),d.recordSnapshotCache("renderChart"))},V=()=>{},I=L=>{C.value.component.chartCommonStyle=L,k.value.forEach(f=>{f.commonBackground=ge(L)})};be(()=>{le({name:"onSubjectChange",callback:()=>{n()}}),de(()=>{_=!0})});const w=T(),A=()=>{w.value.saveSelfSubject()};return(L,f)=>{const s=Ze,c=ut,D=Ot,M=Re;return l(),x("div",Ea,[e(M,null,{default:o(()=>[e(D,{modelValue:g.value,"onUpdate:modelValue":f[0]||(f[0]=R=>g.value=R)},{default:o(()=>[e(c,{title:t(b)("components.dashboard_style"),name:"style"},{default:o(()=>[e(_a,{ref_key:"slider",ref:w},null,512),e(s,{class:"button-panel__style",text:"",size:"small",onClick:A},{default:o(()=>[O(E(L.$t("commons.save")),1)]),_:1})]),_:1},8,["title"]),e(c,{title:t(b)("components.overall_configuration"),name:"overallSetting"},{default:o(()=>[e(vo,{onOnThemeColorChange:V})]),_:1},8,["title"]),e(c,{title:t(b)("components.dashboard_background"),name:"background",class:"content-no-padding-bottom"},{default:o(()=>[e(_o,{themes:"light"})]),_:1},8,["title"]),e(c,{title:t(b)("visualization.view_style"),name:"componentStyle",class:"content-no-padding-bottom"},{default:o(()=>[e(rn,{"common-background-pop":t(C).component.chartCommonStyle,"component-position":"'dashboard'",themes:"light",onOnBackgroundChange:I,"background-color-picker-width":197,"background-border-select-width":197},null,8,["common-background-pop"])]),_:1},8,["title"]),e(c,{title:t(b)("components.chart_color"),name:"graphical",class:"no-padding no-border-bottom"},{default:o(()=>[y.collapseShow?(l(),H(ho,{key:0,onOnColorChange:B})):z("",!0)]),_:1},8,["title"]),e(c,{title:t(b)("visualization.chart_title"),name:"viewTitle"},{default:o(()=>[e(Ca,{onOnTextChange:p})]),_:1},8,["title"]),e(c,{title:t(b)("visualization.filter_component"),name:"filterComponent",class:"no-padding no-border-bottom"},{default:o(()=>[e(La)]),_:1},8,["title"]),e(c,{title:t(b)("components.advanced_style_settings"),name:"seniorStyleSetting",class:"no-padding no-border-bottom"},{default:o(()=>[e(go)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1})])}}});const Ba=ne(Ma,[["__scopeId","data-v-cefd5060"]]),Ta={class:"config-hidden"},Ha={class:"component-outer"},ja=["onClick"],Aa=ee({__name:"DashboardHiddenComponent",emits:["cancelHidden"],setup(j,{emit:i}){const d=me(),{componentData:C,canvasStyleData:k,canvasViewInfo:v,dvInfo:b}=Ce(d),_=i,g=W(()=>C.value.filter(n=>n.dashboardHidden)),y=n=>{n.dashboardHidden=!1,_("cancelHidden",n)};return(n,u)=>{var r;const B=oe,p=xe;return l(),x("div",Ta,[((r=g.value)==null?void 0:r.length)>0?(l(!0),x(Q,{key:0},he(g.value,V=>(l(),x("div",{style:{height:"180px",width:"260px"},class:"wrapper-inner-adaptor",key:V.id},[a("div",Ha,[e(Qt,{"canvas-id":"canvas-main","canvas-style-data":t(k),"dv-info":t(b),"canvas-view-info":t(v),"view-info":t(v)[V.id],config:V,class:"wrapper-design","show-position":"viewDialog","search-count":0,scale:t(k).scale},null,8,["canvas-style-data","dv-info","canvas-view-info","view-info","config","scale"])]),a("div",{class:"select-to-dashboard",onClick:I=>y(V)},[e(p,{effect:"dark",content:n.$t("visualization.cancel_hidden"),placement:"bottom"},{default:o(()=>[e(B,{style:{"font-size":"16px"}},{default:o(()=>[e(J,{name:"dvHidden"},{default:o(()=>[e(t(ft),{class:"svg-icon"})]),_:1})]),_:1})]),_:1},8,["content"])],8,ja)]))),128)):(l(),H(fn,{key:1,description:n.$t("visualization.no_hidden_components"),"img-type":"noneWhite"},null,8,["description"]))])}}});const za=ne(Aa,[["__scopeId","data-v-721e8870"]]),Oa={style:{height:"100%"}},Fp=ee({__name:"index",setup(j){const i=pn(),d=ht(),{wsCache:C}=_t(),k=T(null),v=T(null),b=S=>{if(S.key==="panel-weight"&&!dn(S.oldValue,S.newValue)){const $=d.resourceId||_e.currentRoute.value.query.resourceId,F=d.opt||_e.currentRoute.value.query.opt;F&&F==="create"||dt(C.get("panel-weight"),$,4)}},_=me(),g=Ie(),y=yo(),n=wo(),{fullscreenFlag:u,componentData:B,curComponent:p,canvasStyleData:r,canvasViewInfo:V,editMode:I,batchOptStatus:w,hiddenListStatus:A,lastHiddenComponent:L,dvInfo:f}=Ce(_),s=T(!1),c=vt(),D=W(()=>c.getIsDataEaseBi),{t:M}=ue(),R=pe({datasetTree:[],sourcePid:null,canvasId:"canvas-main",opt:null,resourceId:null}),Z=()=>{Zo({}).then(S=>{R.datasetTree=S||[]})},N=W(()=>{var S,$,F;return!!(p.value&&(!["UserView","VQuery"].includes((S=p.value)==null?void 0:S.component)||(($=p.value)==null?void 0:$.component)==="UserView"&&((F=p.value)==null?void 0:F.innerType)==="picture-group")&&!w.value&&!A.value)}),ae=W(()=>{var S,$;return((S=p.value)==null?void 0:S.component)==="UserView"?M("visualization.attribute"):(($=p.value)==null?void 0:$.label)||M("visualization.attribute")}),Ee=W(()=>!!(p.value&&["UserView","VQuery"].includes(p.value.component)&&p.value.innerType!=="picture-group"&&!w.value&&!A.value)),Ne=async S=>{if(!window.DataEaseBi||!S)return!0;const $={busiFlag:"dashboard"};return await i.setInteractive($),dt(C.get("panel-weight"),S,4)},De=T(!1),Me=()=>{const S=wt(r.value);S.mobileSetting||(S.mobileSetting={backgroundColorSelect:!1,background:"",color:"#ffffff",backgroundImageEnable:!1,customSetting:!1}),_.setCanvasStyle(S),de(()=>{De.value=!0,_.setCurComponent({component:null,index:null})})},Ve=T(!1),Be=T(!1);let Te=null;const ye=()=>Te(!0),We=S=>{const $=C.get("DE-DV-CATCH-"+R.resourceId);if(S&&$){const F=ge($);g.snapshotPublish(F),s.value=!0,setTimeout(()=>{g.recordSnapshotCache("doUseCache"),g.recordSnapshotCache("renderChart")},1500)}else He(),C.delete("DE-DV-CATCH-"+R.resourceId)},He=()=>{const{resourceId:S,opt:$,sourcePid:F}=R;gt(S,$==="copy"?"dashboard-copy":"dashboard",function(){s.value=!0,f.value&&$==="copy"&&(f.value.dataState="prepare",f.value.optType="copy",f.value.pid=F,setTimeout(()=>{g.recordSnapshotCache("initLocalCanvasData")},1500)),zo({resourceId:S})})};be(async()=>{var ze;_.setCurComponent({component:null,index:null}),_.setHiddenListStatus(!1),g.initSnapShot(),window.location.hash.includes("#/dashboard")&&(Be.value=!0),await new Promise(X=>Te=X),Ve.value=!0,le({name:"mobileConfig",callback:()=>{Me()}}),window.addEventListener("storage",b),window.addEventListener("message",je);const S=d.resourceId||_e.currentRoute.value.query.resourceId,$=d.pid||_e.currentRoute.value.query.pid,F=d.opt||_e.currentRoute.value.query.opt,se=d.createType||_e.currentRoute.value.query.createType,Ae=d.templateParams||_e.currentRoute.value.query.templateParams;if(await Ne(S))if(Z(),R.sourcePid=$,R.opt=F,R.resourceId=S,S)s.value=!1,C.get("DE-DV-CATCH-"+S)?(ze=k.value)==null||ze.dialogInit({canvasType:"dashboard",resourceId:S}):He();else if(F&&F==="create"){s.value=!1;let X;try{await mn().then(ve=>{X=ve.data,X.settingContent=JSON.parse(X.settingContent)})}catch{console.error("can not find watermark info")}let re,Oe;if(se==="template"){const ve=JSON.parse(un.decode(decodeURIComponent(Ae+"")));await Ao(ve,Je=>{var we;re=Je,Oe=(we=re.baseInfo)==null?void 0:we.preName})}de(()=>{_.createInit("dashboard",null,$,X,Oe),se==="template"&&(C.delete("de-template-data"),_.setComponentData(re.componentData),_.setCanvasStyle(re.canvasStyleData),_.setCanvasViewInfo(re.canvasViewInfo),_.setAppDataInfo(re.appData),setTimeout(()=>{g.recordSnapshotCache("template")},1500),_.getAppDataInfo()&&q.emit("save")),s.value=!0,r.value.component.chartTitle.color="#000000"})}else{let X="#/panel/index";window.open(X,"_self")}});const je=S=>{const $=S.data;($==null?void 0:$.targetSourceId)===f.value.id+""&&$.type==="webParams"&&Ge($)},Ge=S=>{const $=S.params;_.addWebParamsFilter($)},fe=W(()=>B.value.filter(S=>!S.dashboardHidden)),qe=S=>{var $;v.value&&(($=L.value)!=null&&$.length&&L.value.includes(S.id)||(S.y=void 0),v.value.addItemBox(S),de(()=>{v.value.canvasInit(!1)}),g.recordSnapshotCache("cancelHidden"))};return Gt(()=>{window.removeEventListener("storage",b),window.removeEventListener("message",je)}),(S,$)=>{const F=Ut,se=at("loading");return l(),x(Q,null,[Ve.value&&!De.value?ce((l(),x("div",{key:0,class:U(["dv-common-layout dv-teleport-query",D.value&&!Be.value&&"dataease-w-h"])},[e(Fn),e(F,{class:U(["dv-layout-container",{"preview-content":t(I)==="preview"}]),"element-loading-background":"rgba(0, 0, 0, 0)"},{default:o(()=>[a("main",{class:U(["center",{"de-screen-full":t(u)}])},[s.value?(l(),H(Xt,{key:0,style:{"overflow-x":"hidden"},ref_key:"deCanvasRef",ref:v,"canvas-id":R.canvasId,"component-data":fe.value,"canvas-style-data":t(r),"canvas-view-info":t(V),"font-family":t(r).fontFamily},null,8,["canvas-id","component-data","canvas-style-data","canvas-view-info","font-family"])):z("",!0)],2),N.value?(l(),H(Fe,{key:0,"theme-info":"light",title:ae.value,width:420,"side-name":"componentProp","aside-position":"right",view:t(V)[t(p).id],element:t(p),class:"left-sidebar"},{default:o(()=>[(l(),H(qt(t(Kt)(t(p))),{themes:"light"}))]),_:1},8,["title","view","element"])):z("",!0),ce(e(Fe,{"theme-info":"light",title:t(M)("visualization.dashboard_configuration"),width:420,"aside-position":"right","side-name":"canvas",class:"left-sidebar"},{default:o(()=>[e(Ba)]),_:1},8,["title"]),[[Pe,!t(p)&&!t(w)&&!t(A)]]),ce(a("div",Oa,[e(Po,{themes:"light",view:t(V)[t(p)?t(p).id:"default"],"dataset-tree":R.datasetTree},null,8,["view","dataset-tree"])],512),[[Pe,Ee.value]]),t(w)?(l(),H(Fe,{key:1,"theme-info":"light",title:t(M)("visualization.batch_style_set"),width:280,"aside-position":"right",class:"left-sidebar","side-name":"batchOpt"},{default:o(()=>[e(cn)]),_:1},8,["title"])):z("",!0),t(A)?(l(),H(Fe,{key:2,"theme-info":"light",title:t(M)("visualization.hidden_components"),width:280,"aside-position":"right",class:"left-sidebar"},{default:o(()=>[e(za,{onCancelHidden:qe})]),_:1},8,["title"])):z("",!0)]),_:1},8,["class"])],2)),[[se,t(y).loadingMap[t(n).currentPath]]]):Ve.value&&De.value?(l(),H(So,{key:1,onPcMode:$[0]||($[0]=Ae=>De.value=!1)})):z("",!0),e(t(tt),{jsname:"L2NvbXBvbmVudC9lbWJlZGRlZC1pZnJhbWUvTmV3V2luZG93SGFuZGxlcg==",onLoaded:ye,onLoadFail:ye}),e(t(tt),{jsname:"L2NvbXBvbmVudC90aHJlc2hvbGQtd2FybmluZy9UaHJlc2hvbGREaWFsb2c="}),e(Co,{ref_key:"canvasCacheOutRef",ref:k,onDoUseCache:We},null,512)],64)}}});export{Fp as default};

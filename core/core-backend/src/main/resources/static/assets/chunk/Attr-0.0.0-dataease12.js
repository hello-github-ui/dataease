import{C as J}from"./CommonAttr-0.0.0-dataease.js";import{d as z}from"./dvMain-0.0.0-dataease.js";import{s as B}from"./pinia-0.0.0-dataease.js";import{d as X,K as ee,B as te,o as oe,O as ae,P as re,w as ie,C as le}from"./element-plus-secondary-0.0.0-dataease.js";import{s as E}from"./snapshot-0.0.0-dataease.js";import{b as me,u as se,i as pe}from"./imgUtils-0.0.0-dataease.js";import{e as O}from"./eventBus-0.0.0-dataease.js";import ne from"./ImgViewDialog-0.0.0-dataease.js";import{j}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{u as g}from"./index-0.0.0-dataease.js";import{d as S,t as U,r as v,k as ue,w as ce,b as R,e as de,ah as fe,o as f,Z as _,_ as i,a0 as m,z as V,u as e,a as he,a2 as C,a4 as D,Y as T,l as _e,n as q,S as ve,c as ge,ad as be}from"./@vue-0.0.0-dataease.js";import{_ as w}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import{B as $}from"./chart-0.0.0-dataease.js";import ye from"./DatasetSelect-0.0.0-dataease.js";import{b as Ve}from"./chart-0.0.0-dataease2.js";import{_ as Ce}from"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import Se from"./Threshold-0.0.0-dataease.js";import{C as we}from"./CollapseSwitchItem-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./attr-0.0.0-dataease20.js";import"./lodash-0.0.0-dataease.js";import"./@amap-0.0.0-dataease.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./mathjs-0.0.0-dataease.js";import"./decimal.js-0.0.0-dataease.js";import"./typed-function-0.0.0-dataease.js";import"./@babel-0.0.0-dataease.js";import"./complex.js-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./vue-demi-0.0.0-dataease.js";import"./mitt-0.0.0-dataease.js";import"./web-storage-cache-0.0.0-dataease.js";import"./vue-types-0.0.0-dataease.js";import"./is-plain-object-0.0.0-dataease.js";import"./@vueuse-0.0.0-dataease.js";import"./@element-plus-0.0.0-dataease.js";import"./lodash-es-0.0.0-dataease.js";import"./dayjs-0.0.0-dataease.js";import"./async-validator-0.0.0-dataease.js";import"./@ctrl-0.0.0-dataease.js";import"./@popperjs-0.0.0-dataease.js";import"./escape-html-0.0.0-dataease.js";import"./normalize-wheel-es-0.0.0-dataease.js";import"./memoize-one-0.0.0-dataease.js";import"./jspdf-0.0.0-dataease.js";import"./fflate-0.0.0-dataease.js";import"./vue-i18n-0.0.0-dataease.js";import"./@intlify-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./qs-0.0.0-dataease.js";import"./side-channel-0.0.0-dataease.js";import"./es-errors-0.0.0-dataease.js";import"./object-inspect-0.0.0-dataease.js";import"./crypto-js-0.0.0-dataease.js";import"./side-channel-list-0.0.0-dataease.js";import"./side-channel-map-0.0.0-dataease.js";import"./get-intrinsic-0.0.0-dataease.js";import"./es-object-atoms-0.0.0-dataease.js";import"./math-intrinsics-0.0.0-dataease.js";import"./gopd-0.0.0-dataease.js";import"./es-define-property-0.0.0-dataease.js";import"./has-symbols-0.0.0-dataease.js";import"./get-proto-0.0.0-dataease.js";import"./dunder-proto-0.0.0-dataease.js";import"./call-bind-apply-helpers-0.0.0-dataease.js";import"./function-bind-0.0.0-dataease.js";import"./hasown-0.0.0-dataease.js";import"./call-bound-0.0.0-dataease.js";import"./side-channel-weakmap-0.0.0-dataease.js";import"./vue-router-0.0.0-dataease.js";import"./vue-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./zrender-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./canvasUtils-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./snowflake-id-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./less-0.0.0-dataease.js";import"./tslib-0.0.0-dataease.js";import"./copy-anything-0.0.0-dataease.js";import"./is-what-0.0.0-dataease.js";import"./ModelUtil-0.0.0-dataease.js";import"./BackgroundOverallCommon-0.0.0-dataease.js";import"./element-resize-detector-0.0.0-dataease.js";import"./batch-processor-0.0.0-dataease.js";import"./board-list-0.0.0-dataease.js";import"./icon_italic_outlined-0.0.0-dataease.js";import"./icon_right-alignment_outlined-0.0.0-dataease.js";import"./index-0.0.0-dataease12.js";import"./formatter-0.0.0-dataease.js";import"./@antv-0.0.0-dataease.js";import"./eventemitter3-0.0.0-dataease.js";import"./@mapbox-0.0.0-dataease.js";import"./pbf-0.0.0-dataease.js";import"./ieee754-0.0.0-dataease.js";import"./supercluster-0.0.0-dataease.js";import"./gl-matrix-0.0.0-dataease.js";import"./topojson-client-0.0.0-dataease.js";import"./viewport-mercator-project-0.0.0-dataease.js";import"./@turf-0.0.0-dataease.js";import"./polygon-clipping-0.0.0-dataease.js";import"./splaytree-0.0.0-dataease.js";import"./robust-predicates-0.0.0-dataease.js";import"./d3-scale-0.0.0-dataease.js";import"./d3-collection-0.0.0-dataease.js";import"./d3-format-0.0.0-dataease.js";import"./d3-time-format-0.0.0-dataease.js";import"./d3-time-0.0.0-dataease.js";import"./d3-color-0.0.0-dataease.js";import"./d3-array-0.0.0-dataease.js";import"./earcut-0.0.0-dataease.js";import"./regl-0.0.0-dataease.js";import"./mapbox-gl-0.0.0-dataease.js";import"./d3-dsv-0.0.0-dataease.js";import"./geojson-vt-0.0.0-dataease.js";import"./hammerjs-0.0.0-dataease.js";import"./d3-hexbin-0.0.0-dataease.js";import"./detect-browser-0.0.0-dataease.js";import"./d3-ease-0.0.0-dataease.js";import"./d3-interpolate-0.0.0-dataease.js";import"./d3-timer-0.0.0-dataease.js";import"./fecha-0.0.0-dataease.js";import"./size-sensor-0.0.0-dataease.js";import"./d3-regression-0.0.0-dataease.js";import"./d3-hierarchy-0.0.0-dataease.js";import"./fmin-0.0.0-dataease.js";import"./pdfast-0.0.0-dataease.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./exceljs-0.0.0-dataease.js";import"./file-saver-0.0.0-dataease.js";import"./dataset-0.0.0-dataease.js";import"./html2canvas-0.0.0-dataease.js";import"./html-to-image-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./LineThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";const ke=S({__name:"PictureGroupUploadAttr",props:{themes:{type:String,default:"dark"},element:{type:Object,default(){return{propValue:{urlList:[]}}}}},setup(t){const{t:s}=j(),l=t,o=z(),a=E(),{element:r}=U(l),{curComponent:p}=B(o),n=v([]),u=v(""),h=v(!1),b=v(!1),F=v(null),M=c=>{u.value=c.url,h.value=!0},N=(c,d)=>{b.value=!1;let k=c.url.split("static-resource/")[1],y=r.value.propValue.urlList.findIndex(x=>x.url.split("static-resource/")[1]===k);y!==-1&&(r.value.propValue.urlList.splice(y,1),g().emitter.emit("calcData-"+r.value.id)),a.recordSnapshotCache("picture-handleRemove")};async function W(c){r.value.propValue.urlList.length<10&&se(c.file,d=>{a.recordSnapshotCache("pic-upload"),r.value.propValue.urlList.unshift({name:c.file.name,url:d}),g().emitter.emit("calcData-"+r.value.id)})}const K=()=>{a.recordSnapshotCache("pic-onStyleChange")},A=()=>{F.value.click()},Q=()=>{n.value=[],r.value.propValue.urlList&&r.value.propValue.urlList.length>0&&r.value.propValue.urlList.forEach(c=>{n.value.push({name:c.name,url:pe(c.url)})})},G=()=>{Q()};return ue(()=>l.themes==="dark"?"ndark":"dark"),ce(()=>r.value.propValue.urlList,()=>{G()}),R(()=>{G(),O.on("uploadImg",A)}),de(()=>{O.off("uploadImg",A)}),(c,d)=>{const k=fe("Plus"),y=ee,x=te,I=oe,L=ae,Y=re,Z=ie,H=le;return f(),_(H,{effect:t.themes,title:e(s)("visualization.pic_group"),name:"picture"},{default:i(()=>[m(I,{class:V(["img-area",`img-area_${t.themes}`])},{default:i(()=>[m(x,{style:{width:"130px !important"}},{default:i(()=>[m(y,{themes:t.themes,limit:10,action:"",accept:".jpeg,.jpg,.png,.gif,.svg",class:V(["avatar-uploader",{disabled:b.value}]),"list-type":"picture-card","on-preview":M,"on-remove":N,"before-upload":e(me),"http-request":W,multiple:"","file-list":n.value},{default:i(()=>[m(e(X),null,{default:i(()=>[m(k)]),_:1})]),_:1},8,["themes","class","before-upload","file-list"]),m(ne,{modelValue:h.value,"onUpdate:modelValue":d[0]||(d[0]=P=>h.value=P),"image-url":u.value},null,8,["modelValue","image-url"])]),_:1})]),_:1},8,["class"]),m(I,null,{default:i(()=>[he("span",{style:{"margin-top":"2px"},class:V(["image-hint",`image-hint_${t.themes}`])},C(e(s)("visualization.pic_upload_tips2")),3)]),_:1}),m(I,{class:"pic-adaptor"},{default:i(()=>[e(p).style.adaptation?(f(),_(Z,{key:0,class:V(["form-item form-item-custom","form-item-"+t.themes]),label:e(s)("visualization.pic_adaptor_type"),size:"small",effect:t.themes},{default:i(()=>[m(Y,{size:"small",modelValue:e(p).style.adaptation,"onUpdate:modelValue":d[1]||(d[1]=P=>e(p).style.adaptation=P),onChange:K,effect:t.themes},{default:i(()=>[m(L,{label:"adaptation",effect:t.themes},{default:i(()=>[D(C(e(s)("visualization.pic_adaptation")),1)]),_:1},8,["effect"]),m(L,{label:"original",effect:t.themes},{default:i(()=>[D(C(e(s)("visualization.pic_original")),1)]),_:1},8,["effect"]),m(L,{label:"equiratio",effect:t.themes},{default:i(()=>[D(C(e(s)("visualization.pic_equiratio")),1)]),_:1},8,["effect"])]),_:1},8,["modelValue","effect"])]),_:1},8,["class","label","effect"])):T("",!0)]),_:1})]),_:1},8,["effect","title"])}}});const xe=w(ke,[["__scopeId","data-v-e5dc2b6d"]]),Ie=S({__name:"PictureGroupDatasetSelect",props:{themes:{type:String,default:"dark"},view:{type:Object,required:!1,default(){return{...$}}}},setup(t){const s=E(),l=t,{view:o}=U(l),a=_e({}),r=()=>{q(()=>{o.value.tableId&&o.value.id?Ve(o.value.tableId,o.value.id,{type:"table-info"}).then(p=>{o.value.xAxis=[],p.quotaList.pop(),o.value.xAxis.push(...p.dimensionList,...p.quotaList);const n=o.value;g().emitter.emit("calcData-"+n.id,n),s.recordSnapshotCache("calc",o.value.id)}).catch(()=>{}):o.value.xAxis=[]})};return(p,n)=>(f(),_(ye,{ref:"datasetSelector",modelValue:e(o).tableId,"onUpdate:modelValue":n[0]||(n[0]=u=>e(o).tableId=u),style:{flex:"1"},"view-id":e(o).id,themes:t.themes,disabled:!e(o).senior.threshold.enable,onOnDatasetChange:r,"state-obj":a},null,8,["modelValue","view-id","themes","disabled","state-obj"]))}});const Le=w(Ie,[["__scopeId","data-v-69acd217"]]),Pe=S({__name:"PictureGroupThreshold",props:{themes:{type:String,default:"dark"},element:{type:Object,default(){return{propValue:{urlList:[]}}}},view:{type:Object,required:!1,default(){return{...$}}}},setup(t){const s=E(),{t:l}=j(),o=t,{view:a,element:r}=U(o),p=u=>{a.value.senior.threshold=u,u.enable&&(r.value.carousel.enable=!1),q(()=>{g().emitter.emit("calcData-"+r.value.id)}),s.recordSnapshotCache("calcData",a.value.id)},n=()=>{a.value.senior.threshold.enable=!1};return R(()=>{g({name:"carouselValueChange",callback:()=>n()})}),(u,h)=>(f(),_(e(we),{effect:t.themes,title:e(l)("chart.threshold"),"change-model":e(a).senior.threshold,modelValue:e(a).senior.threshold.enable,"onUpdate:modelValue":h[0]||(h[0]=b=>e(a).senior.threshold.enable=b),name:"threshold",onModelChange:p},{default:i(()=>[ve(u.$slots,"dataset",{},void 0,!0),m(Se,{themes:t.themes,chart:e(a),"property-inner":["tableThreshold"],onOnThresholdChange:p},null,8,["themes","chart"])]),_:3},8,["effect","title","change-model","modelValue"]))}});const De=w(Pe,[["__scopeId","data-v-ea807c46"]]),Te={class:"attr-list de-collapse-style"},Ee=S({__name:"Attr",props:{themes:{type:String,default:"dark"}},setup(t){const s=z(),{curComponent:l,canvasViewInfo:o,mobileInPc:a,batchOptStatus:r}=B(s);return(p,n)=>(f(),ge("div",Te,[m(J,{themes:t.themes,element:e(l),"background-color-picker-width":197,"background-border-select-width":197},be({default:i(()=>[!e(a)&&!e(r)?(f(),_(xe,{key:0,themes:t.themes,element:e(l)},null,8,["themes","element"])):T("",!0)]),_:2},[e(a)?void 0:{name:"carousel",fn:i(()=>{var u;return[((u=e(l))==null?void 0:u.innerType)==="picture-group"?(f(),_(Ce,{key:0,element:e(l),themes:t.themes},null,8,["element","themes"])):T("",!0)]}),key:"0"},e(a)?void 0:{name:"threshold",fn:i(()=>[m(De,{themes:t.themes,element:e(l),view:e(o)[e(l)?e(l).id:"default"]},{dataset:i(()=>[m(Le,{themes:t.themes,view:e(o)[e(l)?e(l).id:"default"]},null,8,["themes","view"])]),_:1},8,["themes","element","view"])]),key:"1"}]),1032,["themes","element"])]))}});const Ia=w(Ee,[["__scopeId","data-v-283b4331"]]);export{Ia as default};

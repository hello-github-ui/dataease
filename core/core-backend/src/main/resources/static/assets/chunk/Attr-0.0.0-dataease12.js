import{C as X}from"./CommonAttr-0.0.0-dataease.js";import{d as O}from"./dvMain-0.0.0-dataease.js";import{d as S,t as T,ah as z,r as v,G as Y,w as ee,o as B,a as te,e as oe,f,g as _,i as r,k as s,U as V,j as e,M as ae,a6 as C,a5 as D,a0 as P,Z as le,n as R,$ as re,L as ie,aw as se}from"./vue-0.0.0-dataease.js";import{u as g}from"./index-0.0.0-dataease.js";import{E as me}from"./el-collapse-item-0.0.0-dataease.js";import{a as ne}from"./el-form-item-0.0.0-dataease.js";import"./el-radio-group-0.0.0-dataease.js";import{E as pe,a as ue}from"./el-radio-0.0.0-dataease.js";import{E as ce}from"./el-row-0.0.0-dataease.js";import{E as de}from"./el-col-0.0.0-dataease.js";import{E as fe}from"./el-upload-0.0.0-dataease.js";import"./el-progress-0.0.0-dataease.js";import{s as U}from"./snapshot-0.0.0-dataease.js";import{o as $,j as he}from"./ConfigGlobal.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import{b as _e,u as ve,i as ge}from"./imgUtils-0.0.0-dataease.js";import{e as j}from"./eventBus-0.0.0-dataease.js";import be from"./ImgViewDialog-0.0.0-dataease.js";import{_ as w}from"./_plugin-vue_export-helper-0.0.0-dataease.js";import{B as q}from"./chart-0.0.0-dataease.js";import ye from"./DatasetSelect-0.0.0-dataease.js";import{g as Ve}from"./chart-0.0.0-dataease2.js";import{_ as Ce}from"./CarouselSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import Se from"./Threshold-0.0.0-dataease.js";import{C as we}from"./CollapseSwitchItem-0.0.0-dataease.js";import"./CommonBorderSetting.vue_vue_type_script_setup_true_lang-0.0.0-dataease.js";import"./el-form-0.0.0-dataease.js";import"./el-checkbox-0.0.0-dataease.js";import"./lodash-0.0.0-dataease.js";import"./el-input-number-0.0.0-dataease.js";import"./index-0.0.0-dataease17.js";import"./attr-0.0.0-dataease20.js";import"./style-0.0.0-dataease.js";import"./translate-0.0.0-dataease.js";import"./pureFunctionsAny.generated-0.0.0-dataease.js";import"./extends-0.0.0-dataease.js";import"./util-0.0.0-dataease2.js";import"./app-0.0.0-dataease.js";import"./library-0.0.0-dataease.js";import"./axios-0.0.0-dataease.js";import"./echarts-0.0.0-dataease.js";import"./tinymce-0.0.0-dataease.js";import"./canvasUtils-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease2.js";import"./util-0.0.0-dataease.js";import"./dataVisualization-0.0.0-dataease.js";import"./appearance-0.0.0-dataease.js";import"./font-0.0.0-dataease.js";import"./antv-0.0.0-dataease.js";import"./ModelUtil-0.0.0-dataease.js";import"./el-tag-0.0.0-dataease.js";import"./el-select-0.0.0-dataease.js";import"./index-0.0.0-dataease3.js";import"./index-0.0.0-dataease16.js";import"./strings-0.0.0-dataease.js";import"./index-0.0.0-dataease4.js";import"./el-popper-0.0.0-dataease.js";import"./el-radio-button-0.0.0-dataease.js";import"./position-0.0.0-dataease.js";import"./BackgroundOverallCommon-0.0.0-dataease.js";import"./board-list-0.0.0-dataease.js";import"./el-space-0.0.0-dataease.js";import"./el-tooltip-0.0.0-dataease.js";import"./icon_italic_outlined-0.0.0-dataease.js";import"./icon_right-alignment_outlined-0.0.0-dataease.js";import"./el-tabs-0.0.0-dataease.js";import"./index-0.0.0-dataease19.js";import"./formatter-0.0.0-dataease.js";import"./index-0.0.0-dataease20.js";import"./sysParameter-0.0.0-dataease.js";import"./TableTooltip-0.0.0-dataease.js";import"./row-0.0.0-dataease.js";import"./_commonjs-dynamic-modules-0.0.0-dataease.js";import"./dataset-0.0.0-dataease.js";import"./index-0.0.0-dataease13.js";import"./el-dialog-0.0.0-dataease.js";import"./use-dialog-0.0.0-dataease.js";import"./refs-0.0.0-dataease.js";import"./el-popover-0.0.0-dataease.js";import"./dropdown-0.0.0-dataease.js";import"./el-footer-0.0.0-dataease.js";import"./el-aside-0.0.0-dataease.js";import"./el-main-0.0.0-dataease.js";import"./el-tree-0.0.0-dataease.js";import"./dv-folder-0.0.0-dataease.js";import"./icon_dataset-0.0.0-dataease.js";import"./icon_done_outlined-0.0.0-dataease.js";import"./treeSortUtils-0.0.0-dataease.js";import"./index-0.0.0-dataease14.js";import"./icon_info_outlined-0.0.0-dataease.js";import"./icon_edit_outlined-0.0.0-dataease.js";import"./TableThresholdEdit-0.0.0-dataease.js";import"./icon_info_filled-0.0.0-dataease.js";import"./icon_delete-trash_outlined-0.0.0-dataease.js";import"./icon_add_outlined-0.0.0-dataease.js";import"./field-list-0.0.0-dataease.js";import"./TextLabelThresholdEdit-0.0.0-dataease.js";import"./TextThresholdEdit-0.0.0-dataease.js";import"./LineThresholdEdit-0.0.0-dataease.js";import"./PictureGroupThresholdEdit-0.0.0-dataease.js";import"./el-switch-0.0.0-dataease.js";const ke=S({__name:"PictureGroupUploadAttr",props:{themes:{type:String,default:"dark"},element:{type:Object,default(){return{propValue:{urlList:[]}}}}},setup(t){const{t:m}=$(),i=t,o=O(),a=U(),{element:l}=T(i),{curComponent:n}=z(o),p=v([]),u=v(""),h=v(!1),b=v(!1),M=v(null),F=c=>{u.value=c.url,h.value=!0},N=(c,d)=>{b.value=!1;let k=c.url.split("static-resource/")[1],y=l.value.propValue.urlList.findIndex(x=>x.url.split("static-resource/")[1]===k);y!==-1&&(l.value.propValue.urlList.splice(y,1),g().emitter.emit("calcData-"+l.value.id)),a.recordSnapshotCache("picture-handleRemove")};async function W(c){l.value.propValue.urlList.length<10&&ve(c.file,d=>{a.recordSnapshotCache("pic-upload"),l.value.propValue.urlList.unshift({name:c.file.name,url:d}),g().emitter.emit("calcData-"+l.value.id)})}const Q=()=>{a.recordSnapshotCache("pic-onStyleChange")},G=()=>{M.value.click()},Z=()=>{p.value=[],l.value.propValue.urlList&&l.value.propValue.urlList.length>0&&l.value.propValue.urlList.forEach(c=>{p.value.push({name:c.name,url:ge(c.url)})})},A=()=>{Z()};return Y(()=>i.themes==="dark"?"ndark":"dark"),ee(()=>l.value.propValue.urlList,()=>{A()}),B(()=>{A(),j.on("uploadImg",G)}),te(()=>{j.off("uploadImg",G)}),(c,d)=>{const k=oe("Plus"),y=fe,x=de,I=ce,E=pe,H=ue,J=ne,K=me;return f(),_(K,{effect:t.themes,title:e(m)("visualization.pic_group"),name:"picture"},{default:r(()=>[s(I,{class:V(["img-area",`img-area_${t.themes}`])},{default:r(()=>[s(x,{style:{width:"130px !important"}},{default:r(()=>[s(y,{themes:t.themes,limit:10,action:"",accept:".jpeg,.jpg,.png,.gif,.svg",class:V(["avatar-uploader",{disabled:b.value}]),"list-type":"picture-card","on-preview":F,"on-remove":N,"before-upload":e(_e),"http-request":W,multiple:"","file-list":p.value},{default:r(()=>[s(e(he),null,{default:r(()=>[s(k)]),_:1})]),_:1},8,["themes","class","before-upload","file-list"]),s(be,{modelValue:h.value,"onUpdate:modelValue":d[0]||(d[0]=L=>h.value=L),"image-url":u.value},null,8,["modelValue","image-url"])]),_:1})]),_:1},8,["class"]),s(I,null,{default:r(()=>[ae("span",{style:{"margin-top":"2px"},class:V(["image-hint",`image-hint_${t.themes}`])},C(e(m)("visualization.pic_upload_tips2")),3)]),_:1}),s(I,{class:"pic-adaptor"},{default:r(()=>[e(n).style.adaptation?(f(),_(J,{key:0,class:V(["form-item form-item-custom","form-item-"+t.themes]),label:e(m)("visualization.pic_adaptor_type"),size:"small",effect:t.themes},{default:r(()=>[s(H,{size:"small",modelValue:e(n).style.adaptation,"onUpdate:modelValue":d[1]||(d[1]=L=>e(n).style.adaptation=L),onChange:Q,effect:t.themes},{default:r(()=>[s(E,{label:"adaptation",effect:t.themes},{default:r(()=>[D(C(e(m)("visualization.pic_adaptation")),1)]),_:1},8,["effect"]),s(E,{label:"original",effect:t.themes},{default:r(()=>[D(C(e(m)("visualization.pic_original")),1)]),_:1},8,["effect"]),s(E,{label:"equiratio",effect:t.themes},{default:r(()=>[D(C(e(m)("visualization.pic_equiratio")),1)]),_:1},8,["effect"])]),_:1},8,["modelValue","effect"])]),_:1},8,["class","label","effect"])):P("",!0)]),_:1})]),_:1},8,["effect","title"])}}});const xe=w(ke,[["__scopeId","data-v-e5dc2b6d"]]),Ie=S({__name:"PictureGroupDatasetSelect",props:{themes:{type:String,default:"dark"},view:{type:Object,required:!1,default(){return{...q}}}},setup(t){const m=U(),i=t,{view:o}=T(i),a=le({}),l=()=>{R(()=>{o.value.tableId&&o.value.id?Ve(o.value.tableId,o.value.id,{type:"table-info"}).then(n=>{o.value.xAxis=[],n.quotaList.pop(),o.value.xAxis.push(...n.dimensionList,...n.quotaList);const p=o.value;g().emitter.emit("calcData-"+p.id,p),m.recordSnapshotCache("calc",o.value.id)}).catch(()=>{}):o.value.xAxis=[]})};return(n,p)=>(f(),_(ye,{ref:"datasetSelector",modelValue:e(o).tableId,"onUpdate:modelValue":p[0]||(p[0]=u=>e(o).tableId=u),style:{flex:"1"},"view-id":e(o).id,themes:t.themes,disabled:!e(o).senior.threshold.enable,onOnDatasetChange:l,"state-obj":a},null,8,["modelValue","view-id","themes","disabled","state-obj"]))}});const Ee=w(Ie,[["__scopeId","data-v-69acd217"]]),Le=S({__name:"PictureGroupThreshold",props:{themes:{type:String,default:"dark"},element:{type:Object,default(){return{propValue:{urlList:[]}}}},view:{type:Object,required:!1,default(){return{...q}}}},setup(t){const m=U(),{t:i}=$(),o=t,{view:a,element:l}=T(o),n=u=>{a.value.senior.threshold=u,u.enable&&(l.value.carousel.enable=!1),R(()=>{g().emitter.emit("calcData-"+l.value.id)}),m.recordSnapshotCache("calcData",a.value.id)},p=()=>{a.value.senior.threshold.enable=!1};return B(()=>{g({name:"carouselValueChange",callback:()=>p()})}),(u,h)=>(f(),_(e(we),{effect:t.themes,title:e(i)("chart.threshold"),"change-model":e(a).senior.threshold,modelValue:e(a).senior.threshold.enable,"onUpdate:modelValue":h[0]||(h[0]=b=>e(a).senior.threshold.enable=b),name:"threshold",onModelChange:n},{default:r(()=>[re(u.$slots,"dataset",{},void 0,!0),s(Se,{themes:t.themes,chart:e(a),"property-inner":["tableThreshold"],onOnThresholdChange:n},null,8,["themes","chart"])]),_:3},8,["effect","title","change-model","modelValue"]))}});const De=w(Le,[["__scopeId","data-v-ea807c46"]]),Pe={class:"attr-list de-collapse-style"},Te=S({__name:"Attr",props:{themes:{type:String,default:"dark"}},setup(t){const m=O(),{curComponent:i,canvasViewInfo:o,mobileInPc:a,batchOptStatus:l}=z(m);return(n,p)=>(f(),ie("div",Pe,[s(X,{themes:t.themes,element:e(i),"background-color-picker-width":197,"background-border-select-width":197},se({default:r(()=>[!e(a)&&!e(l)?(f(),_(xe,{key:0,themes:t.themes,element:e(i)},null,8,["themes","element"])):P("",!0)]),_:2},[e(a)?void 0:{name:"carousel",fn:r(()=>{var u;return[((u=e(i))==null?void 0:u.innerType)==="picture-group"?(f(),_(Ce,{key:0,element:e(i),themes:t.themes},null,8,["element","themes"])):P("",!0)]}),key:"0"},e(a)?void 0:{name:"threshold",fn:r(()=>[s(De,{themes:t.themes,element:e(i),view:e(o)[e(i)?e(i).id:"default"]},{dataset:r(()=>[s(Ee,{themes:t.themes,view:e(o)[e(i)?e(i).id:"default"]},null,8,["themes","view"])]),_:1},8,["themes","element","view"])]),key:"1"}]),1032,["themes","element"])]))}});const xo=w(Te,[["__scopeId","data-v-283b4331"]]);export{xo as default};
